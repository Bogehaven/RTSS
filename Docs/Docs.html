<!DOCTYPE  html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>Docs</title><style type="text/css"> * {margin:0; padding:0; text-indent:0; }
 h4 { color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 17pt; }
 .s1 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 12pt; }
 .p, p { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; margin:0pt; }
 .s2 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 .s3 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 11pt; }
 .s4 { color: black; font-family:Monaco, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 8.5pt; vertical-align: 4pt; }
 .s5 { color: black; font-family:Monaco, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt; }
 .s6 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 7pt; vertical-align: 4pt; }
 .s7 { color: black; font-family:"Times New Roman", serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 9pt; }
 .s8 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt; }
 .s9 { color: black; font-family:Geneva, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 5.5pt; vertical-align: 3pt; }
 .s10 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 7pt; }
 .a, a { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 7pt; }
 .s11 { color: black; font-family:"Times New Roman", serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 7pt; }
 .s12 { color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 7pt; }
 .s13 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 8pt; }
 .s15 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 8pt; }
 .s16 { color: black; font-family:Monaco, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt; }
 .s17 { color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 7.5pt; }
 .s18 { color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 8pt; }
 .s19 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt; }
 .s20 { color: black; font-family:Arial, sans-serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 9pt; }
 .s21 { color: black; font-family:"Times New Roman", serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 7pt; vertical-align: -2pt; }
 .s22 { color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt; }
 .s23 { color: black; font-family:"DejaVu Sans", serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 9pt; }
 .s24 { color: black; font-family:"DejaVu Sans", serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 7pt; vertical-align: 4pt; }
 .s25 { color: black; font-family:"DejaVu Sans", serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 9pt; }
 .s26 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 7pt; vertical-align: -1pt; }
 .s27 { color: black; font-family:"Times New Roman", serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 7pt; vertical-align: -1pt; }
 .s28 { color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 7pt; vertical-align: -1pt; }
 .s29 { color: black; font-family:"Times New Roman", serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 7pt; vertical-align: 4pt; }
 .s30 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 6pt; vertical-align: -1pt; }
 .s31 { color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 5pt; }
 .s32 { color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 4.5pt; }
 .s33 { color: black; font-family:"Courier New", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt; }
 .s34 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt; }
 .s35 { color: #2121FF; font-family:"Courier New", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 8pt; }
 .s36 { color: black; font-family:"Courier New", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 8pt; }
 .s37 { color: black; font-family:"Courier New", serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 8pt; }
 .s38 { color: black; font-family:"Courier New", serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 9pt; }
 .s39 { color: black; font-family:"Times New Roman", serif; font-style: italic; font-weight: normal; text-decoration: underline; font-size: 9pt; }
 .s40 { color: black; font-family:Monaco, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 8pt; }
 .s41 { color: black; font-family:"Courier New", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 8pt; }
 .s42 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 6pt; vertical-align: 3pt; }
 .s43 { color: black; font-family:"Times New Roman", serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 7pt; vertical-align: 4pt; }
 .s44 { color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 7pt; vertical-align: 4pt; }
 .s45 { color: black; font-family:Monaco, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt; vertical-align: -4pt; }
 .s46 { color: black; font-family:"DejaVu Sans", serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 7pt; }
 .s47 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 7pt; vertical-align: -2pt; }
 .s48 { color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; vertical-align: 11pt; }
 .s49 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 7pt; vertical-align: 3pt; }
 .s50 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 7pt; vertical-align: 3pt; }
 .s51 { color: black; font-family:"Times New Roman", serif; font-style: italic; font-weight: normal; text-decoration: underline; font-size: 7pt; vertical-align: 3pt; }
 .s52 { color: black; font-family:"Times New Roman", serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 7pt; vertical-align: 3pt; }
 .s53 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 7pt; vertical-align: 4pt; }
 .s54 { color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 7pt; vertical-align: 4pt; }
 .s55 { color: black; font-family:"Times New Roman", serif; font-style: italic; font-weight: normal; text-decoration: underline; font-size: 7pt; vertical-align: 4pt; }
 .s56 { color: black; font-family:"DejaVu Sans", serif; font-style: italic; font-weight: normal; text-decoration: underline; font-size: 7pt; vertical-align: 4pt; }
 .s57 { color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; vertical-align: 11pt; }
 .s58 { color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 5.5pt; }
 .s59 { color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 3.5pt; }
 .s60 { color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt; vertical-align: -4pt; }
 .s61 { color: black; font-family:"Times New Roman", serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 9pt; vertical-align: -4pt; }
 .s62 { color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 3.5pt; }
 .s63 { color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 5.5pt; }
 .s64 { color: black; font-family:Arial, sans-serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 5.5pt; vertical-align: 7pt; }
 .s65 { color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 3pt; }
 .s66 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 8pt; }
 .s67 { color: black; font-family:"Courier New", serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 8pt; }
 .s68 { color: black; font-family:"DejaVu Sans", serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 5.5pt; vertical-align: 3pt; }
 .s69 { color: black; font-family:Monaco, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 7.5pt; }
 .s70 { color: black; font-family:"Times New Roman", serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 7.5pt; vertical-align: -3pt; }
 .s71 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 6.5pt; }
 .s72 { color: black; font-family:"Times New Roman", serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 7.5pt; }
 .s73 { color: black; font-family:"DejaVu Sans", serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 7.5pt; }
 .s74 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 6.5pt; vertical-align: 3pt; }
 .s75 { color: black; font-family:"DejaVu Sans", serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 7.5pt; vertical-align: -3pt; }
 .s76 { color: black; font-family:Monaco, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 7.5pt; }
 .s77 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 5pt; }
 .s78 { color: #007F00; font-family:"Courier New", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 8pt; }
 .s80 { color: #7F0000; font-family:"Courier New", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 8pt; }
 .s82 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 24.5pt; }
 .s83 { color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 24.5pt; }
 .s84 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 6.5pt; vertical-align: 3pt; }
 .s85 { color: black; font-family:"Apple Symbols", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt; }
 .s86 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt; vertical-align: 2pt; }
 .s87 { color: black; font-family:"Times New Roman", serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 10pt; }
 .s88 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt; vertical-align: -5pt; }
 .s89 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 6pt; vertical-align: -6pt; }
 .s91 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt; vertical-align: 1pt; }
 .s92 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 6pt; }
 .s93 { color: black; font-family:"DejaVu Sans", serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 10pt; }
 .s94 { color: black; font-family:"Arial Unicode MS", sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 .s95 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 6.5pt; vertical-align: -1pt; }
 .s96 { color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 .s97 { color: black; font-family:"Times New Roman", serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 6.5pt; vertical-align: -1pt; }
 .s98 { color: black; font-family:"Times New Roman", serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 6.5pt; vertical-align: 3pt; }
 .s99 { color: black; font-family:"DejaVu Sans", serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 7pt; vertical-align: -1pt; }
 .s100 { color: black; font-family:"DejaVu Sans", serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 7pt; vertical-align: 3pt; }
 .s101 { color: black; font-family:"Times New Roman", serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 7pt; vertical-align: 2pt; }
 .s102 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 10pt; }
 .s104 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 6.5pt; vertical-align: -1pt; }
 .s105 { color: black; font-family:"DejaVu Sans", serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 7pt; vertical-align: -2pt; }
 .s106 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 7pt; vertical-align: 1pt; }
 .s107 { color: black; font-family:"Times New Roman", serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 7pt; vertical-align: 1pt; }
 .s108 { color: black; font-family:"Times New Roman", serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 5pt; }
 .s109 { color: black; font-family:"DejaVu Sans", serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 7pt; vertical-align: -1pt; }
 .s110 { color: black; font-family:"Times New Roman", serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 7pt; vertical-align: -2pt; }
 .s111 { color: black; font-family:"DejaVu Sans", serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 7pt; vertical-align: 3pt; }
 .s112 { color: black; font-family:"Arial Unicode MS", sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 24.5pt; }
 .s113 { color: #F00; font-family:"Times New Roman", serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 7pt; vertical-align: 1pt; }
 .s114 { color: #F00; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 7pt; vertical-align: 1pt; }
 .s115 { color: black; font-family:"Times New Roman", serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 6pt; }
 .s117 { color: #F00; font-family:"Times New Roman", serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 7pt; }
 .s118 { color: #F00; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 7pt; }
 .s119 { color: #F00; font-family:"DejaVu Sans", serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 7pt; }
 .s120 { color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 12pt; }
 .s121 { color: black; font-family:"Times New Roman", serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 12pt; }
 .s122 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 14pt; }
 .s123 { color: #0F0; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 7pt; }
 .s124 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt; }
 .s126 { color: black; font-family:"Times New Roman", serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 6pt; vertical-align: 3pt; }
 .s127 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 8.5pt; }
 .s128 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 8.5pt; }
 .s129 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 8pt; }
 .s130 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 4pt; }
 .s131 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 6pt; }
 .s132 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 6pt; vertical-align: 2pt; }
 .s133 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; vertical-align: 2pt; }
 .s134 { color: black; font-family:"DejaVu Sans", serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 7pt; vertical-align: 1pt; }
 .s135 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; vertical-align: -1pt; }
 .s136 { color: black; font-family:"Times New Roman", serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 10pt; }
 .s137 { color: black; font-family:"Times New Roman", serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 7pt; vertical-align: -1pt; }
 .s138 { color: black; font-style: normal; font-weight: normal; text-decoration: none; vertical-align: 12pt; }
 .s139 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 5.5pt; }
 .s140 { color: black; font-family:Symbol; font-style: normal; font-weight: normal; text-decoration: none; font-size: 5.5pt; }
 .s141 { color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt; vertical-align: -1pt; }
 .s142 { color: black; font-family:Georgia-BoldItalic, serif; font-style: italic; font-weight: bold; text-decoration: none; font-size: 6pt; }
 .s143 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 6pt; }
 .s144 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 7.5pt; vertical-align: 4pt; }
 .s145 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 7.5pt; }
 .s146 { color: black; font-family:Georgia-BoldItalic, serif; font-style: italic; font-weight: bold; text-decoration: none; font-size: 6pt; vertical-align: 3pt; }
 .s147 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 6.5pt; }
 .s148 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 6.5pt; }
 .s149 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 7.5pt; }
 .s150 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 .s151 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 7pt; }
 .s152 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 7.5pt; vertical-align: -4pt; }
 .s153 { color: black; font-family:"Times New Roman", serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 10pt; }
 .s154 { color: #893860; font-family:Helvetica, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 7pt; }
 .s155 { color: #30648B; font-family:Helvetica, sans-serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 7pt; }
 .s156 { color: #893860; font-family:Helvetica, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 7pt; vertical-align: 4pt; }
 .s157 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt; }
 .s158 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 6pt; }
 .s159 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 6pt; }
 .s160 { color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt; }
 .s161 { color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 6pt; }
 .s162 { color: black; font-family:Helvetica, sans-serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 6pt; }
 .s163 { color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt; vertical-align: -3pt; }
 .s164 { color: black; font-family:"DejaVu Sans", serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 7pt; vertical-align: 2pt; }
 .s165 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 5.5pt; }
 .s166 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 5pt; }
 .s167 { color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt; vertical-align: 3pt; }
 .s168 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 5.5pt; vertical-align: -3pt; }
 .s169 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 5pt; vertical-align: 3pt; }
 .s170 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 5.5pt; vertical-align: -2pt; }
 .s171 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 6pt; vertical-align: -3pt; }
 .s172 { color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 12pt; }
 .s173 { color: #FFF; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 5pt; }
 .s174 { color: #0000B2; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 .s175 { color: #B72D05; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt; }
 .s176 { color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 9pt; }
 .s177 { color: #0000B2; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt; }
 .s178 { color: #FFF; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 5pt; vertical-align: 3pt; }
 .s179 { color: #FFF; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 6pt; vertical-align: -1pt; }
 .s180 { color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 7.5pt; }
 .s181 { color: black; font-family:Arial, sans-serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 7.5pt; vertical-align: -3pt; }
 .s182 { color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 5pt; }
 .s183 { color: black; font-family:Geneva, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 5pt; }
 .s185 { color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 5pt; vertical-align: 3pt; }
 .s186 { color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 4pt; }
 .s187 { color: #FFF; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 5pt; vertical-align: -3pt; }
 .s188 { color: #00B200; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt; vertical-align: -2pt; }
 .s189 { color: #00B200; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt; }
 .s190 { color: #00B200; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt; vertical-align: -6pt; }
 .s191 { color: #0000B2; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt; vertical-align: -6pt; }
 .s192 { color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 11pt; }
 .s193 { color: #0000B2; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt; vertical-align: 1pt; }
 .s194 { color: #0000B2; font-family:"Courier New", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt; }
 .s195 { color: #0000B2; font-family:Arial, sans-serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 9pt; }
 .s196 { color: #0000B2; font-family:"DejaVu Sans", serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 9pt; }
 h1 { color: #369; font-family:Verdana, sans-serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 36pt; }
 .s197 { color: black; font-family:Verdana, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 24pt; }
 .s198 { color: #2F5F8F; font-family:Verdana, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 36pt; }
 .s199 { color: black; font-family:Verdana, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 30pt; }
 .s200 { color: black; font-family:Verdana, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 26pt; }
 .s201 { color: #2F5F8F; font-family:Verdana, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 30pt; }
 .s202 { color: #2F5F8F; font-family:Verdana, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 25pt; }
 .s203 { color: #2F5F8F; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 25pt; vertical-align: -4pt; }
 .s204 { color: black; font-family:Verdana, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 23.5pt; }
 .s205 { color: black; font-family:Verdana, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 20.5pt; }
 .s206 { color: black; font-family:Verdana, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 28.5pt; }
 .s207 { color: black; font-style: normal; font-weight: normal; text-decoration: none; }
 .s208 { color: black; font-family:Verdana, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 26.5pt; }
 .s209 { color: black; font-family:Verdana, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 22.5pt; }
 .s210 { color: black; font-family:Verdana, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 21pt; }
 .s211 { color: black; font-family:DejaVuSans, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 14pt; }
 .s212 { color: black; font-family:DejaVuSans, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; vertical-align: -2pt; }
 .s213 { color: black; font-family:"DejaVu Sans", serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 13pt; }
 .s214 { color: black; font-family:DejaVuSans, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 13pt; }
 .s215 { color: black; font-family:"DejaVu Sans", serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 14pt; }
 .s216 { color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 34pt; }
 .s217 { color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 23pt; }
 .s218 { color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 23pt; }
 .s219 { color: black; font-family:Wingdings; font-style: normal; font-weight: normal; text-decoration: none; font-size: 22pt; }
 .s220 { color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 22pt; }
 .s221 { color: black; font-family:Wingdings; font-style: normal; font-weight: normal; text-decoration: none; font-size: 22pt; vertical-align: 1pt; }
 .s222 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 22pt; vertical-align: 1pt; }
 .s223 { color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 22pt; }
 .s224 { color: #F9FCFD; font-family:Verdana-BoldItalic, sans-serif; font-style: italic; font-weight: bold; text-decoration: none; font-size: 9pt; }
 .s225 { color: #F9FCFD; font-family:Verdana, sans-serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 9pt; }
 .s226 { color: #FFF; font-family:Verdana, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 .s227 { color: #921867; font-family:"DejaVu Sans", serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 18pt; }
 .s228 { color: black; font-family:DejaVuSans, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 18pt; }
 .s229 { color: #921867; font-family:"DejaVu Sans", serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 16pt; }
 .s230 { color: black; font-family:"DejaVu Sans", serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 16pt; }
 h3 { color: black; font-family:Verdana, sans-serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 18pt; }
 .s231 { color: black; font-family:Verdana, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 18pt; }
 .s232 { color: black; font-family:DejaVuSans, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 16pt; }
 .s233 { color: black; font-family:DejaVuSans, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 16pt; vertical-align: -2pt; }
 .s235 { color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 24pt; }
 .s236 { color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt; }
 .s238 { color: #FFF; font-family:Verdana, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; vertical-align: -3pt; }
 .s239 { color: black; font-family:Verdana, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 28pt; }
 .s240 { color: #669BD5; font-family:DejaVuSans, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 18pt; }
 h2 { color: black; font-family:Verdana, sans-serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 20pt; }
 .s241 { color: black; font-family:Verdana, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 29.5pt; }
 .s242 { color: black; font-family:Verdana, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 25.5pt; }
 .s244 { color: black; font-family:Verdana, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 27pt; }
 .s245 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9.5pt; }
 .s246 { color: #131413; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 8.5pt; }
 .s247 { color: #131413; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 16pt; }
 .s249 { color: #131413; font-family:"Times New Roman", serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 10pt; }
 .s250 { color: #131413; font-family:Arial, sans-serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 10pt; }
 .s251 { color: #131413; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 .s252 { color: #131413; font-family:"Arial Unicode MS", sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 .s254 { color: #131413; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 10pt; }
 .s255 { color: #131413; font-family:"Arial Unicode MS", sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 8.5pt; }
 .s256 { color: #131413; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 12pt; }
 .s257 { color: #131413; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 8.5pt; }
 .s258 { color: #131413; font-family:"Times New Roman", serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 10pt; }
 .s259 { color: #131413; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 6.5pt; vertical-align: -1pt; }
 .s260 { color: #131413; font-family:Helvetica, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt; }
 .s261 { color: black; font-family:Arial, sans-serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 8.5pt; vertical-align: 1pt; }
 .s262 { color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 8.5pt; vertical-align: 1pt; }
 .s263 { color: #131413; font-family:"Times New Roman", serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 8.5pt; }
 .s264 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 10pt; }
 .s265 { color: #42A0A8; font-family:Helvetica, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 6pt; }
 .s266 { color: #8C3863; font-family:Helvetica, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 6pt; }
 .s268 { color: black; font-family:"DejaVu Sans", serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 7.5pt; }
 .s269 { color: #131413; font-family:"Times New Roman", serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 8.5pt; }
 .s270 { color: black; font-family:Helvetica, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 7pt; }
 .s271 { color: black; font-family:Helvetica, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 8pt; }
 .s272 { color: #131413; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 5.5pt; vertical-align: -1pt; }
 .s273 { color: #131413; font-family:Helvetica, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 7.5pt; }
 .s274 { color: #131413; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 6.5pt; vertical-align: -1pt; }
 .s275 { color: #131413; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 8.5pt; }
 .s276 { color: #131413; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 6.5pt; vertical-align: 3pt; }
 .s277 { color: #131413; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 7.5pt; vertical-align: 3pt; }
 .s278 { color: #131413; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 .s280 { color: #00F; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 .s281 { color: #131413; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 7.5pt; }
 .s282 { color: #131413; font-family:"Times New Roman", serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 7.5pt; }
 .s283 { color: #131413; font-family:"Arial Unicode MS", sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 7.5pt; }
 .s284 { color: #131413; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 7.5pt; vertical-align: 2pt; }
 .s285 { color: #8C3863; font-family:Helvetica, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 7.5pt; }
 .s286 { color: #42A848; font-family:Helvetica, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 7.5pt; }
 .s287 { color: #42A0A8; font-family:Helvetica, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 7.5pt; }
 .s288 { color: #A3A842; font-family:Helvetica, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 7.5pt; }
 .s290 { color: #131413; font-family:"Times New Roman", serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 7.5pt; vertical-align: -2pt; }
 .s291 { color: #131413; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 6pt; }
 .s293 { color: #131413; font-family:"Arial Unicode MS", sans-serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 6.5pt; vertical-align: 3pt; }
 .s294 { color: black; font-family:Helvetica, sans-serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 8.5pt; }
 .s295 { color: black; font-family:Helvetica, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 6pt; }
 .s296 { color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 8pt; vertical-align: -1pt; }
 .s297 { color: black; font-family:Helvetica, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 8.5pt; }
 .s298 { color: #131413; font-family:"Times New Roman", serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 7.5pt; vertical-align: 4pt; }
 .s299 { color: #131413; font-family:"Times New Roman", serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 10pt; }
 .s300 { color: #131413; font-family:"Times New Roman", serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 6.5pt; vertical-align: -1pt; }
 .s301 { color: #131413; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 .s302 { color: #131413; font-family:"Arial Unicode MS", sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 6.5pt; vertical-align: -1pt; }
 .s303 { color: #131413; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 7.5pt; vertical-align: -1pt; }
 .s305 { color: #00F; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 .s306 { color: #131413; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 6.5pt; vertical-align: 3pt; }
 .s307 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; vertical-align: 31pt; }
 .s308 { color: #131413; font-family:TimesNewRomanPS-BoldItalicMT, serif; font-style: italic; font-weight: bold; text-decoration: none; font-size: 6.5pt; vertical-align: -1pt; }
 .s309 { color: #131413; font-family:TimesNewRomanPS-BoldItalicMT, serif; font-style: italic; font-weight: bold; text-decoration: none; font-size: 10pt; }
 .s310 { color: #131413; font-family:Helvetica, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 6pt; vertical-align: -1pt; }
 .s311 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; vertical-align: 38pt; }
 .s312 { color: #131413; font-family:"Arial Unicode MS", sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 6.5pt; vertical-align: 3pt; }
 .s313 { color: #131413; font-family:"Hiragino Maru Gothic ProN", sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; vertical-align: 7pt; }
 .s314 { color: #131413; font-family:"Times New Roman", serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 7.5pt; vertical-align: -3pt; }
 .s315 { color: #131413; font-family:"Arial Unicode MS", sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 7.5pt; vertical-align: -3pt; }
 .s316 { color: #131413; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 7.5pt; vertical-align: -3pt; }
 .s317 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 10pt; vertical-align: -1pt; }
 .s318 { color: #131413; font-family:Helvetica, sans-serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 9pt; }
 .s319 { color: #131413; font-family:Helvetica, sans-serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 9pt; }
 .s320 { color: #131413; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 6pt; vertical-align: -1pt; }
 .s322 { color: black; font-family:"DejaVu Sans", serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 16.5pt; }
 .s323 { color: black; font-family:"DejaVu Sans", serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 15.5pt; }
 .s324 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; vertical-align: 7pt; }
 .s325 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 11pt; }
 .s326 { color: #131413; font-family:"Times New Roman", serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 7.5pt; vertical-align: 7pt; }
 .s327 { color: #131413; font-family:"Hiragino Maru Gothic ProN", sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; vertical-align: 12pt; }
 .s328 { color: #131413; font-family:"Hiragino Maru Gothic ProN", sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 .s329 { color: #131413; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 10pt; vertical-align: 7pt; }
 .s331 { color: #131413; font-family:"Times New Roman", serif; font-style: italic; font-weight: normal; text-decoration: underline; font-size: 10pt; vertical-align: 7pt; }
 .s332 { color: #131413; font-family:"Arial Unicode MS", sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; vertical-align: 7pt; }
 .s333 { color: #131413; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; vertical-align: 5pt; }
 .s334 { color: #131413; font-family:"Times New Roman", serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 10pt; vertical-align: 5pt; }
 .s335 { color: #131413; font-family:"Hiragino Maru Gothic ProN", sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; vertical-align: -3pt; }
 .s336 { color: #131413; font-family:"Hiragino Maru Gothic ProN", sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; vertical-align: -6pt; }
 .s337 { color: #131413; font-family:"Arial Unicode MS", sans-serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 10pt; }
 .s338 { color: #131413; font-family:"Times New Roman", serif; font-style: italic; font-weight: normal; text-decoration: underline; font-size: 10pt; }
 .s339 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; vertical-align: 4pt; }
 li {display: block; }
 #l1 {padding-left: 0pt; }
 #l1> li>*:first-child:before {content: "• "; color: black; font-family:Monaco, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt; }
 li {display: block; }
 #l2 {padding-left: 0pt;counter-reset: d1 1; }
 #l2> li>*:first-child:before {counter-increment: d1; content: counter(d1, decimal)" "; color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 11pt; }
 #l2> li:first-child>*:first-child:before {counter-increment: d1 0;  }
 #l3 {padding-left: 0pt; }
 #l3> li>*:first-child:before {content: "• "; color: black; font-family:"DejaVu Sans", serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 9pt; }
 #l4 {padding-left: 0pt;counter-reset: d2 1; }
 #l4> li>*:first-child:before {counter-increment: d2; content: counter(d1, decimal)"."counter(d2, decimal)" "; color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 11pt; }
 #l4> li:first-child>*:first-child:before {counter-increment: d2 0;  }
 #l5 {padding-left: 0pt;counter-reset: d2 1; }
 #l5> li>*:first-child:before {counter-increment: d2; content: counter(d1, decimal)"."counter(d2, decimal)" "; color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 11pt; }
 #l5> li:first-child>*:first-child:before {counter-increment: d2 0;  }
 #l6 {padding-left: 0pt;counter-reset: d2 1; }
 #l6> li>*:first-child:before {counter-increment: d2; content: counter(d1, decimal)"."counter(d2, decimal)" "; color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 11pt; }
 #l6> li:first-child>*:first-child:before {counter-increment: d2 0;  }
 #l7 {padding-left: 0pt; }
 #l7> li>*:first-child:before {content: "• "; color: black; font-family:"DejaVu Sans", serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 9pt; }
 #l8 {padding-left: 0pt; }
 #l8> li>*:first-child:before {content: "* "; color: black; font-family:"Courier New", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 8pt; }
 #l9 {padding-left: 0pt; }
 #l9> li>*:first-child:before {content: "* "; color: black; font-family:"Courier New", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 8pt; }
 #l10 {padding-left: 0pt;counter-reset: d2 1; }
 #l10> li>*:first-child:before {counter-increment: d2; content: counter(d1, decimal)"."counter(d2, decimal)" "; color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 11pt; }
 #l10> li:first-child>*:first-child:before {counter-increment: d2 0;  }
 #l11 {padding-left: 0pt;counter-reset: d2 1; }
 #l11> li>*:first-child:before {counter-increment: d2; content: counter(d1, decimal)"."counter(d2, decimal)" "; color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 11pt; }
 #l11> li:first-child>*:first-child:before {counter-increment: d2 0;  }
 #l12 {padding-left: 0pt; }
 #l12> li>*:first-child:before {content: "- "; color: black; font-family:"Courier New", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 8pt; }
 #l13 {padding-left: 0pt;counter-reset: d2 1; }
 #l13> li>*:first-child:before {counter-increment: d2; content: counter(d1, decimal)"."counter(d2, decimal)" "; color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 11pt; }
 #l13> li:first-child>*:first-child:before {counter-increment: d2 0;  }
 li {display: block; }
 #l14 {padding-left: 0pt;counter-reset: h1 1; }
 #l14> li>*:first-child:before {counter-increment: h1; content: "("counter(h1, decimal)") "; color: black; font-family:Monaco, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt; }
 #l14> li:first-child>*:first-child:before {counter-increment: h1 0;  }
 li {display: block; }
 #l15 {padding-left: 0pt;counter-reset: i1 1; }
 #l15> li>*:first-child:before {counter-increment: i1; content: counter(i1, upper-latin)" "; color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 11pt; }
 #l15> li:first-child>*:first-child:before {counter-increment: i1 0;  }
 #l16 {padding-left: 0pt;counter-reset: j1 1; }
 #l16> li>*:first-child:before {counter-increment: j1; content: "["counter(j1, decimal)"] "; color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 7pt; }
 #l16> li:first-child>*:first-child:before {counter-increment: j1 0;  }
 #l17 {padding-left: 0pt;counter-reset: i2 1; }
 #l17> li>*:first-child:before {counter-increment: i2; content: counter(i2, decimal)" "; color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 12pt; }
 #l17> li:first-child>*:first-child:before {counter-increment: i2 0;  }
 #l18 {padding-left: 0pt;counter-reset: i3 1; }
 #l18> li>*:first-child:before {counter-increment: i3; content: counter(i2, decimal)"."counter(i3, decimal)" "; color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 #l18> li:first-child>*:first-child:before {counter-increment: i3 0;  }
 #l19 {padding-left: 0pt;counter-reset: i3 1; }
 #l19> li>*:first-child:before {counter-increment: i3; content: counter(i2, decimal)"."counter(i3, decimal)" "; color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 #l19> li:first-child>*:first-child:before {counter-increment: i3 0;  }
 #l20 {padding-left: 0pt;counter-reset: i4 1; }
 #l20> li>*:first-child:before {counter-increment: i4; content: "("counter(i4, lower-latin)") "; color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt; }
 #l20> li:first-child>*:first-child:before {counter-increment: i4 0;  }
 #l21 {padding-left: 0pt; }
 #l21> li>*:first-child:before {content: "– "; color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 #l22 {padding-left: 0pt;counter-reset: i3 1; }
 #l22> li>*:first-child:before {counter-increment: i3; content: counter(i2, decimal)"."counter(i3, decimal)" "; color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 #l22> li:first-child>*:first-child:before {counter-increment: i3 0;  }
 li {display: block; }
 #l23 {padding-left: 0pt;counter-reset: l1 1; }
 #l23> li>*:first-child:before {counter-increment: l1; content: counter(l1, decimal)" "; color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 12pt; }
 #l23> li:first-child>*:first-child:before {counter-increment: l1 0;  }
 #l24 {padding-left: 0pt;counter-reset: l2 1; }
 #l24> li>*:first-child:before {counter-increment: l2; content: counter(l1, decimal)"."counter(l2, decimal)" "; color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 #l24> li:first-child>*:first-child:before {counter-increment: l2 0;  }
 #l25 {padding-left: 0pt; }
 #l25> li>*:first-child:before {content: "– "; color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 #l26 {padding-left: 0pt;counter-reset: l2 1; }
 #l26> li>*:first-child:before {counter-increment: l2; content: counter(l1, decimal)"."counter(l2, decimal)" "; color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 #l26> li:first-child>*:first-child:before {counter-increment: l2 0;  }
 #l27 {padding-left: 0pt;counter-reset: l2 1; }
 #l27> li>*:first-child:before {counter-increment: l2; content: counter(l1, decimal)"."counter(l2, decimal)" "; color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 #l27> li:first-child>*:first-child:before {counter-increment: l2 0;  }
 #l28 {padding-left: 0pt; }
 #l28> li>*:first-child:before {content: "– "; color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 #l29 {padding-left: 0pt;counter-reset: l2 1; }
 #l29> li>*:first-child:before {counter-increment: l2; content: counter(l1, decimal)"."counter(l2, decimal)" "; color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 #l29> li:first-child>*:first-child:before {counter-increment: l2 0;  }
 #l30 {padding-left: 0pt;counter-reset: l2 1; }
 #l30> li>*:first-child:before {counter-increment: l2; content: counter(l1, decimal)"."counter(l2, decimal)" "; color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 #l30> li:first-child>*:first-child:before {counter-increment: l2 0;  }
 #l31 {padding-left: 0pt;counter-reset: n1 1; }
 #l31> li>*:first-child:before {counter-increment: n1; content: counter(n1, decimal)". "; color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 #l31> li:first-child>*:first-child:before {counter-increment: n1 0;  }
 #l32 {padding-left: 0pt;counter-reset: l2 1; }
 #l32> li>*:first-child:before {counter-increment: l2; content: counter(l1, decimal)"."counter(l2, decimal)" "; color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 #l32> li:first-child>*:first-child:before {counter-increment: l2 0;  }
 #l33 {padding-left: 0pt; }
 #l33> li>*:first-child:before {content: "– "; color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 li {display: block; }
 #l34 {padding-left: 0pt; }
 #l34> li>*:first-child:before {content: "– "; color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 li {display: block; }
 #l35 {padding-left: 0pt;counter-reset: q1 1; }
 #l35> li>*:first-child:before {counter-increment: q1; content: counter(q1, decimal)". "; color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt; }
 #l35> li:first-child>*:first-child:before {counter-increment: q1 0;  }
 li {display: block; }
 #l36 {padding-left: 0pt; }
 #l36> li>*:first-child:before {content: "• "; color: black; font-family:Arial, sans-serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 8pt; }
 #l37 {padding-left: 0pt; }
 #l37> li>*:first-child:before {content: "• "; color: black; font-family:"DejaVu Sans", serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 7pt; }
 #l38 {padding-left: 0pt; }
 #l38> li>*:first-child:before {content: "• "; color: black; font-family:"DejaVu Sans", serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 7pt; }
 #l39 {padding-left: 0pt; }
 #l39> li>*:first-child:before {content: "• "; color: black; font-family:"DejaVu Sans", serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 7pt; }
 li {display: block; }
 #l40 {padding-left: 0pt; }
 #l40> li>*:first-child:before {content: "• "; color: black; font-family:Arial, sans-serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 8pt; }
 li {display: block; }
 #l41 {padding-left: 0pt; }
 #l41> li>*:first-child:before {content: "• "; color: black; font-family:Arial, sans-serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 8pt; }
 li {display: block; }
 #l42 {padding-left: 0pt; }
 #l42> li>*:first-child:before {content: " "; color: black; font-family:Wingdings; font-style: normal; font-weight: normal; text-decoration: none; vertical-align: 2pt; }
 #l43 {padding-left: 0pt; }
 #l43> li>*:first-child:before {content: " "; color: black; font-family:Wingdings; font-style: normal; font-weight: normal; text-decoration: none; vertical-align: 1pt; }
 #l44 {padding-left: 0pt; }
 #l44> li>*:first-child:before {content: " "; color: black; font-family:Wingdings; font-style: normal; font-weight: normal; text-decoration: none; vertical-align: 1pt; }
 #l45 {padding-left: 0pt; }
 #l45> li>*:first-child:before {content: " "; color: black; font-family:Wingdings; font-style: normal; font-weight: normal; text-decoration: none; vertical-align: 1pt; }
 #l46 {padding-left: 0pt; }
 #l46> li>*:first-child:before {content: " "; color: black; font-family:Wingdings; font-style: normal; font-weight: normal; text-decoration: none; vertical-align: 1pt; }
 #l47 {padding-left: 0pt; }
 #l47> li>*:first-child:before {content: " "; color: black; font-family:Wingdings; font-style: normal; font-weight: normal; text-decoration: none; vertical-align: 1pt; }
 #l48 {padding-left: 0pt; }
 #l48> li>*:first-child:before {content: " "; color: black; font-family:Wingdings; font-style: normal; font-weight: normal; text-decoration: none; vertical-align: 1pt; }
 #l49 {padding-left: 0pt; }
 #l49> li>*:first-child:before {content: " "; color: black; font-family:Wingdings; font-style: normal; font-weight: normal; text-decoration: none; vertical-align: 1pt; }
 #l50 {padding-left: 0pt; }
 #l50> li>*:first-child:before {content: "• "; color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; vertical-align: 3pt; }
 #l51 {padding-left: 0pt; }
 #l51> li>*:first-child:before {content: " "; color: black; font-family:Wingdings; font-style: normal; font-weight: normal; text-decoration: none; vertical-align: 1pt; }
 #l52 {padding-left: 0pt; }
 #l52> li>*:first-child:before {content: " "; color: black; font-family:Wingdings; font-style: normal; font-weight: normal; text-decoration: none; vertical-align: 1pt; }
 #l53 {padding-left: 0pt; }
 #l53> li>*:first-child:before {content: " "; color: black; font-family:Wingdings; font-style: normal; font-weight: normal; text-decoration: none; vertical-align: 1pt; }
 #l54 {padding-left: 0pt; }
 #l54> li>*:first-child:before {content: " "; color: black; font-family:Wingdings; font-style: normal; font-weight: normal; text-decoration: none; vertical-align: 1pt; }
 #l55 {padding-left: 0pt; }
 #l55> li>*:first-child:before {content: " "; color: black; font-family:Wingdings; font-style: normal; font-weight: normal; text-decoration: none; vertical-align: 1pt; }
 #l56 {padding-left: 0pt; }
 #l56> li>*:first-child:before {content: " "; color: black; font-family:Wingdings; font-style: normal; font-weight: normal; text-decoration: none; vertical-align: 1pt; }
 #l57 {padding-left: 0pt; }
 #l57> li>*:first-child:before {content: " "; color: black; font-family:Wingdings; font-style: normal; font-weight: normal; text-decoration: none; vertical-align: 1pt; }
 #l58 {padding-left: 0pt; }
 #l58> li>*:first-child:before {content: " "; color: black; font-family:Wingdings; font-style: normal; font-weight: normal; text-decoration: none; vertical-align: 1pt; }
 #l59 {padding-left: 0pt; }
 #l59> li>*:first-child:before {content: " "; color: black; font-family:Wingdings; font-style: normal; font-weight: normal; text-decoration: none; vertical-align: 1pt; }
 #l60 {padding-left: 0pt; }
 #l60> li>*:first-child:before {content: " "; color: black; font-family:Wingdings; font-style: normal; font-weight: normal; text-decoration: none; vertical-align: 1pt; }
 #l61 {padding-left: 0pt; }
 #l61> li>*:first-child:before {content: " "; color: black; font-family:Wingdings; font-style: normal; font-weight: normal; text-decoration: none; vertical-align: 1pt; }
 #l62 {padding-left: 0pt; }
 #l62> li>*:first-child:before {content: " "; color: black; font-family:Wingdings; font-style: normal; font-weight: normal; text-decoration: none; vertical-align: 1pt; }
 #l63 {padding-left: 0pt; }
 #l63> li>*:first-child:before {content: " "; color: black; font-family:Wingdings; font-style: normal; font-weight: normal; text-decoration: none; vertical-align: 1pt; }
 #l64 {padding-left: 0pt; }
 #l64> li>*:first-child:before {content: "• "; color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; vertical-align: 3pt; }
 #l65 {padding-left: 0pt; }
 #l65> li>*:first-child:before {content: " "; color: black; font-family:Wingdings; font-style: normal; font-weight: normal; text-decoration: none; vertical-align: 1pt; }
 #l66 {padding-left: 0pt; }
 #l66> li>*:first-child:before {content: " "; color: black; font-family:Wingdings; font-style: normal; font-weight: normal; text-decoration: none; vertical-align: 1pt; }
 #l67 {padding-left: 0pt; }
 #l67> li>*:first-child:before {content: "• "; color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; vertical-align: 3pt; }
 #l68 {padding-left: 0pt; }
 #l68> li>*:first-child:before {content: "• "; color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; vertical-align: 3pt; }
 #l69 {padding-left: 0pt; }
 #l69> li>*:first-child:before {content: " "; color: black; font-family:Wingdings; font-style: normal; font-weight: normal; text-decoration: none; vertical-align: 1pt; }
 #l70 {padding-left: 0pt; }
 #l70> li>*:first-child:before {content: " "; color: black; font-family:Wingdings; font-style: normal; font-weight: normal; text-decoration: none; vertical-align: 1pt; }
 li {display: block; }
 #l71 {padding-left: 0pt; }
 #l71> li>*:first-child:before {content: " "; color: #B00; font-family:Wingdings; font-style: normal; font-weight: normal; text-decoration: none; font-size: 30pt; vertical-align: 2pt; }
 #l72 {padding-left: 0pt; }
 #l72> li>*:first-child:before {content: " "; color: #2D5B89; font-family:Wingdings; font-style: normal; font-weight: normal; text-decoration: none; font-size: 26pt; vertical-align: 1pt; }
 li {display: block; }
 #l73 {padding-left: 0pt; }
 #l73> li>*:first-child:before {content: " "; color: black; font-family:Wingdings; font-style: normal; font-weight: normal; text-decoration: none; vertical-align: 1pt; }
 #l74 {padding-left: 0pt; }
 #l74> li>*:first-child:before {content: " "; color: #2D5B89; font-family:Wingdings; font-style: normal; font-weight: normal; text-decoration: none; font-size: 26pt; vertical-align: 1pt; }
 #l75 {padding-left: 0pt; }
 #l75> li>*:first-child:before {content: " "; color: #2D5B89; font-family:Wingdings; font-style: normal; font-weight: normal; text-decoration: none; font-size: 26pt; vertical-align: 1pt; }
 #l76 {padding-left: 0pt; }
 #l76> li>*:first-child:before {content: " "; color: #2D5B89; font-family:Wingdings; font-style: normal; font-weight: normal; text-decoration: none; font-size: 26pt; vertical-align: 1pt; }
 li {display: block; }
 #l77 {padding-left: 0pt; }
 #l77> li>*:first-child:before {content: " "; color: #B00; font-family:Wingdings; font-style: normal; font-weight: normal; text-decoration: none; font-size: 30pt; vertical-align: 2pt; }
 #l78 {padding-left: 0pt; }
 #l78> li>*:first-child:before {content: " "; color: #2D5B89; font-family:Wingdings; font-style: normal; font-weight: normal; text-decoration: none; font-size: 26pt; vertical-align: 1pt; }
 #l79 {padding-left: 0pt; }
 #l79> li>*:first-child:before {content: " "; color: #2D5B89; font-family:Wingdings; font-style: normal; font-weight: normal; text-decoration: none; font-size: 26pt; vertical-align: 1pt; }
 li {display: block; }
 #l80 {padding-left: 0pt; }
 #l80> li>*:first-child:before {content: " "; color: #B00; font-family:Wingdings; font-style: normal; font-weight: normal; text-decoration: none; font-size: 30pt; vertical-align: 2pt; }
 #l81 {padding-left: 0pt; }
 #l81> li>*:first-child:before {content: " "; color: #2D5B89; font-family:Wingdings; font-style: normal; font-weight: normal; text-decoration: none; font-size: 26pt; vertical-align: 1pt; }
 #l82 {padding-left: 0pt; }
 #l82> li>*:first-child:before {content: " "; color: #2D5B89; font-family:Wingdings; font-style: normal; font-weight: normal; text-decoration: none; font-size: 26pt; vertical-align: 1pt; }
 #l83 {padding-left: 0pt; }
 #l83> li>*:first-child:before {content: " "; color: #2D5B89; font-family:Wingdings; font-style: normal; font-weight: normal; text-decoration: none; font-size: 26pt; vertical-align: 1pt; }
 #l84 {padding-left: 0pt; }
 #l84> li>*:first-child:before {content: " "; color: #2D5B89; font-family:Wingdings; font-style: normal; font-weight: normal; text-decoration: none; font-size: 26pt; vertical-align: 1pt; }
 li {display: block; }
 #l85 {padding-left: 0pt; }
 #l85> li>*:first-child:before {content: " "; color: black; font-family:Wingdings; font-style: normal; font-weight: normal; text-decoration: none; vertical-align: 2pt; }
 #l86 {padding-left: 0pt; }
 #l86> li>*:first-child:before {content: " "; color: black; font-family:Wingdings; font-style: normal; font-weight: normal; text-decoration: none; vertical-align: 1pt; }
 #l87 {padding-left: 0pt; }
 #l87> li>*:first-child:before {content: " "; color: black; font-family:Wingdings; font-style: normal; font-weight: normal; text-decoration: none; vertical-align: 1pt; }
 #l88 {padding-left: 0pt; }
 #l88> li>*:first-child:before {content: "• "; color: #B00; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 26.5pt; vertical-align: 3pt; }
 #l89 {padding-left: 0pt; }
 #l89> li>*:first-child:before {content: " "; color: black; font-family:Wingdings; font-style: normal; font-weight: normal; text-decoration: none; vertical-align: 1pt; }
 #l90 {padding-left: 0pt; }
 #l90> li>*:first-child:before {content: " "; color: black; font-family:Wingdings; font-style: normal; font-weight: normal; text-decoration: none; vertical-align: 1pt; }
 #l91 {padding-left: 0pt; }
 #l91> li>*:first-child:before {content: " "; color: black; font-family:Wingdings; font-style: normal; font-weight: normal; text-decoration: none; vertical-align: 1pt; }
 #l92 {padding-left: 0pt; }
 #l92> li>*:first-child:before {content: " "; color: black; font-family:Wingdings; font-style: normal; font-weight: normal; text-decoration: none; vertical-align: 1pt; }
 #l93 {padding-left: 0pt; }
 #l93> li>*:first-child:before {content: " "; color: black; font-family:Wingdings; font-style: normal; font-weight: normal; text-decoration: none; vertical-align: 1pt; }
 #l94 {padding-left: 0pt; }
 #l94> li>*:first-child:before {content: " "; color: black; font-family:Wingdings; font-style: normal; font-weight: normal; text-decoration: none; vertical-align: 1pt; }
 #l95 {padding-left: 0pt; }
 #l95> li>*:first-child:before {content: " "; color: black; font-family:Wingdings; font-style: normal; font-weight: normal; text-decoration: none; vertical-align: 1pt; }
 #l96 {padding-left: 0pt; }
 #l96> li>*:first-child:before {content: " "; color: black; font-family:Wingdings; font-style: normal; font-weight: normal; text-decoration: none; vertical-align: 1pt; }
 #l97 {padding-left: 0pt; }
 #l97> li>*:first-child:before {content: " "; color: black; font-family:Wingdings; font-style: normal; font-weight: normal; text-decoration: none; vertical-align: 1pt; }
 #l98 {padding-left: 0pt; }
 #l98> li>*:first-child:before {content: " "; color: black; font-family:Wingdings; font-style: normal; font-weight: normal; text-decoration: none; vertical-align: 1pt; }
 #l99 {padding-left: 0pt; }
 #l99> li>*:first-child:before {content: " "; color: black; font-family:Wingdings; font-style: normal; font-weight: normal; text-decoration: none; vertical-align: 1pt; }
 #l100 {padding-left: 0pt; }
 #l100> li>*:first-child:before {content: "• "; color: #B00; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 26.5pt; vertical-align: 3pt; }
 #l101 {padding-left: 0pt; }
 #l101> li>*:first-child:before {content: " "; color: black; font-family:Wingdings; font-style: normal; font-weight: normal; text-decoration: none; vertical-align: 1pt; }
 li {display: block; }
 #l102 {padding-left: 0pt;counter-reset: c1 1; }
 #l102> li>*:first-child:before {counter-increment: c1; content: counter(c1, decimal)" "; color: #131413; font-family:"Times New Roman", serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 10pt; }
 #l102> li:first-child>*:first-child:before {counter-increment: c1 0;  }
 #l103 {padding-left: 0pt;counter-reset: d1 1; }
 #l103> li>*:first-child:before {counter-increment: d1; content: "("counter(d1, lower-latin)") "; color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 10pt; vertical-align: 1pt; }
 #l103> li:first-child>*:first-child:before {counter-increment: d1 0;  }
 #l104 {padding-left: 0pt;counter-reset: e1 2; }
 #l104> li>*:first-child:before {counter-increment: e1; content: counter(e1, decimal)". "; color: #131413; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 #l104> li:first-child>*:first-child:before {counter-increment: e1 0;  }
 #l105 {padding-left: 0pt;counter-reset: f1 1; }
 #l105> li>*:first-child:before {counter-increment: f1; content: counter(f1, decimal)". "; color: #131413; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 #l105> li:first-child>*:first-child:before {counter-increment: f1 0;  }
 #l106 {padding-left: 0pt;counter-reset: c2 1; }
 #l106> li>*:first-child:before {counter-increment: c2; content: counter(c1, decimal)"."counter(c2, decimal)" "; color: #131413; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 #l106> li:first-child>*:first-child:before {counter-increment: c2 0;  }
 #l107 {padding-left: 0pt;counter-reset: c2 1; }
 #l107> li>*:first-child:before {counter-increment: c2; content: counter(c1, decimal)"."counter(c2, decimal)" "; color: #131413; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 #l107> li:first-child>*:first-child:before {counter-increment: c2 0;  }
 #l108 {padding-left: 0pt;counter-reset: f1 2; }
 #l108> li>*:first-child:before {counter-increment: f1; content: counter(f1, decimal)". "; color: #131413; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 #l108> li:first-child>*:first-child:before {counter-increment: f1 0;  }
 #l109 {padding-left: 0pt; }
 #l109> li>*:first-child:before {content: "– "; color: #131413; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 #l110 {padding-left: 0pt;counter-reset: c2 1; }
 #l110> li>*:first-child:before {counter-increment: c2; content: counter(c1, decimal)"."counter(c2, decimal)" "; color: #131413; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 #l110> li:first-child>*:first-child:before {counter-increment: c2 0;  }
 #l111 {padding-left: 0pt; }
 #l111> li>*:first-child:before {content: "– "; color: #131413; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 li {display: block; }
 #l112 {padding-left: 0pt;counter-reset: i1 1; }
 #l112> li>*:first-child:before {counter-increment: i1; content: counter(i1, decimal)". "; color: #131413; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 8.5pt; }
 #l112> li:first-child>*:first-child:before {counter-increment: i1 0;  }
 table, tbody {vertical-align: top; overflow: visible; }
</style></head><body><h4 style="padding-top: 7pt;padding-left: 20pt;text-indent: 0pt;text-align: left;"><a name="bookmark0">Synthesis of Railway-Signaling Plans using Reachability Games</a></h4><p class="s1" style="padding-top: 11pt;padding-left: 62pt;text-indent: 0pt;text-align: left;">Patrick Kasting</p><p style="padding-left: 31pt;text-indent: 39pt;text-align: left;">DTU Compute Technical University of Denmark</p><p style="padding-left: 50pt;text-indent: -9pt;text-align: left;"><a href="mailto:s124313@student.dtu.dk" class="s2" target="_blank">DK-2800, Lyngby, Denmark s124313@student.dtu.dk</a></p><p class="s3" style="padding-top: 4pt;padding-left: 14pt;text-indent: 0pt;text-align: left;"><a name="bookmark1">ABSTRACT</a></p><p class="s1" style="padding-top: 11pt;padding-left: 38pt;text-indent: 0pt;text-align: left;">Michael R. Hansen</p><p style="padding-left: 14pt;text-indent: 39pt;text-align: left;">DTU Compute Technical University of Denmark</p><p style="padding-left: 58pt;text-indent: -33pt;text-align: left;"><a href="mailto:mire@dtu.dk" class="s2" target="_blank">DK-2800, Lyngby, Denmark mire@dtu.dk</a></p><p class="s3" style="padding-top: 4pt;padding-left: 98pt;text-indent: 0pt;text-align: left;">KEYWORDS</p><p class="s1" style="padding-top: 6pt;padding-left: 134pt;text-indent: 0pt;text-align: center;">Steen Vester<span class="s4">∗</span></p><p style="padding-left: 133pt;text-indent: 0pt;text-align: center;">Flow Robotics</p><p style="padding-left: 133pt;text-indent: 0pt;text-align: center;"><a href="mailto:sv@flow-robotics.com" class="s2" target="_blank">DK-2300, Copenhagen, Denmark sv@flow-robotics.com</a></p><p class="s5" style="padding-top: 2pt;padding-left: 14pt;text-indent: 0pt;line-height: 71%;text-align: justify;">In this work, we show the feasibility of using functional pro- gramming (more specifically F<span class="s6">#</span>) in connection with game- based methods for synthesis of correct-by-construction con- trollers (also called <span class="s7">signaling plans</span>) for railway networks. This is a massively resource-demanding application.</p><p class="s5" style="padding-left: 14pt;text-indent: 9pt;line-height: 71%;text-align: justify;">A model for railway networks comprising trains, signals, linear sections, and points is established together with a domain-specific language capturing the important concepts in the model. A translation from railway network models to two-player reachability games is provided. In these games, the existential player (the control system) controls signals and points and the universal player (the antagonistic environment) controls movement of trains. A winning strategy for the existential player provides a signaling plan that will safely guide trains through the network.</p><p class="s5" style="padding-left: 24pt;text-indent: 0pt;line-height: 9pt;text-align: justify;">The concepts from the railway network model and the two-</p><p class="s5" style="padding-left: 14pt;text-indent: 0pt;line-height: 71%;text-align: right;">player reachability game are captured, in a natural manner, by type declarations in F<span class="s6">#</span>. Furthermore, the F<span class="s6"># </span>transla- tion functions are formulated in a manner that is close to the mathematical formulations. This increases confidence in the correctness of the implementation and it decreases the development time. Imperative features of F<span class="s6"># </span>proved useful in two places: Hash tables and arrays were used in the repre- sentations of the railway network model and the reachability game. This allowed for more compact representations and a more efficient game solver (providing the winning strategy).</p><p class="s5" style="padding-left: 14pt;text-indent: 0pt;line-height: 9pt;text-align: right;">Experiments show that we are able to synthesize signaling</p><p class="s5" style="padding-left: 14pt;text-indent: 0pt;line-height: 13pt;text-align: justify;">plans for real railway networks of substantial size.</p><p class="s3" style="padding-top: 9pt;padding-left: 14pt;text-indent: 0pt;line-height: 12pt;text-align: justify;">CCS CONCEPTS</p><ul id="l1"><li data-list-text="•"><p class="s8" style="padding-top: 3pt;padding-left: 14pt;text-indent: 0pt;line-height: 71%;text-align: justify;">Theory of computation <span class="s5">→ </span>Algorithmic game theory<span class="s5">; • </span>Soft- ware and its engineering <span class="s5">→ </span>Functional languages<span class="s5">; Domain- specific languages;</span></p></li></ul><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 14pt;text-indent: 0pt;line-height: 1pt;text-align: left;"><span><img width="64" height="1" alt="image" src="Docs_files/Image_001.png"/></span></p><p class="s9" style="padding-left: 14pt;text-indent: 0pt;text-align: justify;">∗<span class="s10">Part of this work was done while Steen Vester was at Technical University of Denmark.</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 14pt;text-indent: 0pt;line-height: 1pt;text-align: left;"><span><img width="321" height="1" alt="image" src="Docs_files/Image_002.png"/></span></p><p style="padding-top: 2pt;padding-left: 14pt;text-indent: 0pt;text-align: justify;"><a href="mailto:permissions@acm.org" class="a" target="_blank">Permission to make digital or hard copies of all or part of this work for personal or classroom use is granted without fee provided that copies are not made or distributed for profit or commercial advantage and that copies bear this notice and the full citation on the first page. Copyrights for components of this work owned by others than ACM must be honored. Abstracting with credit is permitted. To copy otherwise, or republish, to post on servers or to redistribute to lists, requires prior specific permission and/or a fee. Request permissions from </a><a href="mailto:ermissions@acm.org" class="a" target="_blank">p</a><a href="mailto:ermissions@acm.org" target="_blank">ermissions@acm.org.</a></p><p class="s11" style="padding-left: 14pt;text-indent: 0pt;text-align: justify;">IFL 2016, Leuven, Belgium</p><p class="s12" style="padding-left: 14pt;text-indent: 0pt;line-height: 8pt;text-align: justify;">© <span class="s10">2016 ACM. 978-1-4503-4767-9/16/08. . . $15.00</span></p><p style="padding-left: 14pt;text-indent: 0pt;line-height: 8pt;text-align: justify;"><a href="http://dx.doi.org/10.1145/3064899.3064908" class="a" target="_blank">DOI: </a><a href="http://dx.doi.org/10.1145/3064899.3064908" target="_blank">http://dx.doi.org/10.1145/3064899.3064908</a></p><p class="s5" style="padding-top: 2pt;padding-left: 14pt;text-indent: 0pt;line-height: 71%;text-align: justify;">Domain-specific language, functional programming, railway networks, reachability games, signaling plans, synthesis</p><p class="s13" style="padding-top: 6pt;padding-left: 14pt;text-indent: 0pt;text-align: justify;">ACM Reference format:</p><p class="s13" style="padding-left: 14pt;text-indent: 0pt;line-height: 108%;text-align: justify;">Patrick Kasting, Michael R. Hansen, and Steen Vester. 2016. Syn- thesis of Railway-Signaling Plans using Reachability Games. In <a href="#bookmark55" style=" color: black; font-family:&quot;Times New Roman&quot;, serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 8pt;">Proceedings of IFL 2016, Leuven, Belgium, August 31-September 02, 2016, </a>13 pages.</p><p style="padding-left: 14pt;text-indent: 0pt;text-align: justify;"><a href="http://dx.doi.org/10.1145/3064899.3064908" class="s15" target="_blank">DOI: http://dx.doi.org/10.1145/3064899.3064908</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><ol id="l2"><li data-list-text="1"><p class="s3" style="padding-top: 9pt;padding-left: 31pt;text-indent: -16pt;line-height: 12pt;text-align: left;"><a name="bookmark2">INTRODUCTION</a></p><p class="s5" style="padding-top: 3pt;padding-left: 14pt;text-indent: 0pt;line-height: 71%;text-align: justify;">Railway network systems are often mentioned as examples of safety-critical systems, for obvious reasons, and formal methods have a significant role in achieving confidence in the correctness of such systems. Predominant approaches to achieving this are based on verification techniques, in particular model checking, but these techniques are geared towards finding bugs in designs – they are of limited use in the design process. We investigate the feasibility of using game-based methods for <span class="s7">synthesis </span><a href="#bookmark69" class="s16">of correct-by-construction controllers </a><a href="#bookmark76" class="s16">[14, </a><a href="#bookmark77" class="s16">21, 22].</a></p><p class="s5" style="padding-left: 24pt;text-indent: 0pt;line-height: 9pt;text-align: justify;">The challenge of verification and synthesis techniques for</p><p class="s5" style="padding-top: 1pt;padding-left: 14pt;text-indent: 0pt;line-height: 71%;text-align: justify;"><a href="#bookmark72" class="s16">railway-network problems is state-space explosion: The num- ber of positions of trains in a network grows exponentially with the number of trains, the number of combinations of signals in a network grows exponentially with the number of signals, and so on. The goal of this work, which is based on </a>[17], is to show that</p><ul id="l3"><li data-list-text="•"><p class="s5" style="padding-top: 3pt;padding-left: 48pt;text-indent: -9pt;line-height: 71%;text-align: justify;">game-based techniques can be used to synthesize signaling plans for real railway networks of a sub- stantial size (comparable to the size of the problems that can be handled by verification techniques), and that</p></li><li data-list-text="•"><p class="s5" style="padding-left: 48pt;text-indent: -9pt;line-height: 71%;text-align: justify;">functional programming provides an efficient develop- ment and implementation platform for a tool synthe- sizing signaling plans from railway network models.</p></li></ul><ol id="l4"><li data-list-text="1.1"><p class="s3" style="padding-top: 9pt;padding-left: 39pt;text-indent: -24pt;line-height: 12pt;text-align: left;"><a name="bookmark3">The Problem</a></p><p class="s5" style="padding-top: 3pt;padding-left: 14pt;text-indent: 0pt;line-height: 71%;text-align: justify;">A train’s movement in a railway network must be guided by points and signals, such that it reaches its destination without risk of derailment or collision. The points must direct the trains along their respective routes and the signals must halt certain trains in order to give way to others.</p><p class="s5" style="padding-left: 14pt;text-indent: 10pt;line-height: 71%;text-align: justify;"><a href="#bookmark32" class="s16">A simple example is found in Figure </a>1. It contains four <span class="s7">sections s10 , s11 , s12 </span>and <span class="s7">s20 </span>, where <span class="s7">s10 , s11 </span>and <span class="s7">s20 </span>are linear sections and <span class="s7">s11 </span>is a <span class="s7">point</span>. The point can switch</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s17" style="padding-left: 14pt;text-indent: 0pt;text-align: right;"><a name="bookmark32">ss1100</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s17" style="padding-left: 14pt;text-indent: 0pt;text-align: right;">sss1111</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s17" style="padding-left: 14pt;text-indent: 0pt;text-align: right;">ss1122</p><p class="s3" style="padding-top: 11pt;padding-left: 55pt;text-indent: 0pt;line-height: 12pt;text-align: left;"><a name="bookmark5">1.3 The functional approach</a></p><p style="text-indent: 0pt;text-align: left;"><span><img width="289" height="125" alt="image" src="Docs_files/Image_003.png"/></span></p><p class="s18" style="text-indent: 0pt;line-height: 9pt;text-align: left;">t1</p><p style="text-indent: 0pt;text-align: left;"/><p class="s17" style="text-indent: 0pt;line-height: 9pt;text-align: left;">ss2200</p><p style="text-indent: 0pt;text-align: left;"/><p class="s18" style="text-indent: 0pt;line-height: 9pt;text-align: left;">t2</p><p style="text-indent: 0pt;text-align: left;"/><p class="s5" style="padding-top: 3pt;padding-left: 55pt;text-indent: 0pt;line-height: 71%;text-align: justify;">A functional programming language with a strong type sys- tem, in this case F<span class="s6"># </span><a href="#bookmark70" class="s16">[</a><a href="#bookmark78" class="s16">15, </a><a href="#bookmark72" class="s16">23], was used as implementation platform. The concepts from a mathematical model of rail- way networks [</a>17] are captured in a natural manner by type declarations and so are the concepts from reachability games. The F<span class="s6"># </span>translation functions from network models to games are formulated in a manner that is close to the mathematical formulation. This increases confidence in the correctness of</p><p class="s5" style="padding-left: 55pt;text-indent: 0pt;line-height: 5pt;text-align: justify;">the implementation and it decreases the development time.</p><p class="s8" style="padding-top: 1pt;padding-left: 14pt;text-indent: 0pt;line-height: 106%;text-align: justify;"><a href="#bookmark79" class="s19">Figure 1: A railway network (inspired by </a>[24]) containing four sections, two signals, two trains, and the point <i>s11</i>.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s5" style="padding-left: 14pt;text-indent: 0pt;line-height: 13pt;text-align: justify;">between connecting the sections <span class="s7">s20 </span>and <span class="s7">s12 </span>or the sections</p><p class="s7" style="padding-left: 14pt;text-indent: 0pt;line-height: 11pt;text-align: justify;">s10 <span class="s5">and </span>s12 <span class="s5">. Sections allow traffic in both directions.</span></p><p class="s5" style="padding-top: 1pt;padding-left: 14pt;text-indent: 10pt;line-height: 71%;text-align: justify;">The train <span class="s7">t1 </span>occupies section <span class="s7">s20 </span>and the train <span class="s7">t2 </span>occupies the section <span class="s7">s12 </span>. If the signal along section <span class="s7">s20 </span>is closed, it prevents <span class="s7">t1 </span>from entering <span class="s7">s11 </span>. The train <span class="s7">t2 </span>is free to enter <span class="s7">s11 </span>and continue to <span class="s7">s10 </span>or <span class="s7">s20 </span>depending on the state of <span class="s7">s11 </span>.</p><p class="s5" style="padding-left: 14pt;text-indent: 9pt;line-height: 71%;text-align: justify;">Based on the current positions of the trains, a control system must select the right configuration of points and signals. For this, the system needs a mapping from train positions to configurations. Such a mapping is also called a <span class="s7">signaling plan </span>and it can be considered an algorithm for controlling the traffic in a network. A signaling plan is <span class="s7">correct</span>, if it ensures that the trains reach their destinations without crashing. We consider the following problem:</p><p class="s7" style="padding-top: 4pt;padding-left: 21pt;text-indent: 0pt;text-align: justify;">Synthesis of correct signaling plans for railway networks</p><p style="text-indent: 0pt;text-align: left;"><br/></p></li><li data-list-text="1.2"><p class="s3" style="padding-left: 39pt;text-indent: -24pt;line-height: 12pt;text-align: left;"><a name="bookmark4">Game-Based Synthesis</a></p><p class="s5" style="padding-top: 3pt;padding-left: 14pt;text-indent: 0pt;line-height: 71%;text-align: justify;">The synthesis problem is solved using game-based methods: In a reachability game, two players: Adam (the universal player) and Eve (the existential player), take turns moving a token along the edges of a graph. Eve wins the game, if the token reaches a designated set of vertices. Otherwise, Adam wins. We model a railway network as such a game.</p><p class="s5" style="padding-left: 14pt;text-indent: 9pt;line-height: 71%;text-align: justify;">The states of the network act as the vertices of the game and we make changes to the current state by moving the game token. Eve takes the role of the control system and is in charge of updating points and signals. Adam moves the trains, obeying the signals. Eve wins if the trains reach their destinations without crashing and Adam wins if he can move a train away from its route or crash it. If Eve can force Adam to lose, even if Adam acts as a perfect adversary, then we can get the trains correctly through the network. A correct signaling plan is obtained from Eve’s winning strategy.</p><p class="s5" style="padding-left: 24pt;text-indent: 0pt;line-height: 9pt;text-align: justify;">Previously, game-based techniques have been used for syn-</p><p class="s5" style="padding-left: 14pt;text-indent: 0pt;line-height: 71%;text-align: justify;">thesis of control algorithms for <span class="s7">concrete examples </span><a href="#bookmark64" class="s16">of railway- networks (e.g. [</a>9]). However, to the best of the authors’ knowl- edge, at the time of writing, there have been no game-based attempts at solving the synthesis problem for <span class="s7">arbitrary </span><a href="#bookmark58" class="s16">rail- way networks. For other examples of game-based synthesis, see </a><a href="#bookmark59" class="s16">[3, </a><a href="#bookmark73" class="s16">4, 18].</a></p><p class="s5" style="padding-top: 5pt;padding-left: 15pt;text-indent: 0pt;line-height: 71%;text-align: justify;">Imperative features of F<span class="s6"># </span>proved useful in two places: Hash tables and arrays were used in the representations of the rail- way network model and the reachability game. This allowed for more compact representations and a more efficient game solver (providing the winning strategy).</p><p class="s5" style="padding-left: 15pt;text-indent: 10pt;line-height: 71%;text-align: justify;"><a href="#bookmark79" class="s16">The most interesting experiment conducted so far is that a correct signaling plan for (approximately one fourth of) Florence Station with four trains is generated in 8.1 seconds. The considered part of Florence Station has 69 linear sections, 23 points, and 46 signals. This is a size approaching the limit of what state-of-the-art verification approaches, e.g. [</a>24], can handle.</p><p class="s3" style="padding-top: 7pt;padding-left: 15pt;text-indent: 0pt;line-height: 12pt;text-align: left;"><a name="bookmark6">1.4 Background</a></p><p class="s5" style="padding-top: 3pt;padding-left: 15pt;text-indent: 0pt;line-height: 71%;text-align: justify;">In Europe, the predominant standard for railway signaling is the <span class="s7">European Rail Traffic Management System </span><a href="#bookmark79" class="s16">(ERTMS), see for example [</a><a href="#bookmark65" class="s16">24]. ERTMS comprises a standard ETCS for in-cab signaling and automatic train protection systems [</a><a href="#bookmark56" class="s16">10]. ETCS has three application levels ranging from Level 1 to Level 3, where Level 3 is the most autonomous. In 2009, the Danish parliament decided to replace the entire railway- signaling system with an implementation of ERMTS with ETCS Level 2 [1].</a></p><p class="s5" style="padding-left: 25pt;text-indent: 0pt;line-height: 9pt;text-align: justify;">In ETCS, signaling is controlled according to <span class="s7">interlocking</span></p><p class="s7" style="padding-top: 1pt;padding-left: 14pt;text-indent: 0pt;line-height: 71%;text-align: justify;">tables<span class="s5">. An interlocking table contains one entry for each </span>el- ementary route <span class="s5">in the network. An elementary route starts at a signal, ends at another signal, and there is no signal between the two. </span>Compound routes <a href="#bookmark79" class="s16">are formed by concate- nating elementary routes. Signaling works according to the principle that a route is locked exclusively for one train at a time [24].</a></p><p class="s5" style="padding-left: 15pt;text-indent: 10pt;line-height: 71%;text-align: justify;">This static generation of routes has the advantage that a train entering a route can drive to the end of that route without stopping, thereby saving time and energy – frequent stop-and-go is energy consuming. However, the statically generated routes are inflexible and of no use if, for example, a malfunctioning train blocks a track and alternative routes are needed.</p><p class="s5" style="padding-left: 14pt;text-indent: 11pt;line-height: 71%;text-align: justify;">Correct signalling plans provide a controlling mechanism that can be used at run-time: In any traffic situation the controller makes a safe decision that brings the trains closer to their destinations. But signaling plans do not guarantee “good” routes: In the current form, there is no attempt at avoiding stop-and-go situations.</p><p class="s5" style="padding-top: 4pt;padding-left: 15pt;text-indent: 9pt;line-height: 71%;text-align: justify;"><span class="s20">PGSolver. </span><a href="#bookmark67" class="s16">The PGSolver framework [</a>12] provides an effi- cient platform for solving <span class="s7">parity games</span>, that is, a kind of</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s5" style="padding-top: 6pt;padding-left: 14pt;text-indent: 0pt;line-height: 71%;text-align: justify;">two-player games of perfect information and infinite duration. PGSolver is implemented in the functional programming language OCaml and our solver for reachability games is implemented in F<span class="s6">#</span>, which is closely related to OCaml. With respect to choices of data structures, our implementation is inspired by PGSolver.</p></li></ol></li><li data-list-text="2"><p class="s3" style="padding-top: 9pt;padding-left: 31pt;text-indent: -16pt;line-height: 12pt;text-align: left;"><a name="bookmark7">GAMES FOR RAILWAY NETWORKS</a></p><p class="s5" style="padding-top: 3pt;padding-left: 14pt;text-indent: 0pt;line-height: 71%;text-align: justify;">In a <span class="s7">turn-based two-player game</span>, or from now on a <span class="s7">game</span>, the players Eve and Adam move a shared token along the edges of a shared <span class="s7">game graph</span>. The vertices of the game graph are partitioned into <span class="s7">V</span><span class="s21">E </span>and <span class="s7">V</span><span class="s21">A</span>. Eve chooses the next move from vertices in <span class="s7">V</span><span class="s21">E </span>and Adam chooses the next move from vertices in <span class="s7">V</span><span class="s21">A</span>.</p><p class="s5" style="padding-left: 14pt;text-indent: 10pt;line-height: 71%;text-align: justify;">Given a <span class="s7">winning condition </span>and an initial vertex, we want to know whether Eve can ensure a win, no matter how Adam plays. If this is the case, we are also interested in a <span class="s7">winning strategy</span>, which specifies a winning move from each vertex in <span class="s7">V</span><span class="s21">E </span><a href="#bookmark57" class="s16">. We now provide formal definitions of the above concepts. For a more thorough introduction, see e.g. </a><a href="#bookmark74" class="s16">[2, 19].</a></p><p class="s7" style="padding-left: 14pt;text-indent: 10pt;line-height: 71%;text-align: justify;"><span class="s5">A </span>game graph G <span class="s5">is a tuple </span><span class="s22">(</span>V<span class="s21">E</span>, V<span class="s21">A</span>, E, c<span class="s22">)</span><span class="s5">, where </span>E <span class="s23">⊆ </span><span class="s22">(</span>V<span class="s21">E</span><span class="s23">∪</span>V<span class="s21">A </span><span class="s22">)</span><span class="s23">×</span><span class="s22">(</span>V<span class="s21">E</span><span class="s23">∪</span>V<span class="s21">A </span><span class="s22">) </span><span class="s5">is the set of edges and </span>c <span class="s5">: </span><span class="s22">(</span>V<span class="s21">E</span><span class="s23">∪</span>V<span class="s21">A </span><span class="s22">) </span><span class="s23">→ </span>C <span class="s5">is a function, which colors every vertex with a color from the set </span>C<span class="s5">. We require that </span>V<span class="s21">E </span><span class="s23">∩ </span>V<span class="s21">A </span><span class="s22">= </span><span class="s23">∅ </span><span class="s5">and we let </span>V <span class="s22">= </span>V<span class="s21">E </span><span class="s23">∪ </span>V<span class="s21">A </span><span class="s5">denote the set of all vertices. Also, for every </span>v <span class="s23">∈ </span>V <span class="s5">, we define </span>vE <span class="s22">= </span><span class="s23">{</span>v<span class="s24">i </span><span class="s25">| </span><span class="s22">(</span>v, v<span class="s24">i </span><span class="s22">) </span><span class="s23">∈ </span>E<span class="s23">}</span><span class="s5">, which is the set of successors to </span>v<span class="s5">. We assume that </span>vE <span class="s22">= </span><span class="s23">∅ </span><span class="s5">for all </span>v <span class="s23">∈ </span>V <span class="s5">.</span></p><p class="s7" style="padding-left: 14pt;text-indent: 10pt;line-height: 71%;text-align: justify;"><span class="s5">A </span>play <span class="s5">in </span>G <span class="s5">is an infinite sequence </span>α <span class="s22">= </span>v<span class="s26">0</span>v<span class="s26">1</span>v<span class="s26">2 </span>. . . <span class="s5">of vertices such that </span><span class="s22">(</span>v<span class="s27">i</span>, v<span class="s27">i</span><span class="s28">+</span><span class="s26">1</span><span class="s22">) </span><span class="s23">∈ </span>E <span class="s5">for all </span>i <span class="s23">∈ </span><span class="s22">N</span><span class="s5">. Let </span>c<span class="s22">(</span>α<span class="s22">) </span><span class="s5">denote the corresponding sequence </span>c<span class="s22">(</span>v<span class="s26">0</span><span class="s22">)</span>c<span class="s22">(</span>v<span class="s26">1</span><span class="s22">)</span>c<span class="s22">(</span>v<span class="s26">2</span><span class="s22">) </span>. . . <span class="s5">of colors.</span></p><p class="s7" style="padding-left: 13pt;text-indent: 11pt;line-height: 71%;text-align: justify;"><span class="s5">A </span>game <span class="s5">is a pair </span><span class="s22">(</span>G, Win<span class="s22">)</span><span class="s5">, where </span>G <span class="s5">is a game graph and </span>Win <span class="s23">⊆ </span>C<span class="s29">ω </span><span class="s5">is a </span>winning condition<span class="s5">. Eve wins a play </span>α<span class="s5">, if </span>c<span class="s22">(</span>α<span class="s22">) </span><span class="s23">∈ </span>Win<span class="s5">. Otherwise, Adam wins.</span></p><p class="s7" style="padding-left: 14pt;text-indent: 10pt;line-height: 71%;text-align: justify;"><span class="s5">A </span>strategy <span class="s5">for Eve is a function </span>σ <span class="s5">: </span>V <span class="s24">∗</span>V<span class="s21">E </span><span class="s23">→ </span>V <span class="s5">such that </span>σ<span class="s22">(</span>xv<span class="s22">) = </span>v<span class="s24">i </span><span class="s5">implies </span><span class="s22">(</span>v, v<span class="s24">i </span><span class="s22">) </span><span class="s23">∈ </span>E<span class="s5">. A play </span>v<span class="s26">0</span>v<span class="s26">1</span>v<span class="s26">2 </span>. . . <span class="s5">is </span>played according to <span class="s5">the strategy </span>σ<span class="s5">, if</span></p><p class="s7" style="padding-top: 1pt;padding-left: 137pt;text-indent: 0pt;text-align: center;"><span class="s23">∀</span>i <span class="s23">∈ </span><span class="s22">N </span><span class="s5">: </span>v<span class="s27">i </span><span class="s23">∈ </span>V<span class="s21">E </span><span class="s23">⇒ </span>σ<span class="s22">(</span>v<span class="s26">0</span>v<span class="s26">1 </span>. . . v<span class="s27">i </span><span class="s22">) = </span>v<span class="s27">i</span><span class="s28">+</span><span class="s26">1</span>.</p><p class="s7" style="padding-top: 5pt;padding-left: 13pt;text-indent: 11pt;line-height: 71%;text-align: justify;"><span class="s5">Given an initial vertex </span>v<span class="s30">0</span><span class="s8"> </span><span class="s5">and a strategy </span>σ <span class="s5">for Eve, let </span>Out <span class="s22">(</span>σ, v<span class="s30">0</span><span class="s22">) </span><span class="s5">denote all plays from </span>v<span class="s30">0</span><span class="s8"> </span><span class="s5">played according to </span>σ<span class="s5">. We say that </span>σ <span class="s5">is a </span>winning strategy <span class="s5">from </span>v<span class="s30">0</span><span class="s5">, if </span>c<span class="s22">(</span>α<span class="s22">) </span><span class="s23">∈ </span>Win <span class="s5">for all </span>α <span class="s23">∈ </span>Out <span class="s22">(</span>σ, v<span class="s30">0</span><span class="s22">)</span><span class="s5">.</span></p><ol id="l5"><li data-list-text="2.1"><p class="s3" style="padding-top: 9pt;padding-left: 39pt;text-indent: -24pt;line-height: 12pt;text-align: left;"><a name="bookmark8">Reachability games</a></p><p class="s7" style="padding-top: 3pt;padding-left: 14pt;text-indent: 0pt;line-height: 70%;text-align: justify;"><span class="s5">Suppose a designated target color </span>c<span class="s24">i </span><span class="s25">∈ </span>C <span class="s5">is given. A game with a winning condition of the form</span></p><p class="s7" style="padding-top: 3pt;padding-left: 137pt;text-indent: 0pt;text-align: center;"><span class="s23">{</span>c<span class="s26">0</span>c<span class="s26">1 </span>. . . <span class="s23">| ∃</span>i <span class="s23">∈ </span><span class="s22">N </span><span class="s5">: </span>c<span class="s27">i </span><span class="s22">= </span>c<span class="s24">i</span><span class="s25">}</span></p><p class="s5" style="padding-top: 5pt;padding-left: 14pt;text-indent: 0pt;line-height: 71%;text-align: justify;">is called a <span class="s7">reachability game </span><a href="#bookmark57" class="s16">[</a>2]. In such a game, Eve wins a play, if the token eventually reaches a vertex colored <span class="s7">c</span><span class="s24">i</span>. Vertices having color <span class="s7">c</span><span class="s24">i </span>are called <span class="s7">goal </span><a href="#bookmark57" class="s16">vertices. For this type of games, we have [2]:</a></p><p class="s7" style="padding-top: 7pt;padding-left: 14pt;text-indent: 10pt;line-height: 92%;text-align: justify;"><a name="bookmark33"><span class="s8">Theorem 2.1. </span></a>Let <span class="s23">G </span><span class="s22">= ((</span>V<span class="s21">E</span>, V<span class="s21">A</span>, E, c<span class="s22">)</span>, Win<span class="s22">) </span>be a reach- ability game. Then, there exists a partition <span class="s23">{</span>Win<span class="s21">E</span>, Win<span class="s21">A</span><span class="s23">} </span>of V , such that Eve has a winning strategy from any initial</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="321" height="406" alt="image" src="Docs_files/Image_004.png"/></span></p><p class="s31" style="text-indent: 0pt;line-height: 6pt;text-align: left;">t1</p><p style="text-indent: 0pt;text-align: left;"/><p class="s12" style="text-indent: 0pt;text-align: left;">v4</p><p style="text-indent: 0pt;text-align: left;"/><p class="s32" style="text-indent: 0pt;text-align: left;">s20</p><p style="text-indent: 0pt;text-align: left;"/><p class="s31" style="text-indent: 0pt;line-height: 6pt;text-align: left;">t2</p><p style="text-indent: 0pt;text-align: left;"/><p class="s32" style="text-indent: 0pt;text-align: left;">s10</p><p style="text-indent: 0pt;text-align: left;"/><p class="s32" style="text-indent: 0pt;text-align: left;">s11</p><p style="text-indent: 0pt;text-align: left;"/><p class="s32" style="text-indent: 0pt;text-align: left;">s12</p><p style="text-indent: 0pt;text-align: left;"/><p class="s31" style="text-indent: 0pt;line-height: 6pt;text-align: left;">t1</p><p style="text-indent: 0pt;text-align: left;"/><p class="s12" style="text-indent: 10pt;line-height: 92%;text-align: left;">v1 initial</p><p style="text-indent: 0pt;text-align: left;"/><p class="s32" style="text-indent: 0pt;text-align: left;">s20</p><p style="text-indent: 0pt;text-align: left;"/><p class="s31" style="text-indent: 0pt;line-height: 6pt;text-align: left;">t2</p><p style="text-indent: 0pt;text-align: left;"/><p class="s32" style="text-indent: 0pt;text-align: left;">s10</p><p style="text-indent: 0pt;text-align: left;"/><p class="s32" style="text-indent: 0pt;text-align: left;">s11</p><p style="text-indent: 0pt;text-align: left;"/><p class="s32" style="text-indent: 0pt;text-align: left;">s12</p><p style="text-indent: 0pt;text-align: left;"/><p class="s31" style="text-indent: 0pt;line-height: 6pt;text-align: left;">t1</p><p style="text-indent: 0pt;text-align: left;"/><p class="s12" style="text-indent: 0pt;text-align: left;">v5</p><p style="text-indent: 0pt;text-align: left;"/><p class="s32" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">s20</p><p class="s31" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">t2</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s32" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">s10</p><p style="text-indent: 0pt;text-align: left;"/><p class="s32" style="text-indent: 0pt;text-align: left;">s11</p><p style="text-indent: 0pt;text-align: left;"/><p class="s32" style="text-indent: 0pt;text-align: left;">s12</p><p style="text-indent: 0pt;text-align: left;"/><p class="s12" style="text-indent: 0pt;text-align: left;">v8</p><p style="text-indent: 0pt;text-align: left;"/><p class="s32" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">s20</p><p class="s31" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">t2</p><p style="text-indent: 0pt;text-align: left;"/><p class="s31" style="text-indent: 0pt;line-height: 6pt;text-align: left;">t1</p><p style="text-indent: 0pt;text-align: left;"/><p class="s32" style="text-indent: 0pt;text-align: left;">s10</p><p style="text-indent: 0pt;text-align: left;"/><p class="s32" style="text-indent: 0pt;text-align: left;">s11</p><p style="text-indent: 0pt;text-align: left;"/><p class="s32" style="text-indent: 0pt;text-align: left;">s12</p><p style="text-indent: 0pt;text-align: left;"/><p class="s32" style="text-indent: 0pt;text-align: left;">s12</p><p style="text-indent: 0pt;text-align: left;"/><p class="s32" style="text-indent: 0pt;text-align: left;">s11</p><p style="text-indent: 0pt;text-align: left;"/><p class="s32" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">s20</p><p class="s31" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">t2</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s32" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">s10</p><p style="text-indent: 0pt;text-align: left;"/><p class="s12" style="text-indent: 0pt;text-align: left;">v7</p><p style="text-indent: 0pt;text-align: left;"/><p class="s31" style="text-indent: 0pt;line-height: 6pt;text-align: left;">t1</p><p style="text-indent: 0pt;text-align: left;"/><p class="s32" style="text-indent: 0pt;text-align: left;">s12</p><p style="text-indent: 0pt;text-align: left;"/><p class="s32" style="text-indent: 0pt;text-align: left;">s11</p><p style="text-indent: 0pt;text-align: left;"/><p class="s32" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">s20</p><p class="s31" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">t2</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s32" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">s10</p><p style="text-indent: 0pt;text-align: left;"/><p class="s12" style="text-indent: 0pt;text-align: left;">v6</p><p style="text-indent: 0pt;text-align: left;"/><p class="s31" style="text-indent: 0pt;line-height: 6pt;text-align: left;">t1</p><p style="text-indent: 0pt;text-align: left;"/><p class="s32" style="text-indent: 0pt;text-align: left;">s12</p><p style="text-indent: 0pt;text-align: left;"/><p class="s32" style="text-indent: 0pt;text-align: left;">s11</p><p style="text-indent: 0pt;text-align: left;"/><p class="s32" style="text-indent: 0pt;text-align: left;">s10</p><p style="text-indent: 0pt;text-align: left;"/><p class="s31" style="text-indent: 0pt;line-height: 6pt;text-align: left;">t2</p><p style="text-indent: 0pt;text-align: left;"/><p class="s32" style="text-indent: 0pt;text-align: left;">s20</p><p style="text-indent: 0pt;text-align: left;"/><p class="s12" style="text-indent: 0pt;text-align: left;">v3</p><p style="text-indent: 0pt;text-align: left;"/><p class="s31" style="text-indent: 0pt;line-height: 6pt;text-align: left;">t1</p><p style="text-indent: 0pt;text-align: left;"/><p class="s32" style="text-indent: 0pt;text-align: left;">s12</p><p style="text-indent: 0pt;text-align: left;"/><p class="s32" style="text-indent: 0pt;text-align: left;">s11</p><p style="text-indent: 0pt;text-align: left;"/><p class="s32" style="text-indent: 0pt;text-align: left;">s10</p><p style="text-indent: 0pt;text-align: left;"/><p class="s31" style="text-indent: 0pt;line-height: 6pt;text-align: left;">t2</p><p style="text-indent: 0pt;text-align: left;"/><p class="s32" style="text-indent: 0pt;text-align: left;">s20</p><p style="text-indent: 0pt;text-align: left;"/><p class="s12" style="text-indent: 0pt;text-align: left;">v2</p><p style="text-indent: 0pt;text-align: left;"/><p class="s31" style="text-indent: 0pt;line-height: 6pt;text-align: left;">t1</p><p style="text-indent: 0pt;text-align: left;"/><p class="s8" style="padding-top: 11pt;padding-left: 13pt;text-indent: 1pt;line-height: 106%;text-align: justify;"><a href="#bookmark32" class="s19" name="bookmark34">Figure 2: A subset of the game graph induced by the rail- way network shown in Figure </a>1. The green edges (<i>v1</i>,<i>v3</i>) and (<i>v5</i>,<i>v7</i>) indicate Eve’s winning moves.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s7" style="padding-left: 13pt;text-indent: 0pt;line-height: 92%;text-align: justify;">vertex v <span class="s23">∈ </span>Win<span class="s21">E </span>and Adam has a winning strategy from any initial vertex v <span class="s23">∈ </span>Win<span class="s21">A</span>.</p><p class="s5" style="padding-top: 4pt;padding-left: 14pt;text-indent: 0pt;line-height: 71%;text-align: justify;">In essence, this theorem states that if both players are perfect, then the winner is determined before the first move. We use the term <span class="s7">winning areas </span>to describe <span class="s7">Win</span><span class="s21">E </span>and <span class="s7">Win</span><span class="s21">A</span>.</p><p class="s5" style="padding-left: 13pt;text-indent: 10pt;line-height: 71%;text-align: justify;">In addition, it can be shown that reachability games are <span class="s7">memoryless determined </span><a href="#bookmark57" class="s16">[</a>2]. This means that in order to ensure a win, the winning player only needs to consider the current vertex when deciding on his next move.</p></li><li data-list-text="2.2"><p class="s3" style="padding-top: 7pt;padding-left: 38pt;text-indent: -24pt;line-height: 12pt;text-align: left;"><a name="bookmark9">A Game for a Railway Network</a></p><p class="s5" style="padding-top: 3pt;padding-left: 13pt;text-indent: 0pt;line-height: 71%;text-align: justify;"><a href="#bookmark32" class="s16">A subset of the game graph for the railway network in Figure </a><a href="#bookmark34" class="s16">1 is shown in Figure </a>2. Recall that Eve changes the configura- tion of signals and points and Adam moves the trains. That is, Eve controls the vertices with dashed edges and rounded corners and Adam controls the vertices with solid edges and sharp corners. In order to cause progression, we force Adam to move a train, if these are not all blocked by closed signals. The turn alternates between the two players.</p><p class="s5" style="padding-left: 24pt;text-indent: 0pt;line-height: 9pt;text-align: justify;">The token starts at <span class="s7">v1 </span>, where the trains are at their initial</p><p class="s5" style="padding-top: 1pt;padding-left: 13pt;text-indent: 0pt;line-height: 71%;text-align: justify;">positions and the points and signals are in default states. The vertex <span class="s7">v8 </span>is a goal vertex, as we assume that <span class="s7">t1 </span>and <span class="s7">t2 </span>have sections <span class="s7">s12 </span>and <span class="s7">s10 </span>as respective destinations.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s5" style="padding-top: 7pt;padding-left: 14pt;text-indent: 10pt;line-height: 71%;text-align: justify;">In <span class="s7">v1</span>, Eve has the turn and she must move the token to one of the vertices <span class="s7">v2 </span>, <span class="s7">v3 </span>, <span class="s7">v4 </span><a href="#bookmark34" class="s16">, and some others not shown in Figure </a>2. From <span class="s7">v2 </span>, Adam can derail <span class="s7">t1 </span>by moving the train onto the point <span class="s7">s11 </span>, which connects <span class="s7">s10 </span>and <span class="s7">s12 </span>and not <span class="s7">s20 </span>and <span class="s7">s12 </span>. From <span class="s7">v4 </span>, Adam can collide the trains, because <span class="s7">s11 </span>connects <span class="s7">s20 </span>and <span class="s7">s12 </span>. Clearly, Eve wants to avoid these two vertices.</p><p class="s5" style="padding-left: 14pt;text-indent: 9pt;line-height: 71%;text-align: justify;">In <span class="s7">v3 </span>, <span class="s7">t1 </span>is blocked by a closed signal, so Eve does not risk derailment. The point <span class="s7">s11 </span>connects <span class="s7">s10 </span>and <span class="s7">s12 </span>, so she does not risk collision either. In addition, from <span class="s7">v3 </span>, Adam is forced to move <span class="s7">t2 </span>to <span class="s7">s10 </span>, which is the destination of <span class="s7">t2 </span>. Hence, Eve moves from <span class="s7">v1 </span>to <span class="s7">v3 </span>and Adam moves from <span class="s7">v3 </span>to <span class="s7">v5 </span>.</p><p class="s5" style="padding-left: 14pt;text-indent: 10pt;line-height: 71%;text-align: justify;">In <span class="s7">v5 </span>, Eve has the turn and she can choose between <span class="s7">v6 </span>, <span class="s7">v7 </span><a href="#bookmark34" class="s16">, and other vertices not shown in Figure 2.</a> From <span class="s7">v6 </span>, Adam can derail <span class="s7">t2 </span>, because the signal along <span class="s7">s10 </span>is open. Therefore, Eve moves to <span class="s7">v7 </span>.</p><p class="s5" style="padding-left: 14pt;text-indent: 10pt;line-height: 71%;text-align: justify;">In <span class="s7">v7 </span>, the point <span class="s7">s11 </span>connects <span class="s7">s20 </span>and <span class="s7">s12 </span>and the train <span class="s7">t1 </span>is allowed to move, as the signal along <span class="s7">s20 </span>is open. Because Adam is forced to move a train if he can, he must move <span class="s7">t1 </span>to <span class="s7">s12 </span>by moving the game token to <span class="s7">v8 </span>. This vertex is a goal vertex, so we terminate the game with Eve as the winner. Furthermore, Adam never had a chance of winning, so Eve has a winning strategy by making the moves just described. Notice that these moves also describe a correct signaling plan for the network.</p></li><li data-list-text="2.3"><p class="s3" style="padding-top: 6pt;padding-left: 39pt;text-indent: -24pt;line-height: 12pt;text-align: left;"><a name="bookmark10">Solving Reachability Games</a></p><p class="s5" style="padding-top: 3pt;padding-left: 14pt;text-indent: 0pt;line-height: 71%;text-align: justify;"><a href="#bookmark33" class="s16">The proof of </a><a href="#bookmark57" class="s16">Theorem 2.1 presented in [</a><a href="#bookmark35" class="s16">2] is interesting, be- cause it reveals a way to compute an optimal strategy for Eve. The corresponding algorithm is shown in </a>Algorithm 1. This algorithm computes Eve’s winning area based on a breadth- first search: Starting from the goal vertices, it iteratively expands the winning area by exploring the reverse game graph. When the algorithm discovers an Eve vertex, it is included in the winning area, as Eve can move to the current winning area in one move. When the algorithm discovers an Adam vertex where every successor has been explored, it is also included in the winning area, as Adam has no choice but to move to the current winning area. In order to achieve linear time complexity, we keep track of the number of unexplored successors to each vertex.</p><p class="s5" style="padding-left: 24pt;text-indent: 0pt;line-height: 9pt;text-align: justify;">The optimal strategy for Eve is to move to a vertex ex-</p><p class="s5" style="padding-top: 1pt;padding-left: 14pt;text-indent: 0pt;line-height: 71%;text-align: justify;">plored earlier than the current one whenever possible. This strategy is winning from every vertex in her winning area.</p><p class="s5" style="padding-left: 14pt;text-indent: 9pt;line-height: 71%;text-align: justify;"><a href="#bookmark36" class="s16">We use the types shown in Figure </a><a href="#bookmark35" class="s16">3 to model game graphs and the concepts from Algorithm 1. With these types, the pseudocode of Algorithm </a>1 translates straightforwardly into an F<span class="s6"># </span>function <span class="s33">solveReachability </span>with the following type:</p><p class="s33" style="padding-top: 4pt;padding-left: 29pt;text-indent: -4pt;line-height: 107%;text-align: left;">GameGraph&lt;’misc,’color&gt; -&gt; ’color -&gt;</p><p class="s33" style="padding-left: 29pt;text-indent: 0pt;text-align: left;">Winners&lt;’misc,’color&gt; * Strategy&lt;’misc,’color&gt;</p><p style="padding-top: 3pt;padding-left: 14pt;text-indent: 0pt;line-height: 71%;text-align: justify;"><a href="#bookmark54" class="s16">Here, the second parameter specifies the target color of the game. The function definition is in Appendix A.</a></p><p class="s7" style="padding-left: 14pt;text-indent: 10pt;line-height: 71%;text-align: justify;"><span class="s5">We represent a game graph </span>G <span class="s22">= (</span>V<span class="s21">E</span>, V<span class="s21">A</span>, E, c<span class="s22">) </span><span class="s5">using adja- cency lists of the reverse graph and we augment each vertex with its number of successors: An entry in the dictionary for</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 14pt;text-indent: 0pt;line-height: 1pt;text-align: left;"><span><img width="319" height="1" alt="image" src="Docs_files/Image_005.png"/></span></p><p class="s5" style="padding-left: 14pt;text-indent: 0pt;line-height: 71%;text-align: justify;"><a name="bookmark35"><span class="s8">Algorithm 1 </span></a>Algorithm for solving a reachability game <span class="s23">G </span>with finite game graph <span class="s22">(</span><span class="s7">V</span><span class="s21">E</span><span class="s7">, V</span><span class="s21">A</span><span class="s7">, E, c</span><span class="s22">) </span>and target color <span class="s7">c</span><span class="s24">i</span>. The winning areas of <span class="s23">G </span>can be obtained by scanning the output <span class="s7">win </span>and an optimal strategy for Eve is given by the output <span class="s7">strategy</span><a href="#bookmark57" class="s16">. This algorithm is inspired by [2].</a></p><p style="padding-left: 14pt;text-indent: 0pt;line-height: 1pt;text-align: left;"><span><img width="321" height="1" alt="image" src="Docs_files/Image_006.png"/></span></p><p class="s7" style="padding-left: 19pt;text-indent: 0pt;line-height: 14pt;text-align: left;"><span class="s10">1: </span><span class="s34">function SolveReachability</span><span class="s5">(</span><span class="s22">(</span>V<span class="s21">E</span>, V<span class="s21">A</span>, E, c<span class="s22">)</span>, c<span class="s24">i</span><span class="s5">)</span></p><p class="s7" style="padding-left: 19pt;text-indent: 0pt;line-height: 9pt;text-align: left;"><span class="s10">2:   </span><span class="s34">for all </span>v <span class="s23">∈ </span>V<span class="s21">E </span><span class="s23">∪ </span>V<span class="s21">A </span><span class="s8">do</span></p><p class="s7" style="padding-left: 19pt;text-indent: 0pt;line-height: 11pt;text-align: left;"><span class="s10">3:    </span>win<span class="s5">[</span>v<span class="s5">] </span><span class="s23">← </span><span class="s8">Adam</span></p><p class="s7" style="padding-left: 19pt;text-indent: 0pt;line-height: 11pt;text-align: left;"><span class="s10">4:    </span>P <span class="s5">[</span>v<span class="s5">] </span><span class="s23">← ∅</span></p><p class="s5" style="padding-left: 19pt;text-indent: 0pt;line-height: 11pt;text-align: left;"><span class="s10">5:    </span><span class="s7">n</span>[<span class="s7">v</span>] <span class="s23">← </span>0</p><p class="s7" style="padding-left: 19pt;text-indent: 0pt;line-height: 13pt;text-align: left;"><span class="s10">6:    </span>strategy<span class="s5">[</span>v<span class="s5">] </span><span class="s23">← ⊥</span></p><p class="s22" style="padding-left: 19pt;text-indent: 0pt;line-height: 9pt;text-align: left;"><span class="s10">7:   </span><span class="s34">for all </span>(<span class="s7">u, v</span>) <span class="s23">∈ </span><span class="s7">E </span><span class="s8">do</span></p><p class="s7" style="padding-left: 19pt;text-indent: 0pt;line-height: 12pt;text-align: left;"><span class="s10">8:    </span>P <span class="s5">[</span>v<span class="s5">] </span><span class="s23">← </span>P <span class="s5">[</span>v<span class="s5">] </span><span class="s23">∪ {</span>u<span class="s23">}</span></p><p class="s5" style="padding-left: 19pt;text-indent: 0pt;line-height: 13pt;text-align: left;"><span class="s10">9:    </span><span class="s7">n</span>[<span class="s7">u</span>] <span class="s23">← </span><span class="s7">n</span>[<span class="s7">u</span>] <span class="s22">+ </span>1</p><p class="s10" style="padding-top: 1pt;padding-left: 15pt;text-indent: 0pt;line-height: 9pt;text-align: left;">10:  <span class="s7">Q </span><span class="s23">← ∅</span></p><p class="s7" style="padding-left: 15pt;text-indent: 0pt;line-height: 12pt;text-align: left;"><span class="s10">11:   </span><span class="s34">for all </span>v <span class="s23">∈ </span>V<span class="s21">E </span><span class="s23">∪ </span>V<span class="s21">A </span><span class="s5">such that </span>c<span class="s22">(</span>v<span class="s22">) = </span>c<span class="s24">i </span><span class="s8">do</span></p><p class="s7" style="padding-left: 15pt;text-indent: 0pt;line-height: 11pt;text-align: left;"><span class="s10">12:    </span>win<span class="s5">[</span>v<span class="s5">] </span><span class="s23">← </span><span class="s8">Eve</span></p><p class="s5" style="padding-left: 15pt;text-indent: 0pt;line-height: 13pt;text-align: left;"><span class="s10">13:    </span><span class="s34">Enqueue</span>(<span class="s7">Q, v</span>)</p><p class="s10" style="padding-top: 1pt;padding-left: 15pt;text-indent: 0pt;line-height: 9pt;text-align: left;">14:  <span class="s34">while </span><span class="s7">Q </span><span class="s22">= </span><span class="s23">∅ </span><span class="s8">do</span></p><p class="s7" style="padding-left: 15pt;text-indent: 0pt;line-height: 12pt;text-align: left;"><span class="s10">15:    </span>v <span class="s23">← </span><span class="s8">Dequeue</span><span class="s5">(</span>Q<span class="s5">)</span></p><p class="s7" style="padding-left: 15pt;text-indent: 0pt;line-height: 11pt;text-align: left;"><span class="s10">16:    </span><span class="s34">for all </span>p <span class="s23">∈ </span>P <span class="s5">[</span>v<span class="s5">] </span><span class="s8">do</span></p><p class="s5" style="padding-left: 15pt;text-indent: 0pt;line-height: 11pt;text-align: left;"><span class="s10">17:     </span><span class="s7">n</span>[<span class="s7">p</span>] <span class="s23">← </span><span class="s7">n</span>[<span class="s7">p</span>] <span class="s23">− </span>1</p><p class="s7" style="padding-left: 15pt;text-indent: 0pt;line-height: 11pt;text-align: left;"><span class="s10">18:      </span><span class="s34">if </span>win<span class="s5">[</span>p<span class="s5">] </span><span class="s22">= </span><span class="s8">Adam </span><span class="s23">∧ </span><span class="s22">(</span>p <span class="s23">∈ </span>V<span class="s21">E </span><span class="s23">∨ </span>n<span class="s5">[</span>p<span class="s5">] </span><span class="s22">= </span><span class="s5">0</span><span class="s22">) </span><span class="s8">then</span></p><p class="s7" style="padding-left: 15pt;text-indent: 0pt;line-height: 11pt;text-align: left;"><span class="s10">19:        </span>win<span class="s5">[</span>p<span class="s5">] </span><span class="s23">← </span><span class="s8">Eve</span></p><p class="s7" style="padding-left: 15pt;text-indent: 0pt;line-height: 11pt;text-align: left;"><span class="s10">20:       </span>strategy<span class="s5">[</span>p<span class="s5">] </span><span class="s23">← </span>v</p><p class="s5" style="padding-left: 15pt;text-indent: 0pt;line-height: 13pt;text-align: left;"><span class="s10">21:        </span><span class="s34">Enqueue</span>(<span class="s7">Q, p</span>)</p><p class="s22" style="padding-bottom: 3pt;padding-left: 15pt;text-indent: 0pt;text-align: left;"><span class="s10">22:  </span><span class="s34">return </span>(<span class="s7">win, strategy</span>)</p><p style="padding-left: 14pt;text-indent: 0pt;line-height: 1pt;text-align: left;"><span><img width="321" height="1" alt="image" src="Docs_files/Image_007.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s36" style="padding-left: 14pt;text-indent: 0pt;line-height: 93%;text-align: left;"><a name="bookmark36"><span style=" color: #2121FF;">type </span></a>Player = Adam | Eve <span style=" color: #2121FF;">type </span>Vertex&lt;<i>&#39;</i>misc, <i>&#39;</i>color&gt;</p><p class="s37" style="padding-left: 31pt;text-indent: 0pt;line-height: 93%;text-align: left;"><span class="s35">when </span>&#39;<span class="s36">misc:equality </span><span class="s35">and </span>&#39;<span class="s36">color:equality = </span>&#39;<span class="s36">misc * </span>&#39;<span class="s36">color * Player</span></p><p class="s36" style="padding-left: 14pt;text-indent: 0pt;line-height: 8pt;text-align: left;"><span style=" color: #2121FF;">type </span>GameGraph&lt;<i>&#39;</i>misc, <i>&#39;</i>color&gt;</p><p class="s37" style="padding-left: 31pt;text-indent: 0pt;line-height: 93%;text-align: left;"><span class="s35">when </span>&#39;<span class="s36">misc:equality </span><span class="s35">and </span>&#39;<span class="s36">color:equality = Dictionary&lt;Vertex&lt;</span>&#39;<span class="s36">misc, </span>&#39;<span class="s36">color&gt;,</span></p><p class="s36" style="padding-left: 14pt;text-indent: 63pt;line-height: 93%;text-align: left;">int * List&lt;Vertex&lt;<i>&#39;</i>misc, <i>&#39;</i>color&gt;&gt;&gt; <span style=" color: #2121FF;">type </span>Winners&lt;<i>&#39;</i>misc, <i>&#39;</i>color&gt;</p><p class="s37" style="padding-left: 31pt;text-indent: 0pt;line-height: 93%;text-align: left;"><span class="s35">when </span>&#39;<span class="s36">misc:equality </span><span class="s35">and </span>&#39;<span class="s36">color:equality = Dictionary&lt;Vertex&lt;</span>&#39;<span class="s36">misc, </span>&#39;<span class="s36">color&gt;, Player&gt;</span></p><p class="s36" style="padding-left: 14pt;text-indent: 0pt;line-height: 8pt;text-align: left;"><span style=" color: #2121FF;">type </span>Strategy&lt;<i>&#39;</i>misc, <i>&#39;</i>color&gt;</p><p class="s37" style="padding-left: 31pt;text-indent: 0pt;line-height: 93%;text-align: left;"><span class="s35">when </span>&#39;<span class="s36">misc:equality </span><span class="s35">and </span>&#39;<span class="s36">color:equality = seq&lt;Vertex&lt;</span>&#39;<span class="s36">misc, </span>&#39;<span class="s36">color&gt; * Vertex&lt;</span>&#39;<span class="s36">misc, </span>&#39;<span class="s36">color&gt;&gt;</span></p><p class="s8" style="padding-top: 4pt;padding-left: 14pt;text-indent: 0pt;text-align: justify;">Figure 3: Representations of game graphs, winning areas, and strategies. The <span class="s38">int </span>component of <span class="s38">GameGraph </span>is used to store the number of successors to a vertex. The types <span class="s38">List </span>and <span class="s38">Dictionary </span><a href="#bookmark61" class="s19">are from the standard library of the Common Language Infrastructure </a><a href="#bookmark63" class="s19">[6, </a>8] and they implement dynamic arrays and hash tables.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s7" style="padding-left: 14pt;text-indent: 0pt;line-height: 71%;text-align: justify;"><span class="s5">a given vertex </span>v <span class="s5">is a pair </span><span class="s22">(</span>k, <span class="s5">[</span>v<span class="s30">1</span><span class="s5">; </span>. . . <span class="s5">; </span>v<span class="s27">n</span><span class="s5">]</span><span class="s22">)</span><span class="s5">, where </span>k <span class="s5">is the num- ber of unexplored successors to </span>v <span class="s5">in </span>G <span class="s5">and where </span><span class="s22">(</span>v<span class="s27">i</span>, v<span class="s22">) </span><span class="s23">∈ </span>E <span class="s5">for 1 </span><span class="s23">≤ </span>i <span class="s23">≤ </span>n<span class="s5">. This representation is the basis of an efficient game-solving algorithm that is linear in both the number of vertices and the number edges.</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s35" style="padding-top: 6pt;padding-left: 14pt;text-indent: 0pt;line-height: 9pt;text-align: left;"><a name="bookmark37">type </a><span style=" color: #000;">Label = string</span></p><p class="s35" style="padding-left: 14pt;text-indent: 0pt;line-height: 9pt;text-align: left;">type <span style=" color: #000;">Linear = Linear </span>of <span style=" color: #000;">Label</span></p><p class="s35" style="padding-left: 14pt;text-indent: 0pt;line-height: 93%;text-align: left;">type <span style=" color: #000;">LinearExtended = RealLinear </span>of <span style=" color: #000;">Linear | Derail </span>type <span style=" color: #000;">Point = Point </span>of <span style=" color: #000;">Label</span></p><p class="s35" style="padding-left: 14pt;text-indent: 0pt;text-align: left;">type <span style=" color: #000;">LinearPort = Down </span>of <span style=" color: #000;">Linear | Up </span>of <span style=" color: #000;">Linear </span>type <span style=" color: #000;">PointPort = | Stem </span>of <span style=" color: #000;">Point</span></p><p class="s36" style="padding-left: 86pt;text-indent: 0pt;line-height: 9pt;text-align: left;">| Plus <span style=" color: #2121FF;">of </span>Point</p><p class="s36" style="padding-left: 86pt;text-indent: 0pt;line-height: 9pt;text-align: left;">| Minus <span style=" color: #2121FF;">of </span>Point</p><p class="s35" style="padding-left: 14pt;text-indent: 0pt;line-height: 9pt;text-align: left;">type <span style=" color: #000;">PointPortExtended = | RealPointPort </span>of <span style=" color: #000;">PointPort</span></p><p class="s36" style="padding-left: 14pt;text-indent: 105pt;text-align: left;">| PointPortNull <span style=" color: #2121FF;">type </span>Port = | LinearPort <span style=" color: #2121FF;">of </span>LinearPort</p><p class="s36" style="padding-left: 65pt;text-indent: 0pt;line-height: 9pt;text-align: left;">| PointPort <span style=" color: #2121FF;">of </span>PointPort</p><p class="s35" style="padding-left: 14pt;text-indent: 0pt;line-height: 93%;text-align: left;">type <span style=" color: #000;">PortExtended = RealPort </span>of <span style=" color: #000;">Port | Null </span>type <span style=" color: #000;">Signal = LinearPort</span></p><p class="s8" style="padding-top: 4pt;padding-left: 14pt;text-indent: 0pt;line-height: 106%;text-align: left;">Figure 4: The types representing basic railway network con- cepts.</p><p style="text-indent: 0pt;text-align: left;"><br/></p></li></ol></li><li data-list-text="3"><p class="s3" style="padding-top: 8pt;padding-left: 31pt;text-indent: -16pt;line-height: 12pt;text-align: left;"><a name="bookmark11">RAILWAY NETWORK MODEL</a></p><p style="padding-top: 3pt;padding-left: 14pt;text-indent: 0pt;line-height: 71%;text-align: justify;"><a href="#bookmark72" class="s16">The program design presented below is based on the mathe- matical model of railway networks developed in [17].</a></p><ol id="l6"><li data-list-text="3.1"><p class="s3" style="padding-top: 10pt;padding-left: 39pt;text-indent: -24pt;line-height: 12pt;text-align: left;"><a name="bookmark12">Basic Concepts</a></p><p class="s5" style="padding-top: 3pt;padding-left: 14pt;text-indent: 0pt;line-height: 71%;text-align: justify;">The basic concepts from the mathematical model are ex- pressed by F<span class="s6"># </span><a href="#bookmark37" class="s16">types in Figure </a>4. Central concepts are <span class="s7">linear section </span>(type <span class="s33">Linear</span>) and <span class="s7">point section </span>(type <span class="s33">Point</span>). Each section has a unique label.</p><p class="s5" style="padding-left: 14pt;text-indent: 10pt;line-height: 71%;text-align: justify;">A <span class="s7">port </span>(type <span class="s33">Port</span>) is the end of a section: A linear sec- tion has two ports called <span class="s7">up </span>and <span class="s7">down </span>and a point section has three ports called <span class="s7">stem</span>, <span class="s7">plus</span>, and <span class="s7">minus</span>. The track be- tween <span class="s7">stem </span>and <span class="s7">plus </span>forms the main path through the point. These concepts originate from the Danish railway terminol- ogy, where <span class="s7">up </span>(<span class="s7">down</span><a href="#bookmark79" class="s16">) denotes the direction, in which the distance from some reference location is increasing (decreas- ing) [</a>24]. A <span class="s7">signal </span>(type <span class="s33">Signal</span>) is placed at a port of a linear section.</p><p class="s5" style="padding-left: 24pt;text-indent: 0pt;line-height: 9pt;text-align: justify;">Some types have been extended in order to cover special</p><p class="s5" style="padding-left: 14pt;text-indent: 0pt;line-height: 71%;text-align: justify;">cases: For example, <span class="s33">LinearExtended </span>contains the artificial section <span class="s33">Derail</span>, which indicates a derailment. Likewise, <span class="s33">Port- Extended </span>contains the artificial port <span class="s33">Null</span>, which marks the end of a track.</p></li><li data-list-text="3.2"><p class="s3" style="padding-top: 10pt;padding-left: 39pt;text-indent: -24pt;line-height: 12pt;text-align: left;"><a name="bookmark13">Network Specifications and States</a></p><p class="s5" style="padding-top: 3pt;padding-left: 14pt;text-indent: 0pt;line-height: 71%;text-align: justify;"><a href="#bookmark38" class="s16">In Figure </a>5, we present the types representing railway net- works and their states. A <span class="s7">network </span>(type <span class="s33">Network</span>) is a tuple <span class="s22">(</span><span class="s7">L, P, con, Signals, </span><span class="s39">start</span><span class="s7">, </span><span class="s39">dest</span><span class="s22">)</span>, where</p><ul id="l7"><li data-list-text="•"><p class="s7" style="padding-left: 48pt;text-indent: -9pt;line-height: 13pt;text-align: justify;">L <span class="s5">is the set of linear sections,</span></p></li><li data-list-text="•"><p class="s7" style="padding-left: 48pt;text-indent: -9pt;line-height: 11pt;text-align: justify;">P <span class="s5">is the set of points,</span></p></li><li data-list-text="•"><p class="s7" style="padding-top: 1pt;padding-left: 48pt;text-indent: -9pt;line-height: 71%;text-align: left;">con <span class="s5">is a function describing the connections of the ports,</span></p></li><li data-list-text="•"><p class="s7" style="padding-left: 48pt;text-indent: -9pt;line-height: 70%;text-align: left;">Signals <span class="s5">is the set containing the linear ports, at which there are signals, and</span></p></li><li data-list-text="•"><p class="s5" style="padding-left: 48pt;text-indent: -9pt;line-height: 71%;text-align: left;">the vectors <span class="s39">start</span><span class="s7"> </span>and <span class="s39">dest</span><span class="s7"> </span>describe the initial posi- tions and the destinations of the trains.</p><p class="s5" style="padding-top: 3pt;padding-left: 14pt;text-indent: 9pt;line-height: 71%;text-align: left;">A <span class="s7">state </span>(type <span class="s33">State</span>) represents an instantaneous descrip- tion of the network. A state is a tuple <span class="s22">(</span><span class="s39">pos</span><span class="s7">, Π, Σ</span><span class="s22">)</span>, where</p></li><li data-list-text="•"><p class="s39" style="padding-left: 48pt;text-indent: -9pt;text-align: left;">pos<span class="s7"> </span><span class="s5">is a vector describing the train positions,</span></p><p class="s35" style="padding-top: 6pt;padding-left: 15pt;text-indent: 0pt;line-height: 9pt;text-align: left;"><a name="bookmark38">type </a><span style=" color: #000;">PositionVector = Linear[]</span></p><p class="s35" style="padding-left: 15pt;text-indent: 0pt;line-height: 9pt;text-align: left;">type <span style=" color: #000;">PositionVectorExtended = LinearExtended[]</span></p><p class="s35" style="padding-top: 8pt;padding-left: 15pt;text-indent: 0pt;line-height: 9pt;text-align: left;">type <span style=" color: #000;">Network = (HashSet&lt;Linear&gt; * HashSet&lt;Point&gt;</span></p><ul id="l8"><li data-list-text="*"><p class="s36" style="padding-left: 91pt;text-indent: -8pt;line-height: 9pt;text-align: left;">(Port -&gt; PortExtended)</p></li><li data-list-text="*"><p class="s36" style="padding-left: 91pt;text-indent: -8pt;line-height: 9pt;text-align: left;">HashSet&lt;Signal&gt;</p></li><li data-list-text="*"><p class="s36" style="padding-left: 91pt;text-indent: -8pt;line-height: 9pt;text-align: left;">PositionVector * PositionVector)</p><p class="s35" style="padding-top: 8pt;padding-left: 15pt;text-indent: 0pt;line-height: 9pt;text-align: left;">type <span style=" color: #000;">Direction = DirectionDown | DirectionUp</span></p><p class="s35" style="padding-left: 15pt;text-indent: 0pt;text-align: left;">type <span style=" color: #000;">PointState = PointStatePlus | PointStateMinus [&lt;CustomEquality; NoComparison&gt;]</span></p><p class="s35" style="padding-left: 15pt;text-indent: 0pt;line-height: 8pt;text-align: left;">type <span style=" color: #000;">State = State </span>of <span style=" color: #000;">PositionVectorExtended</span></p><ul id="l9"><li data-list-text="*"><p class="s36" style="padding-left: 117pt;text-indent: -8pt;line-height: 8pt;text-align: left;">HashSet&lt;Point&gt;</p></li><li data-list-text="*"><p class="s36" style="padding-left: 117pt;text-indent: -8pt;line-height: 9pt;text-align: left;">HashSet&lt;Signal&gt;</p></li></ul></li></ul><p class="s8" style="padding-top: 4pt;padding-left: 15pt;text-indent: 0pt;text-align: justify;">Figure 5: The types representing railway networks and their states. The type <span class="s38">HashSet </span><a href="#bookmark62" class="s19">is from the standard library of the Common Language Infrastructure </a>[7] and it implements math- ematical sets.</p><p style="text-indent: 0pt;text-align: left;"><br/></p></li><li data-list-text="•"><p class="s7" style="padding-left: 40pt;text-indent: -9pt;line-height: 13pt;text-align: center;">Π <span class="s5">is a set containing every point in the </span>plus-state</p><p class="s5" style="padding-left: 137pt;text-indent: 0pt;line-height: 11pt;text-align: center;">connecting the stem-port and the plus-port, and</p></li><li data-list-text="•"><p class="s7" style="padding-left: 48pt;text-indent: -9pt;line-height: 12pt;text-align: justify;">Σ <span class="s5">is a set containing the open signals.</span></p><p class="s5" style="padding-top: 2pt;padding-left: 15pt;text-indent: 9pt;line-height: 71%;text-align: justify;">We have implemented custom definitions for equality and comparisons of <span class="s33">State</span>. This is because the standard library uses pointer equality to determine, whether two <span class="s33">HashSet</span>s are equal. Hence, without custom definitions, we may distinguish states, which are equal in a mathematical sense.</p><p class="s5" style="padding-left: 15pt;text-indent: 10pt;line-height: 71%;text-align: justify;"><a href="#bookmark37" class="s16">Note that it is possible to optimize the types of Figure 4</a><a href="#bookmark38" class="s16"> and Figure </a>5 for greater performance: By incorporating <span class="s33">Signal </span>into <span class="s33">Linear </span>and <span class="s33">PointState </span>into <span class="s33">Point</span>, we can determine the states of signals and points without lookups in <span class="s7">Π </span>and <span class="s7">Σ</span>. In fact, <span class="s7">Π </span>and <span class="s7">Σ </span>would be unnecessary. However, in order to increase development speed and minimize the risk of bugs, we have kept the type definitions simple and close to the mathematical model.</p></li></ul></li><li data-list-text="3.3"><p class="s3" style="padding-top: 7pt;padding-left: 40pt;text-indent: -24pt;line-height: 12pt;text-align: left;"><a name="bookmark14">State Transitions</a></p><p class="s5" style="padding-top: 3pt;padding-left: 14pt;text-indent: 0pt;line-height: 71%;text-align: justify;"><a href="#bookmark72" class="s16">The railway model from [</a>17] distinguishes between two types of <span class="s7">state transitions</span>: Movements of trains and updates to points and signals. The railway control system has no direct control of the former, whereas it has full control of the latter (leading to the roles of Adam and Eve).</p><p class="s5" style="padding-left: 15pt;text-indent: 10pt;line-height: 71%;text-align: justify;">At most one train moves during a single state transition. It moves directly to the next linear section, possibly traversing a point section in the process. It may also derail, if it leaves a section through an unconnected port or if it enters a point which is in the wrong state.</p><p class="s5" style="padding-left: 15pt;text-indent: 9pt;line-height: 71%;text-align: justify;">There is no restriction on the number of points and signals that may change state during a single transition.</p></li><li data-list-text="3.4"><p class="s3" style="padding-top: 7pt;padding-left: 40pt;text-indent: -24pt;line-height: 12pt;text-align: left;"><a name="bookmark15">Translation to a Reachability Game</a></p><p class="s5" style="padding-top: 3pt;padding-left: 15pt;text-indent: 0pt;line-height: 71%;text-align: justify;">The states of a railway network act as the vertices of the corresponding game graph and the state transitions act as the edges. Given a railway network, we use a simple search to generate the game graph explicitly: Starting from the vertex representing the initial state, we iteratively generate successors to discovered vertices. This continues until we have explored the entire game graph.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><table style="border-collapse:collapse;margin-left:3pt" cellspacing="0"><tr style="height:11pt"><td style="width:69pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s40" style="padding-right: 4pt;text-indent: 0pt;line-height: 10pt;text-align: right;">Function</p></td><td style="width:168pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s40" style="padding-left: 4pt;text-indent: 0pt;line-height: 10pt;text-align: left;">Type</p></td></tr><tr style="height:21pt"><td style="width:69pt;border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s41" style="padding-top: 5pt;padding-right: 4pt;text-indent: 0pt;text-align: right;">color</p></td><td style="width:168pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s41" style="padding-left: 4pt;text-indent: 0pt;text-align: left;">Network -&gt; PositionVectorExtended -&gt;</p><p class="s41" style="padding-left: 8pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Color</p></td></tr><tr style="height:20pt"><td style="width:69pt;border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s41" style="padding-top: 5pt;padding-right: 4pt;text-indent: 0pt;text-align: right;">next</p></td><td style="width:168pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s41" style="padding-left: 4pt;text-indent: 0pt;text-align: left;">Network -&gt; State -&gt; Linear -&gt;</p><p class="s41" style="padding-left: 8pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Direction -&gt; LinearExtended</p></td></tr><tr style="height:30pt"><td style="width:69pt;border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s41" style="padding-right: 4pt;text-indent: 0pt;text-align: right;">succAdam</p></td><td style="width:168pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s41" style="padding-left: 8pt;padding-right: 11pt;text-indent: -4pt;line-height: 110%;text-align: left;">GameVariant -&gt; Network -&gt; Direction[] -&gt; Vertex -&gt;</p><p class="s41" style="padding-left: 8pt;text-indent: 0pt;line-height: 9pt;text-align: left;">List&lt;Vertex&gt;</p></td></tr><tr style="height:30pt"><td style="width:69pt;border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s41" style="padding-right: 4pt;text-indent: 0pt;text-align: right;">relPointsSigs2</p></td><td style="width:168pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s41" style="padding-left: 8pt;text-indent: -4pt;line-height: 110%;text-align: left;">Network -&gt; Direction[] -&gt; Linear[] -&gt; (List&lt;LinearPort&gt; * HashSet&lt;Point&gt;</p><p class="s41" style="padding-left: 13pt;text-indent: 0pt;line-height: 9pt;text-align: left;">* List&lt;Signal&gt;)</p></td></tr><tr style="height:30pt"><td style="width:69pt;border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s41" style="padding-right: 4pt;text-indent: 0pt;text-align: right;">relPointsSigs3</p></td><td style="width:168pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s41" style="padding-left: 8pt;text-indent: -4pt;line-height: 110%;text-align: left;">Network -&gt; Direction[] -&gt; Linear[] -&gt; (bool * HashSet&lt;Point&gt;</p><p class="s41" style="padding-left: 13pt;text-indent: 0pt;line-height: 9pt;text-align: left;">* List&lt;Signal * Point option&gt;)</p></td></tr><tr style="height:30pt"><td style="width:69pt;border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s41" style="padding-right: 4pt;text-indent: 0pt;text-align: right;">succEve</p></td><td style="width:168pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s41" style="padding-left: 8pt;padding-right: 11pt;text-indent: -4pt;line-height: 110%;text-align: left;">GameVariant -&gt; Network -&gt; Direction[] -&gt; Vertex -&gt;</p><p class="s41" style="padding-left: 8pt;text-indent: 0pt;line-height: 9pt;text-align: left;">List&lt;Vertex&gt;</p></td></tr><tr style="height:20pt"><td style="width:69pt;border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s41" style="padding-top: 5pt;padding-right: 4pt;text-indent: 0pt;text-align: right;">nextLinears</p></td><td style="width:168pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s41" style="padding-left: 4pt;text-indent: 0pt;text-align: left;">Network -&gt; Direction -&gt; Linear -&gt;</p><p class="s41" style="padding-left: 8pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Linear list</p></td></tr><tr style="height:10pt"><td style="width:69pt;border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s41" style="padding-right: 4pt;text-indent: 0pt;line-height: 9pt;text-align: right;">directions</p></td><td style="width:168pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s41" style="padding-left: 4pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Network -&gt; Directions[]</p></td></tr><tr style="height:30pt"><td style="width:69pt;border-top-style:solid;border-top-width:1pt;border-right-style:solid;border-right-width:1pt"><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s41" style="padding-right: 4pt;text-indent: 0pt;text-align: right;">graph</p></td><td style="width:168pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt"><p style="text-indent: 0pt;text-align: left;"><br/></p></td></tr></table><p style="text-indent: 0pt;text-align: left;"/><p class="s5" style="padding-top: 6pt;padding-left: 278pt;text-indent: 0pt;line-height: 71%;text-align: justify;"><a name="bookmark39">the next linear section of a train based on the current state of the network. Since at most one train can move during a single state transition, one successor is generated for each train not blocked by a closed signal.</a></p><p class="s5" style="padding-left: 278pt;text-indent: 9pt;line-height: 71%;text-align: justify;">The function <span class="s33">succEve </span>generates successors resulting from updating points and signals. Since any number of points and signals can be updated during a single state transition, this function generates a number of successors exponential in the number of points and signals. However, this only</p><p class="s5" style="padding-left: 278pt;text-indent: 0pt;line-height: 8pt;text-align: justify;">applies to the game variants <span class="s23">G</span><span class="s42">0</span><span class="s8"> </span>and <span class="s23">G</span><span class="s42">1</span>. When generating</p><p class="s5" style="padding-left: 278pt;text-indent: 0pt;line-height: 13pt;text-align: left;">the graphs of <span class="s23">G</span><span class="s42">2</span><span class="s8"> </span>and <span class="s23">G</span><span class="s42">3</span>, <span class="s33">succEve </span>uses <span class="s33">relPointsSigs2 </span>and</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s36" style="padding-left: 137pt;text-indent: 0pt;line-height: 110%;text-align: center;">GameVariant -&gt; Network -&gt; (GameGraph&lt;State,Color&gt;</p><p class="s36" style="padding-left: 137pt;text-indent: 0pt;text-align: center;">* Vertex&lt;State,Color&gt;)</p><p class="s8" style="padding-left: 14pt;text-indent: 0pt;line-height: 106%;text-align: justify;">Table 1: An overview of the central functions concerning the translation from a network specification to a reachability game.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s5" style="padding-left: 14pt;text-indent: 10pt;line-height: 71%;text-align: justify;">We do not generate successors to crash vertices or goal vertices, as the outcome of the game is known, when the game token reaches such a vertex. We use the type <span class="s33">Color </span>to distinguish crash vertices and goal (success) vertices from the remaining vertices:</p><p class="s33" style="padding-top: 5pt;padding-left: 45pt;text-indent: 0pt;text-align: left;">type Color = Crash | Nothing | Success</p><p class="s5" style="padding-top: 4pt;padding-left: 14pt;text-indent: 10pt;line-height: 71%;text-align: justify;">The type of the generated graph is <span class="s33">Graph&lt;State,Color&gt;</span>. That is, the type of the vertices is <span class="s33">Vertex&lt;State,Color&gt;</span>.</p><p class="s5" style="padding-left: 14pt;text-indent: 9pt;line-height: 71%;text-align: justify;"><a href="#bookmark39" class="s16">The program design facilitating game-graph generation is shown in Table </a><a href="#bookmark72" class="s16">1. This design follows naturally from the railway model presented in [</a>17] and each function declara- tion is formulated in a manner that closely resembles the corresponding mathematical definition.</p><p class="s5" style="padding-left: 14pt;text-indent: 10pt;line-height: 71%;text-align: justify;">The main function is <span class="s33">graph</span>: Given a well-formed network, it returns the corresponding game graph and the initial vertex. To be more precise, <span class="s33">graph </span>generates the game graph of one of four variants <span class="s23">G</span><span class="s6">0</span>, <span class="s23">G</span><span class="s6">1</span>, <span class="s23">G</span><span class="s6">2</span>, and <span class="s23">G</span><span class="s6">3 </span><a href="#bookmark40" class="s16">of the reachability game. We discuss these variants in Section </a>4. The desired variant is specified by the first parameter, which is of type <span class="s33">Game-</span></p><p class="s33" style="padding-left: 14pt;text-indent: 0pt;line-height: 8pt;text-align: left;">Variant<span class="s5">:</span></p><p class="s33" style="padding-top: 1pt;padding-left: 14pt;text-indent: 0pt;line-height: 71%;text-align: right;">relPointsSigs3 <a href="#bookmark40" class="s16">to determine the points and signals, which influence train movements in the current state. By ignoring the remaining points and signals, we drastically reduce the number of successors. We go into further details in Section 4.</a></p><p class="s5" style="padding-left: 15pt;text-indent: 9pt;line-height: 70%;text-align: left;">Finally, the function <span class="s33">color </span>colors a vertex based on the positions of the trains in the corresponding state.</p></li><li data-list-text="3.5"><p class="s3" style="padding-top: 8pt;padding-left: 39pt;text-indent: -24pt;line-height: 12pt;text-align: left;"><a name="bookmark16">From Strategies to Signaling Plans</a></p><p class="s5" style="padding-top: 3pt;padding-left: 14pt;text-indent: 0pt;line-height: 71%;text-align: justify;">The function <span class="s33">solveReachability </span>computes Eve’s winning strategy for a given game graph. From this strategy, we must extract a <span class="s7">signaling plan</span>. A signaling plan contains exactly one entry for each vector of train positions, from which we can get the trains safely to their destinations. Thus, we partition the winning vertices based on their train positions and select one vertex from each partition. For each of these vertices, the strategy describes Eve’s winning move. Since an Eve move corresponds to an update of the points and signals, each winning move describes a signaling configuration that is a safe response to the given train positions. Hence, the winning moves from the selected vertices yield the entries in the signaling plan:</p><p class="s33" style="padding-top: 4pt;padding-left: 48pt;text-indent: -18pt;line-height: 107%;text-align: left;">type SignalingPlan = seq&lt;PositionVector</p><p class="s33" style="padding-left: 66pt;text-indent: 0pt;text-align: left;">* (HashSet&lt;Point&gt; * HashSet&lt;Signal&gt;)&gt;</p></li></ol></li><li data-list-text="4"><p class="s3" style="padding-top: 7pt;padding-left: 31pt;text-indent: -16pt;line-height: 12pt;text-align: left;"><a name="bookmark17">REDUCING GAME SIZE</a><a name="bookmark40">&zwnj;</a></p><p class="s5" style="padding-top: 3pt;padding-left: 14pt;text-indent: 0pt;line-height: 71%;text-align: justify;">Let <span class="s23">G</span><span class="s42">0</span><span class="s8"> </span>be the original reachability game, in which every state is a vertex and every state transition is an edge. It follows from the declaration of <span class="s33">State </span>that a network <span class="s22">(</span><span class="s7">L, P, con, Signals, </span><span class="s39">start</span><span class="s7">, </span><span class="s39">dest</span><span class="s22">) </span>can be in <span class="s22">(</span><span class="s23">|</span><span class="s7">L</span><span class="s23">| </span><span class="s22">+ </span>1<span class="s22">)</span><span class="s43">n</span>2<span class="s24">|</span><span class="s43">P</span><span class="s24">|</span><span class="s44">+</span><span class="s24">|</span><span class="s43">Signals</span><span class="s24">| </span>dif- ferent states, where <span class="s7">n </span>denotes the number of trains. Since both Eve and Adam can have the turn from any of these states, an immediate upper bound on the number of vertices in <span class="s23">G</span><span class="s6">0 </span>is <span class="s22">(</span><span class="s23">|</span><span class="s7">L</span><span class="s23">| </span><span class="s22">+ </span>1<span class="s22">)</span><span class="s43">n</span>2<span class="s6">1</span><span class="s44">+</span><span class="s24">|</span><span class="s43">P</span><span class="s24">|</span><span class="s44">+</span><span class="s24">|</span><span class="s43">Signals</span><span class="s24">|</span><a href="#bookmark72" class="s16">. With some simple combi- natorics, it is possible to obtain the following tighter bound [17]:</a></p><p class="s33" style="padding-top: 7pt;padding-left: 33pt;text-indent: 0pt;line-height: 8pt;text-align: left;">type GameVariant = Zero | One | Two | Three</p><p class="s10" style="padding-left: 35pt;text-indent: 0pt;line-height: 7pt;text-align: left;">0</p><p class="s7" style="text-indent: 0pt;line-height: 9pt;text-align: left;">V</p><p style="text-indent: 0pt;text-align: left;"/><p class="s10" style="padding-left: 33pt;text-indent: 0pt;line-height: 7pt;text-align: left;">max</p><p class="s22" style="padding-top: 2pt;padding-left: 1pt;text-indent: 0pt;text-align: left;">= <span class="s7">pos</span></p><p class="s10" style="padding-top: 7pt;text-indent: 0pt;text-align: left;">max</p><p class="s46" style="text-indent: 0pt;line-height: 15pt;text-align: left;"><span class="s45">2</span><span class="s10">1</span><span class="s12">+</span>|<span class="s11">P</span>|<span class="s12">+</span>|<span class="s11">Signals</span>|      <span class="s45">(1)</span></p><p class="s5" style="padding-top: 7pt;padding-left: 14pt;text-indent: 9pt;line-height: 71%;text-align: justify;">The function <span class="s33">directions </span>assigns directions to the trains: Each train is assigned the direction, which allows the train to reach its destination. This direction is found using a search on</p><p class="s5" style="padding-left: 14pt;text-indent: 0pt;line-height: 7pt;text-align: justify;">the linear sections. During this search, we use <span class="s33">nextLinears</span>,</p><p class="s5" style="padding-top: 1pt;padding-left: 14pt;text-indent: 0pt;line-height: 70%;text-align: justify;">Here, <span class="s7">pos</span><span class="s47">max </span>is an upper bound on the number of ways to distribute the trains, keeping in mind that we stop the game after a single derailment or a single collision. It is defined as</p><p class="s22" style="padding-left: 23pt;text-indent: 0pt;line-height: 12pt;text-align: left;"><span class="s7">pos</span><span class="s47">max </span>= <span class="s48">( </span><span class="s49">&nbsp; 1 </span><span class="s50"> </span>+ <span class="s49">&nbsp;&nbsp; </span><span class="s51">n </span><span class="s52"> </span>+ <span class="s53">&nbsp; </span><span class="s54">(</span><span class="s55">n</span><span class="s56">−</span><span class="s53">1</span><span class="s54">)</span><span class="s55">n  </span><span class="s43"> </span><span class="s57">) </span><span class="s23">|</span><span class="s7">L</span><span class="s23">|</span><span class="s5">!</span><span class="s7">.</span></p><p class="s5" style="padding-left: 14pt;text-indent: 0pt;line-height: 13pt;text-align: left;">which computes the next linear sections in a given direction.</p><p class="s46" style="padding-top: 1pt;padding-left: 14pt;text-indent: 0pt;text-align: left;"><span class="s12">(</span>|<span class="s11">L</span>|−<span class="s11">n</span><span class="s12">)</span><span class="s10">!  </span><span class="s12">(</span>|<span class="s11">L</span>|−<span class="s12">(</span><span class="s11">n</span>−<span class="s10">1</span><span class="s12">))</span><span class="s10">!  2</span><span class="s12">(</span>|<span class="s11">L</span>|−<span class="s12">(</span><span class="s11">n</span>−<span class="s10">1</span><span class="s12">))</span><span class="s10">!</span></p><p class="s5" style="padding-top: 1pt;padding-left: 14pt;text-indent: 9pt;line-height: 71%;text-align: left;">The functions <span class="s33">succAdam </span>and <span class="s33">succEve </span>generate successors to a vertex. The function <span class="s33">succAdam </span>uses <span class="s33">next </span>to compute</p><p class="s5" style="padding-top: 1pt;padding-left: 15pt;text-indent: 0pt;line-height: 71%;text-align: left;">The first term is the number of distinct position vectors of non-crash states, the second term is the number of distinct</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s207" style="padding-left: 24pt;text-indent: 0pt;text-align: left;">	</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="294" height="103" alt="image" src="Docs_files/Image_008.png"/></span></p><p class="s58" style="text-indent: 0pt;text-align: left;">v1</p><p style="text-indent: 0pt;text-align: left;"/><p class="s59" style="padding-left: 1pt;text-indent: 0pt;text-align: left;">t1</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s59" style="text-indent: 0pt;text-align: left;">s10</p><p style="text-indent: 0pt;text-align: left;"/><p class="s59" style="text-indent: 0pt;text-align: left;">s11</p><p style="text-indent: 0pt;text-align: left;"/><p class="s58" style="text-indent: 0pt;text-align: left;">v4</p><p style="text-indent: 0pt;text-align: left;"/><p class="s59" style="padding-left: 1pt;text-indent: 0pt;text-align: left;">t1</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s59" style="text-indent: 0pt;text-align: left;">s10</p><p style="text-indent: 0pt;text-align: left;"/><p class="s59" style="text-indent: 0pt;text-align: left;">s11</p><p style="text-indent: 0pt;text-align: left;"/><p class="s58" style="text-indent: 0pt;text-align: left;">v2</p><p style="text-indent: 0pt;text-align: left;"/><p class="s59" style="text-indent: 0pt;text-align: left;">t1</p><p style="text-indent: 0pt;text-align: left;"/><p class="s59" style="text-indent: 0pt;text-align: left;">s10</p><p style="text-indent: 0pt;text-align: left;"/><p class="s59" style="text-indent: 0pt;text-align: left;">s11</p><p style="text-indent: 0pt;text-align: left;"/><p class="s58" style="text-indent: 0pt;text-align: left;">v5</p><p style="text-indent: 0pt;text-align: left;"/><p class="s59" style="text-indent: 0pt;text-align: left;">t1</p><p style="text-indent: 0pt;text-align: left;"/><p class="s59" style="text-indent: 0pt;text-align: left;">s10</p><p style="text-indent: 0pt;text-align: left;"/><p class="s59" style="text-indent: 0pt;text-align: left;">s11</p><p style="text-indent: 0pt;text-align: left;"/><p class="s59" style="text-indent: 0pt;text-align: left;">s11</p><p style="text-indent: 0pt;text-align: left;"/><p class="s59" style="text-indent: 0pt;text-align: left;">s10</p><p style="text-indent: 0pt;text-align: left;"/><p class="s59" style="text-indent: 0pt;text-align: left;">t1</p><p style="text-indent: 0pt;text-align: left;"/><p class="s58" style="text-indent: 0pt;text-align: left;">v6</p><p style="text-indent: 0pt;text-align: left;"/><p class="s59" style="text-indent: 0pt;text-align: left;">s11</p><p style="text-indent: 0pt;text-align: left;"/><p class="s59" style="text-indent: 0pt;text-align: left;">s10</p><p style="text-indent: 0pt;text-align: left;"/><p class="s59" style="text-indent: 0pt;text-align: left;">t1</p><p style="text-indent: 0pt;text-align: left;"/><p class="s58" style="text-indent: 0pt;text-align: left;">v3</p><p style="text-indent: 0pt;text-align: left;"/><p style="text-indent: 0pt;text-align: left;"><span><img width="294" height="103" alt="image" src="Docs_files/Image_009.png"/></span></p><p class="s58" style="text-indent: 0pt;text-align: left;">v2</p><p style="text-indent: 0pt;text-align: left;"/><p class="s59" style="text-indent: 0pt;text-align: left;">t1</p><p style="text-indent: 0pt;text-align: left;"/><p class="s58" style="text-indent: 0pt;text-align: left;">v1</p><p style="text-indent: 0pt;text-align: left;"/><p class="s59" style="text-indent: 0pt;text-align: left;">s10</p><p style="text-indent: 0pt;text-align: left;"/><p class="s59" style="text-indent: 0pt;text-align: left;">s11</p><p style="text-indent: 0pt;text-align: left;"/><p class="s58" style="text-indent: 0pt;text-align: left;">v4</p><p style="text-indent: 0pt;text-align: left;"/><p class="s59" style="text-indent: 0pt;text-align: left;">t1</p><p style="text-indent: 0pt;text-align: left;"/><p class="s59" style="text-indent: 0pt;text-align: left;">t1</p><p style="text-indent: 0pt;text-align: left;"/><p class="s58" style="text-indent: 0pt;text-align: left;">v3</p><p style="text-indent: 0pt;text-align: left;"/><p class="s59" style="text-indent: 0pt;text-align: left;">s10</p><p style="text-indent: 0pt;text-align: left;"/><p class="s59" style="text-indent: 0pt;text-align: left;">s11</p><p style="text-indent: 0pt;text-align: left;"/><p class="s59" style="text-indent: 0pt;text-align: left;">s10</p><p style="text-indent: 0pt;text-align: left;"/><p class="s59" style="text-indent: 0pt;text-align: left;">s11</p><p style="text-indent: 0pt;text-align: left;"/><p class="s59" style="padding-left: 1pt;text-indent: 0pt;text-align: left;">t1</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s59" style="text-indent: 0pt;text-align: left;">s10</p><p style="text-indent: 0pt;text-align: left;"/><p class="s59" style="text-indent: 0pt;text-align: left;">s11</p><p style="text-indent: 0pt;text-align: left;"/><p class="s8" style="padding-top: 6pt;padding-left: 13pt;text-indent: 1pt;line-height: 106%;text-align: justify;"><a name="bookmark41">Figure 6: An abstraction that ignores irrelevant Eve vertices. Adam resets every signal to </a><i>closed </i>before passing the turn to Eve. Hence, the red edge (<i>v1</i>,<i>v2</i>) is replaced by the blue edge (<i>v1</i>,<i>v5</i>). This renders <i>v2 </i>unreachable. Because <i>v2 </i>and <i>v5 </i>have the same successors, <i>v2 </i>is in Eve’s winning area if and only if <i>v5 </i>is in Eve’s winning area. Hence, we have not changed the outcome from <i>v1</i>, so this abstraction does not change the winner of the game.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s5" style="padding-top: 8pt;padding-left: 14pt;text-indent: 0pt;line-height: 71%;text-align: justify;">position vectors in derail states, and the last term is the number of distinct position vectors in collision states.</p><p class="s10" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">max</p><p style="text-indent: 0pt;text-align: left;"/><p class="s5" style="padding-left: 14pt;text-indent: 10pt;line-height: 71%;text-align: justify;">The upper bound <span class="s7">V </span><span class="s42">0</span><span class="s8">   </span>is exponential in the number of points and signals and near-exponential in the number of trains. This renders synthesis intractable for all but the small- est networks. Therefore, we have devised three abstractions, each of which significantly reduces the size of the game graph. When all abstractions are applied, the upper bound on the size of the game graph is exponential only in the number of trains.</p><p class="s5" style="padding-left: 24pt;text-indent: 0pt;line-height: 9pt;text-align: justify;">These abstractions do not change the winner of the game,</p><p style="padding-top: 1pt;padding-left: 14pt;text-indent: 0pt;line-height: 71%;text-align: justify;"><a href="#bookmark72" class="s16">so the computed signaling plans remain correct. For each abstraction, we provide an informal argument of this claim. For formalizations and rigorous proofs, we refer to [17].</a></p><p class="s5" style="padding-left: 14pt;text-indent: 10pt;line-height: 71%;text-align: justify;">Starting from the original game <span class="s23">G</span><span class="s42">0</span>, we obtain the game variants <span class="s23">G</span><span class="s6">1</span>, <span class="s23">G</span><span class="s6">2</span>, and <span class="s23">G</span><span class="s6">3 </span>by repeatedly applying an additional abstraction to the previous variant.</p><ol id="l10"><li data-list-text="4.1"><p class="s3" style="padding-top: 9pt;padding-left: 39pt;text-indent: -24pt;line-height: 12pt;text-align: left;"><a name="bookmark18">Ignoring Irrelevant Eve Vertices</a></p><p class="s5" style="padding-left: 48pt;text-indent: -33pt;line-height: 93%;text-align: justify;">The first abstraction is based on the following observation: When Eve receives the turn, the configura-</p><p class="s5" style="padding-left: 48pt;text-indent: 0pt;line-height: 9pt;text-align: justify;">tion of points and signals is irrelevant, as</p><p class="s5" style="padding-top: 1pt;padding-left: 47pt;text-indent: 0pt;line-height: 71%;text-align: justify;">Eve can change it to whatever she likes be- fore passing the turn to Adam. Hence, with- out changing the outcome of the game, we can force Adam to reset every point to the <span class="s7">minus-state </span>and every signal to <span class="s7">closed </span>before passing the turn to Eve.</p><p class="s8" style="padding-top: 6pt;padding-left: 13pt;text-indent: 0pt;line-height: 106%;text-align: justify;"><a name="bookmark42">Figure 7: An abstraction that ignores irrelevant points and signals. We assign the default value of </a><i>closed </i>to every signal not directly in front of a train. Hence, we remove the red edge (<i>v1</i>,<i>v2</i>). This renders <i>v2 </i>unreachable. Also, because <i>v2 </i>and <i>v3 </i>have the same successor, <i>v2 </i>is in Eve’s winning area if and only if <i>v3 </i>is in Eve’s winning area. Therefore, we have not changed whether <i>v1 </i>has a successor in the winning area. Thus, we have not changed the outcome from <i>v1 </i>and consequently, we have not changed the winner of the game.</p><p style="text-indent: 0pt;text-align: left;"><br/></p></li><li data-list-text="4.2"><p class="s3" style="padding-top: 9pt;padding-left: 38pt;text-indent: -24pt;line-height: 12pt;text-align: left;"><a name="bookmark19">Ignoring Irrelevant Points and Signals</a></p><p class="s5" style="padding-left: 47pt;text-indent: -33pt;line-height: 15pt;text-align: justify;">The next abstraction is based on the following observation:</p><p class="s5" style="padding-top: 3pt;padding-left: 47pt;text-indent: 0pt;line-height: 71%;text-align: justify;">When Adam has the turn, the state of a point or a signal not immediately in front of a train is irrelevant, as Eve can change that point or signal before a train comes close enough to be influenced by it. Also, if we consider a point <span class="s7">s </span>and every train about to enter <span class="s7">s </span>is blocked by a closed signal, then the state of <span class="s7">s </span>is irrelevant.</p><p class="s5" style="padding-top: 3pt;padding-left: 14pt;text-indent: 0pt;line-height: 71%;text-align: justify;">If we assign the default values of <span class="s7">minus-state </span>and <span class="s7">closed </span><a href="#bookmark42" class="s16">to irrelevant points and signals, then the size of the game graph is reduced significantly. The effect of this abstraction is illustrated in Figure </a>7. The game variant <span class="s23">G</span><span class="s42">2</span><span class="s8"> </span>is the result of applying this abstraction to <span class="s23">G</span><span class="s42">1</span>.</p><p class="s5" style="padding-left: 13pt;text-indent: 10pt;line-height: 71%;text-align: justify;">What is the upper bound on the number of vertices in <span class="s23">G</span><span class="s42">2</span>? The number of Eve vertices stays the same but the maximum number of successors to each Eve vertex is 3<span class="s43">n</span>. Why? In the worst case, each train is in front of a distinct signal <span class="s7">s </span>and a distinct point <span class="s7">p</span>. We claim that there are three relevant configurations of <span class="s7">s </span>and <span class="s7">p</span>: If <span class="s7">s </span>is closed, then the state of <span class="s7">p </span>does not matter, so we use the default value of <span class="s7">minus-state</span>. If <span class="s7">s </span>is open, then we need to consider both the minus-state and the plus-state.</p><p class="s5" style="padding-left: 14pt;text-indent: 0pt;line-height: 9pt;text-align: right;">Each train gives raise to three such configurations and we</p><p class="s5" style="padding-left: 14pt;text-indent: 0pt;line-height: 11pt;text-align: right;">must generate all combinations. Hence, we have at most 3<span class="s43">n</span></p><p class="s5" style="padding-left: 14pt;text-indent: 0pt;line-height: 8pt;text-align: right;">successors. In addition, this abstraction does not introduce</p><p class="s5" style="padding-top: 1pt;padding-left: 14pt;text-indent: 0pt;line-height: 71%;text-align: left;">This implies that every reachable Eve vertex has every point in the minus-state and every signal closed. The effect of this</p><p class="s5" style="padding-left: 14pt;text-indent: 0pt;line-height: 7pt;text-align: left;"><a href="#bookmark41" class="s16">abstraction is illustrated in Figure </a>6. The game variant <span class="s23">G</span><span class="s42">1</span><span class="s8"> </span>is</p><p class="s5" style="padding-left: 14pt;text-indent: 0pt;line-height: 13pt;text-align: left;">additional vertices, so <span class="s7">V </span><span class="s42">1</span></p><p class="s10" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">max</p><p style="text-indent: 0pt;text-align: left;"/><p class="s5" style="padding-left: 14pt;text-indent: 0pt;line-height: 13pt;text-align: left;">we obtain the following:</p><p class="s5" style="padding-left: 10pt;text-indent: 0pt;text-align: left;">is still an upper bound. Hence,</p><p class="s5" style="padding-left: 14pt;text-indent: 0pt;line-height: 5pt;text-align: left;">the result of applying this abstraction to <span class="s23">G</span><span class="s42">0</span>.</p><p class="s7" style="padding-left: 14pt;text-indent: 0pt;line-height: 5pt;text-align: left;"><a name="bookmark43">V </a><span class="s42">2</span><span class="s8">  </span><span class="s22">= </span><span class="s5">min</span><span class="s23">{</span>pos</p><p class="s22" style="padding-left: 14pt;text-indent: 0pt;line-height: 5pt;text-align: left;">(<span class="s5">3</span><span class="s43">n </span>+ <span class="s5">1</span>)<span class="s7">, V </span><span class="s42">1</span><span class="s8">  </span><span class="s23">}    </span><span class="s5">(3)</span></p><p class="s5" style="padding-top: 6pt;padding-left: 24pt;text-indent: 0pt;line-height: 2pt;text-align: left;">In <span class="s6">1</span></p><p class="s10" style="padding-top: 1pt;padding-left: 24pt;text-indent: 0pt;line-height: 6pt;text-align: left;">max</p><p class="s10" style="padding-top: 2pt;padding-left: 24pt;text-indent: 0pt;line-height: 6pt;text-align: left;">max</p><p class="s10" style="padding-top: 1pt;padding-left: 24pt;text-indent: 0pt;line-height: 6pt;text-align: left;">max</p><p class="s23" style="padding-left: 36pt;text-indent: 0pt;line-height: 11pt;text-align: left;">G <span class="s5">, we can have at most one reachable Eve vertex per</span></p><p class="s5" style="padding-top: 5pt;padding-left: 31pt;text-indent: 0pt;line-height: 5pt;text-align: left;">This upper bound is exponential only in the number of</p><p class="s5" style="padding-top: 1pt;padding-left: 14pt;text-indent: 0pt;line-height: 71%;text-align: justify;">obtainable vector of train positions. The number of Adam vertices stays the same, so an upper bound on the number vertices in <span class="s23">G</span><span class="s42">1</span><span class="s8"> </span>is</p><p class="s5" style="padding-top: 9pt;padding-left: 14pt;text-indent: 0pt;line-height: 71%;text-align: left;">trains. In contrast, the previous bound was exponential in the number of trains, points and signals. Typically, the number of</p><p class="s5" style="padding-left: 14pt;text-indent: 0pt;line-height: 7pt;text-align: left;"><a name="bookmark44">trains is much smaller than the number of points and signals,</a></p><p class="s7" style="text-indent: 0pt;line-height: 9pt;text-align: left;">V</p><p style="text-indent: 0pt;text-align: left;"/><p class="s10" style="padding-top: 1pt;padding-left: 73pt;text-indent: 0pt;line-height: 7pt;text-align: left;">1</p><p class="s10" style="padding-left: 71pt;text-indent: 0pt;line-height: 7pt;text-align: left;">max</p><p class="s22" style="padding-top: 4pt;padding-left: 1pt;text-indent: 0pt;text-align: left;">= <span class="s7">pos</span></p><p class="s10" style="padding-top: 8pt;text-indent: 0pt;text-align: left;">max</p><p class="s46" style="text-indent: 0pt;text-align: left;"><span class="s60">(</span><span class="s45">2</span>|<span class="s11">P</span>|<span class="s12">+</span>|<span class="s11">Signals</span>| <span class="s60">+ </span><span class="s45">1</span><span class="s60">)</span><span class="s61">.     </span><span class="s45">(2)</span></p><p class="s5" style="padding-left: 21pt;text-indent: 0pt;text-align: left;">so this amounts a big difference in the size of the game graph.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><br/></p><table style="border-collapse:collapse" cellspacing="0"><tr style="height:33pt"><td style="width:26pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s62" style="padding-left: 10pt;padding-right: 6pt;text-indent: 0pt;text-align: center;"><a name="bookmark45">t1</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s62" style="padding-left: 10pt;padding-right: 6pt;text-indent: 0pt;text-align: center;">s10</p></td><td style="width:22pt;border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s62" style="padding-left: 7pt;padding-right: 6pt;text-indent: 0pt;text-align: center;">s11</p></td><td style="width:15pt;border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s62" style="padding-left: 9pt;text-indent: 0pt;text-align: left;">t2</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s62" style="padding-left: 7pt;text-indent: 0pt;text-align: left;">s12</p></td><td style="width:10pt;border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s63" style="padding-top: 1pt;padding-left: 1pt;text-indent: 0pt;text-align: left;">v2</p></td></tr><tr style="height:8pt"><td style="width:58pt;border-top-style:solid;border-top-width:1pt;border-right-style:solid;border-right-width:1pt" colspan="3"><p style="text-indent: 0pt;text-align: left;"><br/></p></td><td style="width:15pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt"><p style="text-indent: 0pt;text-align: left;"><br/></p></td></tr></table><table style="border-collapse:collapse" cellspacing="0"><tr style="height:33pt"><td style="width:26pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s62" style="padding-left: 10pt;padding-right: 6pt;text-indent: 0pt;text-align: center;">t1</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s62" style="padding-left: 10pt;padding-right: 6pt;text-indent: 0pt;text-align: center;">s10</p></td><td style="width:22pt;border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s62" style="padding-left: 7pt;padding-right: 6pt;text-indent: 0pt;text-align: center;">s11</p></td><td style="width:15pt;border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s62" style="padding-left: 9pt;text-indent: 0pt;text-align: left;">t2</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s62" style="padding-left: 7pt;text-indent: 0pt;text-align: left;">s12</p></td><td style="width:10pt;border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s63" style="padding-top: 1pt;padding-left: 1pt;text-indent: 0pt;text-align: left;">v4</p></td></tr><tr style="height:8pt"><td style="width:16pt;border-top-style:solid;border-top-width:1pt;border-right-style:solid;border-right-width:1pt"><p style="text-indent: 0pt;text-align: left;"><br/></p></td><td style="width:57pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt" colspan="3"><p style="text-indent: 0pt;text-align: left;"><br/></p></td></tr></table><p style="padding-left: 16pt;text-indent: 0pt;text-align: left;"><span style=" color: black; font-family:Monaco, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt;">	</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="316" height="159" alt="image" src="Docs_files/Image_010.png"/></span></p><p class="s58" style="text-indent: 0pt;text-align: left;">v1</p><p style="text-indent: 0pt;text-align: left;"/><p class="s59" style="text-indent: 0pt;text-align: left;">t1</p><p style="text-indent: 0pt;text-align: left;"/><p class="s59" style="text-indent: 0pt;text-align: left;">t2</p><p style="text-indent: 0pt;text-align: left;"/><p class="s59" style="text-indent: 0pt;text-align: left;">s10  s11</p><p style="text-indent: 0pt;text-align: left;"/><p class="s59" style="text-indent: 0pt;text-align: left;">s12</p><p style="text-indent: 0pt;text-align: left;"/><p class="s58" style="text-indent: 0pt;text-align: left;">v5</p><p style="text-indent: 0pt;text-align: left;"/><p class="s58" style="text-indent: 0pt;text-align: left;">v6</p><p style="text-indent: 0pt;text-align: left;"/><p class="s59" style="text-indent: 0pt;text-align: left;">t1</p><p style="text-indent: 0pt;text-align: left;"/><p class="s59" style="text-indent: 0pt;text-align: left;">t2</p><p style="text-indent: 0pt;text-align: left;"/><p class="s59" style="text-indent: 0pt;text-align: left;">t1</p><p style="text-indent: 0pt;text-align: left;"/><p class="s59" style="text-indent: 0pt;text-align: left;">t2</p><p style="text-indent: 0pt;text-align: left;"/><p class="s59" style="text-indent: 0pt;text-align: left;">s10</p><p style="text-indent: 0pt;text-align: left;"/><p class="s59" style="text-indent: 0pt;text-align: left;">s11</p><p style="text-indent: 0pt;text-align: left;"/><p class="s59" style="text-indent: 0pt;text-align: left;">s12</p><p style="text-indent: 0pt;text-align: left;"/><p class="s59" style="text-indent: 0pt;text-align: left;">s10</p><p style="text-indent: 0pt;text-align: left;"/><p class="s59" style="text-indent: 0pt;text-align: left;">s11</p><p style="text-indent: 0pt;text-align: left;"/><p class="s59" style="text-indent: 0pt;text-align: left;">s12</p><p style="text-indent: 0pt;text-align: left;"/><p class="s59" style="text-indent: 0pt;text-align: left;">s12</p><p style="text-indent: 0pt;text-align: left;"/><p class="s59" style="text-indent: 0pt;text-align: left;">s11</p><p style="text-indent: 0pt;text-align: left;"/><p class="s59" style="text-indent: 0pt;text-align: left;">s10</p><p style="text-indent: 0pt;text-align: left;"/><p class="s59" style="text-indent: 0pt;text-align: left;">t2</p><p style="text-indent: 0pt;text-align: left;"/><p class="s59" style="text-indent: 0pt;text-align: left;">t1</p><p style="text-indent: 0pt;text-align: left;"/><p class="s58" style="text-indent: 0pt;text-align: left;">v3</p><p style="text-indent: 0pt;text-align: left;"/><p class="s8" style="padding-left: 14pt;text-indent: 0pt;line-height: 4pt;text-align: left;">Figure 8: An abstraction that removes redundant Eve moves.</p><p class="s5" style="padding-top: 6pt;padding-left: 15pt;text-indent: 0pt;line-height: 71%;text-align: justify;">First, consider only the trains directly in front of signals. Let <span class="s7">n</span><span class="s24">i </span>denote the number of these trains. In the worst case, there is a distinct point behind each signal. In each vertex, at most one signal is open, so the only relevant point is the one behind that signal. Hence, we have 2<span class="s7">n</span><span class="s24">i </span>relevant configurations in addition to one where every signal is closed.</p><p class="s10" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">max</p><p style="text-indent: 0pt;text-align: left;"/><p class="s5" style="padding-left: 14pt;text-indent: 10pt;line-height: 70%;text-align: justify;">Now consider the remaining <span class="s22">(</span><span class="s7">n </span><span class="s23">− </span><span class="s7">n</span><span class="s24">i </span><span class="s22">) </span>trains. In the worst case, they are all in front of points, which gives raise to 2<span class="s43">n</span><span class="s24">−</span><span class="s43">n</span><span class="s64">t </span>configurations. We must generate all combinations, so we have 2<span class="s43">n</span><span class="s24">−</span><span class="s43">n</span><span class="s64">t </span><span class="s22">(</span>2<span class="s7">n</span><span class="s24">i </span><span class="s22">+ </span>1<span class="s22">) </span>successors. Within the real numbers, this value has a maximum at <span class="s7">n</span><span class="s24">i </span><span class="s22">= </span><span class="s7">γ </span><span class="s23">≈ </span>0<span class="s7">.</span>94, so we arrive at the following bound on the number of vertices:</p><p class="s8" style="padding-top: 7pt;padding-left: 14pt;text-indent: 0pt;line-height: 9pt;text-align: left;">At most one signal can be open at any time. Hence, we re-</p><p class="s10" style="padding-top: 1pt;padding-left: 16pt;text-indent: 0pt;line-height: 7pt;text-align: left;">3</p><p class="s7" style="text-indent: 0pt;line-height: 9pt;text-align: left;">V</p><p style="text-indent: 0pt;text-align: left;"/><p class="s10" style="padding-left: 14pt;text-indent: 0pt;line-height: 7pt;text-align: left;">max</p><p class="s22" style="padding-left: 1pt;text-indent: 0pt;text-align: left;">= <span class="s5">min</span><span class="s23">{</span><span class="s7">pos</span></p><p class="s10" style="padding-top: 8pt;text-indent: 0pt;text-align: left;">max</p><p class="s22" style="text-indent: 0pt;text-align: left;">(<span class="s23">l</span><span class="s5">2</span><span class="s43">n</span><span class="s24">−</span><span class="s43">γ </span>(<span class="s5">2</span><span class="s7">γ </span>+ <span class="s5">1</span>)<span class="s23">j </span>+ <span class="s5">1</span>)<span class="s7">, V </span><span class="s6">2</span></p><p class="s23" style="padding-left: 7pt;text-indent: 0pt;text-align: left;">} <span class="s5">(4)</span></p><p class="s8" style="padding-top: 1pt;padding-left: 14pt;text-indent: 0pt;line-height: 106%;text-align: justify;">move the red edge (<i>v1</i>,<i>v3</i>) from the game. This renders <i>v3 </i>unreachable. Also, because the successors to <i>v2 </i>and <i>v4 </i>are subsets of the successors to <i>v3</i>, if Eve wins from <i>v3 </i>she also wins from <i>v2 </i>and <i>v4</i>. Consequently, removing (<i>v1</i>,<i>v3</i>) does not influence the outcome from <i>v1</i>. Conversely, if Eve wins from <i>v2 </i>or <i>v4</i>, her victory does not depend on <i>v3</i>. Hence, adding (<i>v1</i>,<i>v3</i>) does not influence the outcome from <i>v1 </i>ei- ther. We can conclude that this abstraction does not change the winner of the game.</p><p style="text-indent: 0pt;text-align: left;"><br/></p></li><li data-list-text="4.3"><p class="s3" style="padding-left: 39pt;text-indent: -24pt;line-height: 12pt;text-align: left;"><a name="bookmark20">Removing Redundant Eve Moves</a></p><p class="s5" style="padding-left: 48pt;text-indent: -33pt;line-height: 14pt;text-align: justify;">The third abstraction is based on the following observation:</p><p class="s5" style="padding-top: 2pt;padding-left: 47pt;text-indent: 0pt;line-height: 71%;text-align: justify;">Assume that every train has a signal in front of it. Eve can close all but a single signal and thereby determine, which train Adam is go- ing to move. If Eve’s winning strategy allows more than one signal to be open, then from Eve’s point of view, it is irrelevant which of the corresponding trains Adam moves. The strategy leaves the decision up to Adam. However, Eve can make this decision herself. That is, she can select one of the signals al- lowed to be open and close all other signals.</p><p class="s5" style="padding-top: 1pt;padding-left: 14pt;text-indent: 0pt;line-height: 71%;text-align: justify;"><a href="#bookmark45" class="s16">We can force Eve to make this decision by only generating successor vertices, in which at most one signal is open. This significantly reduces the number of Adam vertices. The effect of this abstraction is illustrated in Figure 8.</a> The game variant <span class="s23">G</span><span class="s42">3</span><span class="s8"> </span>is the result of applying this abstraction to <span class="s23">G</span><span class="s42">2</span>.</p><p class="s5" style="padding-left: 14pt;text-indent: 10pt;line-height: 71%;text-align: right;">As with the other abstractions, this one does not change the outcome of the game. However, in real railway networks where trains can move concurrently, it does indeed make a difference that at most one signal can be open at any time. In situations where it is safe to allow more than one train to move, this abstraction is restrictive and increases the time it takes for all trains to get to their destinations. However, in small networks with large numbers of trains, many signals have to be simultaneously closed in order to avoid collisions. In such cases, this abstraction does not appear too restrictive. What is the upper bound on the number of vertices in <span class="s23">G</span><span class="s42">3</span>? Again, the number of Eve vertices stays the same but the maximum number of successors to an Eve vertex is now <span class="s23">l</span>2<span class="s43">n</span><span class="s24">−</span><span class="s43">γ </span><span class="s22">(</span>2<span class="s7">γ </span><span class="s22">+ </span>1<span class="s22">)</span><span class="s23">j</span>, where <span class="s7">γ </span><span class="s22">= (</span>2 <span class="s23">− </span>ln<span class="s22">(</span>2<span class="s22">))</span><span class="s7">/ </span>ln<span class="s22">(</span>4<span class="s22">) </span><span class="s23">≈ </span>0<span class="s7">.</span>94. Why?</p><p class="s5" style="padding-top: 2pt;padding-left: 14pt;text-indent: 9pt;line-height: 71%;text-align: justify;">If we compare this to the previous upper bound, we have reduced the base of the exponential function.</p></li></ol></li><li data-list-text="5"><p class="s3" style="padding-top: 8pt;padding-left: 31pt;text-indent: -16pt;line-height: 12pt;text-align: left;"><a name="bookmark21">A SYNTHESIS TOOL</a></p><p class="s5" style="padding-top: 3pt;padding-left: 14pt;text-indent: 0pt;line-height: 71%;text-align: justify;">The presented algorithms, abstractions, and F<span class="s6"># </span>definitions have been incorporated into a synthesis tool. This tool accepts specifications of railway networks written in a domain specific language (DSL). The tool outputs correct signaling plans, whenever such exist.</p><ol id="l11"><li data-list-text="5.1"><p class="s3" style="padding-top: 8pt;padding-left: 39pt;text-indent: -24pt;line-height: 12pt;text-align: left;"><a name="bookmark22">Domain-Specific Language</a></p><p style="padding-top: 3pt;padding-left: 14pt;text-indent: 0pt;line-height: 71%;text-align: justify;"><a href="#bookmark32" class="s16">The following piece of DSL specifies the network shown in Figure 1:</a></p><p class="s33" style="padding-top: 2pt;padding-left: 14pt;text-indent: 0pt;text-align: left;">connections =</p><p class="s33" style="padding-left: 33pt;text-indent: 0pt;line-height: 107%;text-align: left;">s10.up -&gt; s11.plus, s20.up -&gt; s11.minus, s11.stem -&gt; s12.down</p><p class="s33" style="padding-left: 14pt;text-indent: 0pt;line-height: 107%;text-align: left;">signals = s20.up, s10.down trains = s20 -&gt; s12, s12 -&gt; s10</p><p class="s7" style="padding-top: 1pt;padding-left: 14pt;text-indent: 0pt;line-height: 71%;text-align: justify;"><span class="s5">As shown, a network is specified by a list of port connec- tions, a list of signals, and a list of the initial positions and destinations of the trains. This immediately yields the last four components of a network specification </span><span class="s22">(</span>L, P, con, Signals, <u>start</u>, <u>dest</u><span class="s22">)</span><span class="s5">. The sets </span>L <span class="s5">and </span>P <a href="#bookmark72" class="s16">are extracted from the list of connections. A formal grammar of this DSL is in [17].</a></p><p class="s5" style="padding-left: 14pt;text-indent: 9pt;line-height: 71%;text-align: justify;"><a href="#bookmark66" class="s16">The parser for this DSL was constructed using the parser- combinator library FParsec [11]. This library is an adaptation of the Haskell-library Parsec [</a><a href="#bookmark53" class="s16">11]. Compared to graph genera- tion and game solving, parsing is blazingly fast (see </a>Table 3).</p></li><li data-list-text="5.2"><p class="s3" style="padding-top: 7pt;padding-left: 39pt;text-indent: -24pt;line-height: 12pt;text-align: left;"><a name="bookmark23">Well-Formed Networks</a></p><p style="padding-top: 3pt;padding-left: 14pt;text-indent: 0pt;line-height: 71%;text-align: justify;"><a href="#bookmark72" class="s16">The syntax of the DSL does not ensure that the network specifications are well-formed. For example, a train may have a destination, which is not a linear section. Therefore, after parsing the network description into abstract syntax, we check for ill-formed networks [17].</a></p></li><li data-list-text="5.3"><p class="s3" style="padding-top: 8pt;padding-left: 39pt;text-indent: -24pt;line-height: 12pt;text-align: left;"><a name="bookmark24">Example Output</a></p><p class="s5" style="padding-top: 3pt;padding-left: 14pt;text-indent: 0pt;line-height: 71%;text-align: justify;">If the given network is well-formed, the tool constructs the game graph and solves the game. Afterwards, it outputs a few performance statistics and a correct signaling plan, if one exists.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 14pt;text-indent: 0pt;line-height: 1pt;text-align: left;"><span><img width="321" height="1" alt="image" src="Docs_files/Image_011.png"/></span></p><p class="s36" style="padding-left: 31pt;text-indent: 0pt;line-height: 93%;text-align: left;"><a name="bookmark46">Railway network loaded! Generating game graph... Game graph generated!</a></p><p class="s36" style="padding-left: 31pt;text-indent: 0pt;line-height: 94%;text-align: left;">Number of vertices: 37 Number of edges: 60 Computing signaling plan... signalingplan([s20, s10]) =</p><ul id="l12"><li data-list-text="-"><p class="s36" style="padding-left: 40pt;text-indent: -8pt;line-height: 8pt;text-align: left;">plus:</p></li><li data-list-text="-"><p class="s36" style="padding-left: 40pt;text-indent: -8pt;line-height: 6pt;text-align: left;">minus: s11</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s65" style="padding-top: 2pt;padding-left: 14pt;text-indent: 0pt;text-align: left;"><a name="bookmark47">s08</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s65" style="padding-left: 14pt;text-indent: 0pt;text-align: left;">s09</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s65" style="padding-left: 14pt;text-indent: 0pt;text-align: left;">s10</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s65" style="padding-left: 14pt;text-indent: 0pt;text-align: right;">s11</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s65" style="padding-left: 14pt;text-indent: 0pt;text-align: left;">s12</p><p style="text-indent: 0pt;text-align: left;"><span><img width="256" height="84" alt="image" src="Docs_files/Image_012.png"/></span></p><p class="s65" style="text-indent: 0pt;text-align: left;">s30</p><p style="text-indent: 0pt;text-align: left;"/><p class="s65" style="text-indent: 0pt;text-align: left;">s1121</p><p style="text-indent: 0pt;text-align: left;"/><p class="s65" style="text-indent: 0pt;text-align: left;">s20</p><p style="text-indent: 0pt;text-align: left;"/><p class="s65" style="text-indent: 0pt;text-align: left;">s21</p><p style="text-indent: 0pt;text-align: left;"/><p class="s59" style="text-indent: 0pt;line-height: 4pt;text-align: left;">t1</p><p style="text-indent: 0pt;text-align: left;"/><p class="s59" style="text-indent: 0pt;line-height: 4pt;text-align: left;">t2</p><p style="text-indent: 0pt;text-align: left;"/><p class="s59" style="text-indent: 0pt;line-height: 4pt;text-align: left;">t3</p><p style="text-indent: 0pt;text-align: left;"/></li><li data-list-text="-"><p class="s36" style="padding-top: 2pt;padding-left: 40pt;text-indent: -8pt;line-height: 9pt;text-align: left;">open: s20.up</p></li><li data-list-text="-"><p class="s36" style="padding-left: 31pt;text-indent: 0pt;text-align: left;">closed: s10.down signalingplan([s20, s12]) =</p></li><li data-list-text="-"><p class="s36" style="padding-left: 40pt;text-indent: -8pt;line-height: 8pt;text-align: left;">plus: s11</p></li><li data-list-text="-"><p class="s36" style="padding-left: 40pt;text-indent: -8pt;line-height: 8pt;text-align: left;">minus:</p></li><li data-list-text="-"><p class="s36" style="padding-left: 40pt;text-indent: -8pt;line-height: 8pt;text-align: left;">open:</p></li><li data-list-text="-"><p class="s36" style="padding-left: 40pt;text-indent: -8pt;line-height: 8pt;text-align: left;">closed: s20.up, s10.down</p></li></ul><p class="s36" style="padding-left: 31pt;text-indent: 0pt;line-height: 93%;text-align: left;">Parsing and well-formedness: 0.0959 seconds Game-graph generation: 0.0389 seconds Signaling-plan computation: 0.0547 seconds</p><p class="s66" style="padding-left: 14pt;text-indent: 0pt;line-height: 9pt;text-align: left;"> &nbsp;&nbsp;&nbsp;&nbsp; <span class="s67">Total execution time: 0.190 seconds &nbsp;&nbsp;&nbsp; </span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="311" height="142" alt="image" src="Docs_files/Image_013.png"/></span></p><p class="s59" style="text-indent: 0pt;line-height: 4pt;text-align: left;">t4</p><p style="text-indent: 0pt;text-align: left;"/><p class="s59" style="text-indent: 0pt;line-height: 4pt;text-align: left;">t5</p><p style="text-indent: 0pt;text-align: left;"/><p class="s65" style="text-indent: 0pt;text-align: left;">s30</p><p style="text-indent: 0pt;text-align: left;"/><p class="s65" style="text-indent: 0pt;text-align: left;">s31</p><p style="text-indent: 0pt;text-align: left;"/><p class="s65" style="text-indent: 0pt;text-align: left;">s32</p><p style="text-indent: 0pt;text-align: left;"/><p class="s65" style="text-indent: 0pt;text-align: left;">s33</p><p style="text-indent: 0pt;text-align: left;"/><p class="s65" style="text-indent: 0pt;text-align: left;">s34</p><p style="text-indent: 0pt;text-align: left;"/><p class="s65" style="text-indent: 0pt;text-align: left;">s22m</p><p style="text-indent: 0pt;text-align: left;"/><p class="s65" style="text-indent: 0pt;text-align: left;">s20p</p><p style="text-indent: 0pt;text-align: left;"/><p class="s65" style="text-indent: 0pt;text-align: left;">s20</p><p style="text-indent: 0pt;text-align: left;"/><p class="s65" style="text-indent: 0pt;text-align: left;">s21</p><p style="text-indent: 0pt;text-align: left;"/><p class="s65" style="text-indent: 0pt;text-align: left;">s22</p><p style="text-indent: 0pt;text-align: left;"/><p class="s65" style="text-indent: 0pt;text-align: left;">s22p</p><p style="text-indent: 0pt;text-align: left;"/><p class="s65" style="text-indent: 0pt;text-align: left;">s20m</p><p style="text-indent: 0pt;text-align: left;"/><p class="s59" style="text-indent: 0pt;line-height: 4pt;text-align: left;">t1</p><p style="text-indent: 0pt;text-align: left;"/><p class="s59" style="text-indent: 0pt;line-height: 4pt;text-align: left;">t3</p><p style="text-indent: 0pt;text-align: left;"/><p class="s59" style="text-indent: 0pt;line-height: 4pt;text-align: left;">t2</p><p style="text-indent: 0pt;text-align: left;"/><p class="s8" style="padding-top: 2pt;padding-left: 14pt;text-indent: 0pt;line-height: 10pt;text-align: left;">Figure 9: Output of the synthesis tool after solving the net-</p><p class="s10" style="text-indent: 0pt;line-height: 0pt;text-align: center;">0</p><p style="padding-top: 1pt;padding-left: 14pt;text-indent: 0pt;text-align: left;"><a href="#bookmark79" class="s19">Figure 10: The network Fork inspired by [24].</a></p><p class="s8" style="padding-top: 1pt;padding-left: 14pt;text-indent: 0pt;text-align: left;"><a href="#bookmark32" class="s19">work from </a>Figure 1 with <span class="s23">G </span>.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s65" style="padding-left: 14pt;text-indent: 0pt;text-align: right;"><a name="bookmark48">s10</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s65" style="padding-left: 14pt;text-indent: 0pt;text-align: right;">s11</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s65" style="padding-left: 14pt;text-indent: 0pt;text-align: right;">s12</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s65" style="padding-left: 14pt;text-indent: 0pt;text-align: right;">s13</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s65" style="padding-left: 137pt;text-indent: 0pt;text-align: center;">s14</p><p class="s5" style="padding-top: 4pt;padding-left: 14pt;text-indent: 10pt;line-height: 71%;text-align: justify;"><a href="#bookmark32" class="s16">The output after solving the network from Figure </a><a href="#bookmark46" class="s16">1 is shown in Figure </a>9. From this output, it is evident that the tool has computed a signaling plan: If the trains <span class="s7">t1 </span>and <span class="s7">t2 </span>have the respective positions <span class="s7">s20 </span>and <span class="s7">s10 </span>, then a safe configuration is to put <span class="s7">s11 </span>in the minus-state and open only the signal at the up-port of <span class="s7">s20 </span>. If <span class="s7">t1 </span>and <span class="s7">t2 </span>have the positions <span class="s7">s20 </span>and <span class="s7">s12 </span>, then a safe configuration is to put <span class="s7">s11 </span><a href="#bookmark34" class="s16">in plus-state and close all signals. This exactly corresponds to Eve’s winning moves in the game from Figure 2.</a></p></li></ol></li><li data-list-text="6"><p class="s3" style="padding-top: 7pt;padding-left: 31pt;text-indent: -16pt;line-height: 12pt;text-align: left;"><a name="bookmark25">EXPERIMENTS</a></p><p style="padding-top: 3pt;padding-left: 14pt;text-indent: 0pt;line-height: 71%;text-align: justify;"><a href="#bookmark72" class="s16">In order to determine its performance, we conducted several experiments with the synthesis tool [</a><a href="#bookmark32" class="s16">17]. We used, among others, the networks Toy, Fork, Lyngby Station, and Florence Station depicted in Figure </a><a href="#bookmark47" class="s16">1, Figure </a><a href="#bookmark48" class="s16">10, Figure </a><a href="#bookmark51" class="s16">11, and Fig- ure </a><a href="#bookmark49" class="s16">12, respectively. The complexities of these networks are summarized in Table 2.</a></p><p class="s8" style="padding-top: 10pt;padding-left: 14pt;text-indent: 0pt;line-height: 106%;text-align: justify;"><a href="#bookmark79" class="s19">Figure 11: A railway network resembling Lyngby Station lo- cated north of Copenhagen, Denmark. Compared to the lay- out of Lyngby Station shown in </a>[24], we have added four linear sections, as our model does not allow two points directly con- nected to each other.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s5" style="padding-left: 14pt;text-indent: 9pt;line-height: 71%;text-align: justify;">The most interesting result is that we are able to generate correct signaling plans for Lyngby Station with five trains in</p><p class="s5" style="padding-left: 14pt;text-indent: 0pt;line-height: 71%;text-align: justify;">0.67 seconds and for Florence Station with four trains in 8.1 seconds. That is, we are able to generate signaling plans for real railway networks in less than 10 seconds.</p><p class="s5" style="padding-left: 14pt;text-indent: 10pt;line-height: 71%;text-align: justify;"><a name="bookmark49">These running times are achieved using </a><span class="s23">G</span><span class="s42">3</span>. With <span class="s23">G</span><span class="s42">2</span>, the running time for Lyngby Station approximately quadruples to 2.6 seconds and for Florence Station it increases by roughly 50 percent to 12 seconds. When using <span class="s23">G</span><span class="s42">0</span><span class="s8"> </span>and <span class="s23">G</span><span class="s42">1</span><a href="#bookmark40" class="s16">, the tool runs out of memory before the signaling plans are generated. This is a testimony to the usefulness of the abstractions presented in Section 4.</a></p><p class="s5" style="padding-left: 14pt;text-indent: 9pt;line-height: 71%;text-align: justify;">The abstraction of ignoring irrelevant points and signals seems especially powerful: Lyngby and Florence Stations are</p><p class="s10" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">max</p><p style="text-indent: 0pt;text-align: left;"/><p class="s5" style="padding-left: 14pt;text-indent: 0pt;line-height: 7pt;text-align: justify;">unsolvable with <span class="s23">G</span><span class="s42">1</span><span class="s8"> </span>but are solvable with <span class="s23">G</span><span class="s42">2</span>. This is no real</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="257" height="74" alt="image" src="Docs_files/Image_014.png"/></span></p><p class="s5" style="text-indent: 0pt;line-height: 13pt;text-align: left;">Linears</p><p style="text-indent: 0pt;text-align: left;"/><p class="s5" style="padding-top: 1pt;text-indent: 15pt;line-height: 71%;text-align: justify;">Fork Lyngby Florence</p><p style="text-indent: 0pt;text-align: left;"/><p class="s5" style="padding-left: 2pt;text-indent: 0pt;line-height: 12pt;text-align: left;">7</p><p class="s5" style="text-indent: 0pt;line-height: 11pt;text-align: left;">11</p><p class="s5" style="text-indent: 0pt;line-height: 12pt;text-align: left;">69</p><p style="text-indent: 0pt;text-align: left;"/><p class="s5" style="padding-top: 1pt;text-indent: 0pt;line-height: 73%;text-align: center;">Points 1</p><p class="s5" style="text-indent: 0pt;line-height: 10pt;text-align: center;">2</p><p class="s5" style="text-indent: 0pt;line-height: 11pt;text-align: center;">6</p><p class="s5" style="text-indent: 0pt;line-height: 12pt;text-align: center;">23</p><p style="text-indent: 0pt;text-align: left;"/><p class="s5" style="text-indent: 0pt;line-height: 13pt;text-align: left;">Signals Trains</p><p style="text-indent: 0pt;text-align: left;"/><p class="s5" style="text-indent: 0pt;line-height: 13pt;text-align: left;">Toy<span class="s8">  </span>3</p><p style="text-indent: 0pt;text-align: left;"/><p class="s5" style="padding-left: 2pt;text-indent: 0pt;line-height: 12pt;text-align: left;">2</p><p class="s5" style="padding-left: 2pt;text-indent: 0pt;line-height: 11pt;text-align: left;">6</p><p class="s5" style="text-indent: 0pt;line-height: 11pt;text-align: left;">14</p><p class="s5" style="text-indent: 0pt;line-height: 12pt;text-align: left;">46</p><p style="text-indent: 0pt;text-align: left;"/><p class="s5" style="text-indent: 0pt;line-height: 12pt;text-align: left;">2</p><p class="s5" style="text-indent: 0pt;line-height: 11pt;text-align: left;">3</p><p class="s5" style="text-indent: 0pt;line-height: 11pt;text-align: left;">5</p><p class="s5" style="text-indent: 0pt;line-height: 12pt;text-align: left;">4</p><p style="text-indent: 0pt;text-align: left;"/><p class="s8" style="padding-left: 14pt;text-indent: 0pt;line-height: 1pt;text-align: left;">Table 2: Overview of the sizes of the networks used for exper-</p><p class="s5" style="padding-left: 14pt;text-indent: 0pt;line-height: 13pt;text-align: left;">surprise, as <span class="s7">V </span><span class="s42">1</span></p><p class="s5" style="padding-left: 11pt;text-indent: 0pt;line-height: 14pt;text-align: left;"><a href="#bookmark44" class="s16">(see equation </a>(2)) is exponential in the</p><p class="s10" style="text-indent: 0pt;line-height: 1pt;text-align: right;">2</p><p class="s8" style="padding-top: 8pt;padding-left: 14pt;text-indent: 0pt;text-align: left;">iments.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s5" style="padding-left: 14pt;text-indent: 10pt;line-height: 71%;text-align: justify;">During the experiments, we measured the sizes of the generated game graphs and the running times of several phases of the computations. Each of the game variants <span class="s23">G</span><span class="s42">0</span>, <span class="s23">G</span><span class="s6">1</span>, <span class="s23">G</span><span class="s6">2</span>, and <span class="s23">G</span><span class="s6">3 </span>was used to solve each of the networks. The experiments were conducted on a MacBook Pro<span class="s42">1</span><span class="s8"> </span><a href="#bookmark53" class="s16">(Retina 13”, primo 2015). The results are shown in Table 3.</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 14pt;text-indent: 0pt;line-height: 1pt;text-align: left;"><span><img width="65" height="1" alt="image" src="Docs_files/Image_015.png"/></span></p><p class="s10" style="padding-left: 14pt;text-indent: 0pt;line-height: 90%;text-align: justify;"><a name="bookmark50"><span class="s9">1 </span></a>This machine has a 2.7-GHz Intel-Core-i5 processor and 8 GB of 1867-MHz DDR3 memory. The source code was compiled using The Open Edition of the F<span class="s68">#  </span><a href="#bookmark75" class="a">Compiler [</a>20] and executed using the Mono</p><p class="s10" style="padding-left: 14pt;text-indent: 0pt;text-align: justify;">JIT compiler (version 4.2.3) under OS X El Capitan (version 10.11.5).</p><p class="s5" style="padding-left: 14pt;text-indent: 0pt;line-height: 71%;text-align: justify;">number of trains, points, and signals, whereas <span class="s7">V</span><span class="s26">max </span><a href="#bookmark43" class="s16">(see equation </a>(3)) is exponential only in the number of trains.</p><p class="s5" style="padding-left: 14pt;text-indent: 9pt;line-height: 72%;text-align: justify;">The difference between <span class="s23">G</span><span class="s42">2</span><span class="s8"> </span>and <span class="s23">G</span><span class="s42">3</span><span class="s8"> </span>is much smaller: The running times when using <span class="s23">G</span><span class="s42">2</span><span class="s8"> </span>are within a factor four of the running times obtained by <span class="s23">G</span><span class="s42">3</span>. Hence, if we find the at-most- one-open-signal aspect of <span class="s23">G</span><span class="s42">3</span><span class="s8"> </span>too restricting, then we can use <span class="s23">G</span><span class="s42">2</span><span class="s8"> </span>and expect no more than a quadruplication of the running time.</p><p class="s5" style="padding-left: 14pt;text-indent: 9pt;line-height: 71%;text-align: justify;"><a href="#bookmark40" class="s16">It is also worth noting that the sizes of the generated game graphs are significantly lower than the upper bounds presented in Section </a>4. In these upper bounds, we include every possible way of distributing the trains in a network. However, many of these distributions are not obtainable, as two trains cannot pass each other on a single track. In</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 52pt;text-indent: 0pt;text-align: left;"><span><img width="571" height="325" alt="image" src="Docs_files/Image_016.jpg"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s8" style="padding-top: 6pt;padding-left: 146pt;text-indent: 0pt;line-height: 106%;text-align: justify;"><a name="bookmark51">Figure 12: Layout of roughly a quarter of Florence Station located in Florence, Italy. Each blue square represents a signal. This drawing was kindly provided by Alessandro Fantechi.</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s5" style="padding-top: 6pt;padding-left: 14pt;text-indent: 0pt;line-height: 71%;text-align: justify;">addition, it is often the case a train cannot reach a large part of the network, as it is not allowed to change direction. Hence, in large networks with many trains, these bounds are not very tight. However, if we keep this in mind, they can still serve as indications of the complexity of a given railway network.</p><p class="s5" style="padding-left: 14pt;text-indent: 9pt;line-height: 71%;text-align: justify;">We now turn to the running times of the individual compu- tation phases: The parsing and the checks for well-formedness always take around 0.1 seconds and the majority of this is probably spent on disk access. These steps are fast, because they only require an amount of work linear in the number of network entities. For example, parsing a port connection requires processing a constant amount of characters<span class="s42">2</span>.</p><p class="s5" style="padding-left: 14pt;text-indent: 9pt;line-height: 71%;text-align: justify;"><a href="#bookmark35" class="s16">For the networks Lyngby and Florence Stations, the gen- eration of the game graph takes significantly longer than solving the resulting game. This is expected, as Algorithm </a>1 spends very little time at each vertex: It makes a few reads and writes in hash tables and adds new nodes to a queue. All of these operations are fast. During graph generation, we have to maintain the hash table that represents the game graph. In addition, we need to find the next linear sections of trains, find the relevant points and signals, and compute power sets of points and signals. Therefore, game-graph generation is the performance bottleneck.</p><p class="s5" style="padding-left: 24pt;text-indent: 0pt;line-height: 9pt;text-align: justify;">Finally, the tool can use a lot of memory. This is indicated</p><p class="s5" style="padding-bottom: 4pt;padding-left: 14pt;text-indent: 0pt;line-height: 71%;text-align: justify;">by the fact that <span class="s23">G </span>and <span class="s23">G</span><span class="s42">1</span><span class="s8"> </span>cannot solve Lyngby and Florence Stations without running out of memory. Also, adding a</p><p style="padding-left: 14pt;text-indent: 0pt;line-height: 1pt;text-align: left;"><span><img width="64" height="1" alt="image" src="Docs_files/Image_017.png"/></span></p><p class="s9" style="padding-left: 14pt;text-indent: 0pt;text-align: justify;"><a name="bookmark52">2 </a><span class="s10">If the network features unusually long identifiers, then the time complexity per connection cannot be described as constant.</span></p><p class="s5" style="padding-top: 6pt;padding-left: 14pt;text-indent: 0pt;line-height: 71%;text-align: justify;">fifth train to Florence Station causes the tool to run out of memory when we use <span class="s23">G</span><span class="s6">2 </span>and <span class="s23">G</span><span class="s6">3</span>.</p><p class="s5" style="padding-left: 14pt;text-indent: 10pt;line-height: 71%;text-align: justify;">The maximum amount of memory that the tool can allo- cate seems to be somewhere between 2.85 GB and 3.37 GB. This is a limit imposed by the Common Language Runtime or the operating system, as the machine used for experiments has 8 GB of memory and plenty of disk space for virtual memory.</p><p class="s5" style="padding-left: 14pt;text-indent: 9pt;line-height: 71%;text-align: justify;">We did not have the time to figure out how to remove this artificial limit. Hence, we cannot determine the precise amount of memory needed to solve Florence Station with five trains. However, when we add the fifth train, the upper bound on the number of vertices in <span class="s23">G</span><span class="s42">3</span><span class="s8"> </span>increases from 6<span class="s7">.</span>0<span class="s23">×</span>10<span class="s42">8</span><span class="s8"> </span>to 8<span class="s7">.</span>1 <span class="s23">× </span>10<span class="s42">10</span>, which is a factor 135 increase. When solving Florence Station with four trains, the tool uses approximately</p><p class="s5" style="padding-left: 14pt;text-indent: 0pt;line-height: 71%;text-align: justify;">0.14 GB of memory, so it is reasonable to assess that the tool needs roughly 19 GB of memory to solve Florence Station with five trains. By the same logic, it would take roughly 18 minutes to compute a signaling plan.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><ol id="l13"><li data-list-text="6.1"><p class="s3" style="padding-left: 39pt;text-indent: -24pt;line-height: 12pt;text-align: justify;"><a name="bookmark26">Purely Functional Game-Graph Generation</a></p><p class="s5" style="padding-top: 3pt;padding-left: 14pt;text-indent: 0pt;line-height: 71%;text-align: justify;"><a href="#bookmark35" class="s16">In order to determine the performance of purely functional game-graph generation, we left the imperative constructs of Algorithm </a>1 unchanged but replaced all other impera- tive constructs with purely functional counterparts. In this process, we replaced hash-based data structures with purely functional ones. More specifically, we replaced <span class="s33">HashSet</span>s and <span class="s33">Dictionaries </span>with <span class="s33">Set</span>s and <span class="s33">Map</span>s from the F<span class="s6"># </span><a href="#bookmark68" class="s16">library [13].</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><br/></p><table style="border-collapse:collapse;margin-left:3pt" cellspacing="0"><tr style="height:11pt"><td style="width:87pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt" colspan="2"><p style="text-indent: 0pt;text-align: left;"><br/></p></td><td style="width:61pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s69" style="padding-left: 6pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Toy Fork</p></td><td style="width:44pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s69" style="padding-left: 8pt;padding-right: 7pt;text-indent: 0pt;line-height: 9pt;text-align: center;">Lyngby</p></td><td style="width:45pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s69" style="padding-left: 4pt;padding-right: 3pt;text-indent: 0pt;line-height: 9pt;text-align: center;">Florence</p></td></tr><tr style="height:10pt"><td style="width:18pt;border-top-style:solid;border-top-width:1pt"><p style="text-indent: 0pt;text-align: left;"><br/></p></td><td style="width:69pt;border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt" rowspan="2"><p class="s70" style="padding-left: 45pt;text-indent: 0pt;line-height: 37%;text-align: left;">V <span class="s71">0</span></p><p class="s71" style="padding-left: 50pt;text-indent: 0pt;line-height: 3pt;text-align: left;">max</p><p class="s69" style="padding-left: 30pt;text-indent: 0pt;line-height: 10pt;text-align: left;">#vertices</p></td><td style="width:61pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt"><p class="s69" style="padding-right: 4pt;text-indent: 0pt;line-height: 8pt;text-align: right;">240 236544</p></td><td style="width:44pt;border-top-style:solid;border-top-width:1pt"><p class="s69" style="padding-left: 4pt;text-indent: 0pt;line-height: 8pt;text-align: left;">3<span class="s72">.</span>7 <span class="s73">× </span>10<span class="s74">11</span></p></td><td style="width:45pt;border-top-style:solid;border-top-width:1pt"><p class="s69" style="padding-left: 4pt;text-indent: 0pt;line-height: 8pt;text-align: left;">2<span class="s72">.</span>8 <span class="s73">× </span>10<span class="s74">28</span></p></td></tr><tr style="height:11pt"><td style="width:18pt"><p style="text-indent: 0pt;text-align: left;"><br/></p></td><td style="width:61pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s69" style="padding-left: 9pt;text-indent: 0pt;line-height: 10pt;text-align: left;">37 34849</p></td><td style="width:44pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s69" style="text-indent: 0pt;line-height: 10pt;text-align: center;">–</p></td><td style="width:45pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s69" style="text-indent: 0pt;line-height: 10pt;text-align: center;">–</p></td></tr><tr style="height:18pt"><td style="width:18pt"><p class="s75" style="padding-top: 2pt;padding-right: 4pt;text-indent: 0pt;text-align: right;">G<span class="s71">0</span></p></td><td style="width:69pt;border-top-style:solid;border-top-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s69" style="padding-right: 4pt;text-indent: 0pt;line-height: 8pt;text-align: right;">parsing &amp; WF</p><p class="s69" style="padding-right: 4pt;text-indent: 0pt;line-height: 9pt;text-align: right;">graph generation</p></td><td style="width:61pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt"><p class="s69" style="padding-left: 6pt;text-indent: 0pt;line-height: 8pt;text-align: left;">0.10 0.10</p><p class="s69" style="padding-left: 4pt;text-indent: 0pt;line-height: 9pt;text-align: left;">0.039 6.7</p></td><td style="width:44pt;border-top-style:solid;border-top-width:1pt"><p class="s69" style="text-indent: 0pt;line-height: 8pt;text-align: center;">–</p><p class="s69" style="text-indent: 0pt;line-height: 9pt;text-align: center;">–</p></td><td style="width:45pt;border-top-style:solid;border-top-width:1pt"><p class="s69" style="text-indent: 0pt;line-height: 8pt;text-align: center;">–</p><p class="s69" style="text-indent: 0pt;line-height: 9pt;text-align: center;">–</p></td></tr><tr style="height:11pt"><td style="width:18pt"><p style="text-indent: 0pt;text-align: left;"><br/></p></td><td style="width:69pt;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#BFBFBF;border-right-style:solid;border-right-width:1pt"><p class="s69" style="padding-right: 4pt;text-indent: 0pt;line-height: 10pt;text-align: right;">game solving</p></td><td style="width:61pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#BFBFBF"><p class="s69" style="padding-left: 4pt;text-indent: 0pt;line-height: 10pt;text-align: left;">0.055 0.31</p></td><td style="width:44pt;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#BFBFBF"><p class="s69" style="text-indent: 0pt;line-height: 10pt;text-align: center;">–</p></td><td style="width:45pt;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#BFBFBF"><p class="s69" style="text-indent: 0pt;line-height: 10pt;text-align: center;">–</p></td></tr><tr style="height:10pt"><td style="width:18pt;border-bottom-style:solid;border-bottom-width:1pt"><p style="text-indent: 0pt;text-align: left;"><br/></p></td><td style="width:69pt;border-top-style:solid;border-top-width:1pt;border-top-color:#BFBFBF;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s69" style="padding-right: 4pt;text-indent: 0pt;line-height: 9pt;text-align: right;">total time</p></td><td style="width:61pt;border-top-style:solid;border-top-width:1pt;border-top-color:#BFBFBF;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s69" style="padding-left: 6pt;text-indent: 0pt;line-height: 9pt;text-align: left;">0.19 7.1</p></td><td style="width:44pt;border-top-style:solid;border-top-width:1pt;border-top-color:#BFBFBF;border-bottom-style:solid;border-bottom-width:1pt"><p class="s69" style="text-indent: 0pt;line-height: 9pt;text-align: center;">–</p></td><td style="width:45pt;border-top-style:solid;border-top-width:1pt;border-top-color:#BFBFBF;border-bottom-style:solid;border-bottom-width:1pt"><p class="s69" style="text-indent: 0pt;line-height: 9pt;text-align: center;">–</p></td></tr><tr style="height:10pt"><td style="width:18pt;border-top-style:solid;border-top-width:1pt"><p style="text-indent: 0pt;text-align: left;"><br/></p></td><td style="width:69pt;border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt" rowspan="2"><p class="s70" style="padding-left: 45pt;text-indent: 0pt;line-height: 37%;text-align: left;">V <span class="s71">1</span></p><p class="s71" style="padding-left: 50pt;text-indent: 0pt;line-height: 3pt;text-align: left;">max</p><p class="s69" style="padding-left: 30pt;text-indent: 0pt;line-height: 10pt;text-align: left;">#vertices</p></td><td style="width:61pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt"><p class="s69" style="padding-right: 4pt;text-indent: 0pt;line-height: 8pt;text-align: right;">135 118734</p></td><td style="width:44pt;border-top-style:solid;border-top-width:1pt"><p class="s69" style="padding-left: 4pt;text-indent: 0pt;line-height: 8pt;text-align: left;">1<span class="s72">.</span>8 <span class="s73">× </span>10<span class="s74">11</span></p></td><td style="width:45pt;border-top-style:solid;border-top-width:1pt"><p class="s69" style="padding-left: 4pt;text-indent: 0pt;line-height: 8pt;text-align: left;">1<span class="s72">.</span>4 <span class="s73">× </span>10<span class="s74">28</span></p></td></tr><tr style="height:11pt"><td style="width:18pt"><p style="text-indent: 0pt;text-align: left;"><br/></p></td><td style="width:61pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s69" style="padding-left: 9pt;text-indent: 0pt;line-height: 10pt;text-align: left;">24 14484</p></td><td style="width:44pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s69" style="text-indent: 0pt;line-height: 10pt;text-align: center;">–</p></td><td style="width:45pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s69" style="text-indent: 0pt;line-height: 10pt;text-align: center;">–</p></td></tr><tr style="height:18pt"><td style="width:18pt"><p class="s75" style="padding-top: 2pt;padding-right: 4pt;text-indent: 0pt;text-align: right;">G<span class="s71">1</span></p></td><td style="width:69pt;border-top-style:solid;border-top-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s69" style="padding-right: 4pt;text-indent: 0pt;line-height: 8pt;text-align: right;">parsing &amp; WF</p><p class="s69" style="padding-right: 4pt;text-indent: 0pt;line-height: 9pt;text-align: right;">graph generation</p></td><td style="width:61pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt"><p class="s69" style="padding-left: 6pt;text-indent: 0pt;line-height: 8pt;text-align: left;">0.10 0.10</p><p class="s69" style="padding-left: 4pt;text-indent: 0pt;line-height: 9pt;text-align: left;">0.064 0.31</p></td><td style="width:44pt;border-top-style:solid;border-top-width:1pt"><p class="s69" style="text-indent: 0pt;line-height: 8pt;text-align: center;">–</p><p class="s69" style="text-indent: 0pt;line-height: 9pt;text-align: center;">–</p></td><td style="width:45pt;border-top-style:solid;border-top-width:1pt"><p class="s69" style="text-indent: 0pt;line-height: 8pt;text-align: center;">–</p><p class="s69" style="text-indent: 0pt;line-height: 9pt;text-align: center;">–</p></td></tr><tr style="height:11pt"><td style="width:18pt"><p style="text-indent: 0pt;text-align: left;"><br/></p></td><td style="width:69pt;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#BFBFBF;border-right-style:solid;border-right-width:1pt"><p class="s69" style="padding-right: 4pt;text-indent: 0pt;line-height: 10pt;text-align: right;">game solving</p></td><td style="width:61pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#BFBFBF"><p class="s69" style="padding-left: 4pt;text-indent: 0pt;line-height: 10pt;text-align: left;">0.025 0.042</p></td><td style="width:44pt;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#BFBFBF"><p class="s69" style="text-indent: 0pt;line-height: 10pt;text-align: center;">–</p></td><td style="width:45pt;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#BFBFBF"><p class="s69" style="text-indent: 0pt;line-height: 10pt;text-align: center;">–</p></td></tr><tr style="height:10pt"><td style="width:18pt;border-bottom-style:solid;border-bottom-width:1pt"><p style="text-indent: 0pt;text-align: left;"><br/></p></td><td style="width:69pt;border-top-style:solid;border-top-width:1pt;border-top-color:#BFBFBF;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s69" style="padding-right: 4pt;text-indent: 0pt;line-height: 9pt;text-align: right;">total time</p></td><td style="width:61pt;border-top-style:solid;border-top-width:1pt;border-top-color:#BFBFBF;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s69" style="padding-left: 6pt;text-indent: 0pt;line-height: 9pt;text-align: left;">0.19 0.46</p></td><td style="width:44pt;border-top-style:solid;border-top-width:1pt;border-top-color:#BFBFBF;border-bottom-style:solid;border-bottom-width:1pt"><p class="s69" style="text-indent: 0pt;line-height: 9pt;text-align: center;">–</p></td><td style="width:45pt;border-top-style:solid;border-top-width:1pt;border-top-color:#BFBFBF;border-bottom-style:solid;border-bottom-width:1pt"><p class="s69" style="text-indent: 0pt;line-height: 9pt;text-align: center;">–</p></td></tr><tr style="height:10pt"><td style="width:18pt;border-top-style:solid;border-top-width:1pt"><p style="text-indent: 0pt;text-align: left;"><br/></p></td><td style="width:69pt;border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt" rowspan="2"><p class="s70" style="padding-left: 45pt;text-indent: 0pt;line-height: 37%;text-align: left;">V <span class="s71">2</span></p><p class="s71" style="padding-left: 50pt;text-indent: 0pt;line-height: 3pt;text-align: left;">max</p><p class="s69" style="padding-left: 30pt;text-indent: 0pt;line-height: 10pt;text-align: left;">#vertices</p></td><td style="width:61pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt"><p class="s69" style="padding-left: 7pt;text-indent: 0pt;line-height: 8pt;text-align: left;">135 12936</p></td><td style="width:44pt;border-top-style:solid;border-top-width:1pt"><p class="s69" style="padding-left: 6pt;text-indent: 0pt;line-height: 8pt;text-align: left;">4<span class="s72">.</span>3 <span class="s73">× </span>10<span class="s74">7</span></p></td><td style="width:45pt;border-top-style:solid;border-top-width:1pt"><p class="s69" style="padding-left: 6pt;text-indent: 0pt;line-height: 8pt;text-align: left;">2<span class="s72">.</span>0 <span class="s73">× </span>10<span class="s74">9</span></p></td></tr><tr style="height:11pt"><td style="width:18pt"><p style="text-indent: 0pt;text-align: left;"><br/></p></td><td style="width:61pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s69" style="padding-left: 9pt;text-indent: 0pt;line-height: 10pt;text-align: left;">18  672</p></td><td style="width:44pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s69" style="padding-left: 8pt;padding-right: 7pt;text-indent: 0pt;line-height: 10pt;text-align: center;">78530</p></td><td style="width:45pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s69" style="padding-left: 4pt;padding-right: 3pt;text-indent: 0pt;line-height: 10pt;text-align: center;">253063</p></td></tr><tr style="height:18pt"><td style="width:18pt"><p class="s75" style="padding-top: 2pt;padding-right: 4pt;text-indent: 0pt;text-align: right;">G<span class="s71">2</span></p></td><td style="width:69pt;border-top-style:solid;border-top-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s69" style="padding-right: 4pt;text-indent: 0pt;line-height: 8pt;text-align: right;">parsing &amp; WF</p><p class="s69" style="padding-right: 4pt;text-indent: 0pt;line-height: 9pt;text-align: right;">graph generation</p></td><td style="width:61pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt"><p class="s69" style="padding-left: 6pt;text-indent: 0pt;line-height: 8pt;text-align: left;">0.10 0.11</p><p class="s69" style="padding-left: 4pt;text-indent: 0pt;line-height: 9pt;text-align: left;">0.069 0.085</p></td><td style="width:44pt;border-top-style:solid;border-top-width:1pt"><p class="s69" style="padding-left: 8pt;padding-right: 7pt;text-indent: 0pt;line-height: 8pt;text-align: center;">0.11</p><p class="s69" style="padding-left: 8pt;padding-right: 7pt;text-indent: 0pt;line-height: 9pt;text-align: center;">2.3</p></td><td style="width:45pt;border-top-style:solid;border-top-width:1pt"><p class="s69" style="padding-left: 4pt;padding-right: 3pt;text-indent: 0pt;line-height: 8pt;text-align: center;">0.10</p><p class="s69" style="padding-left: 4pt;padding-right: 3pt;text-indent: 0pt;line-height: 9pt;text-align: center;">12</p></td></tr><tr style="height:11pt"><td style="width:18pt"><p style="text-indent: 0pt;text-align: left;"><br/></p></td><td style="width:69pt;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#BFBFBF;border-right-style:solid;border-right-width:1pt"><p class="s69" style="padding-right: 4pt;text-indent: 0pt;line-height: 10pt;text-align: right;">game solving</p></td><td style="width:61pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#BFBFBF"><p class="s69" style="padding-left: 4pt;text-indent: 0pt;line-height: 10pt;text-align: left;">0.021 0.028</p></td><td style="width:44pt;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#BFBFBF"><p class="s69" style="padding-left: 8pt;padding-right: 7pt;text-indent: 0pt;line-height: 10pt;text-align: center;">0.11</p></td><td style="width:45pt;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#BFBFBF"><p class="s69" style="padding-left: 4pt;padding-right: 3pt;text-indent: 0pt;line-height: 10pt;text-align: center;">0.40</p></td></tr><tr style="height:10pt"><td style="width:18pt;border-bottom-style:solid;border-bottom-width:1pt"><p style="text-indent: 0pt;text-align: left;"><br/></p></td><td style="width:69pt;border-top-style:solid;border-top-width:1pt;border-top-color:#BFBFBF;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s69" style="padding-right: 4pt;text-indent: 0pt;line-height: 9pt;text-align: right;">total time</p></td><td style="width:61pt;border-top-style:solid;border-top-width:1pt;border-top-color:#BFBFBF;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s69" style="padding-left: 6pt;text-indent: 0pt;line-height: 9pt;text-align: left;">0.19 0.22</p></td><td style="width:44pt;border-top-style:solid;border-top-width:1pt;border-top-color:#BFBFBF;border-bottom-style:solid;border-bottom-width:1pt"><p class="s69" style="padding-left: 8pt;padding-right: 7pt;text-indent: 0pt;line-height: 9pt;text-align: center;">2.6</p></td><td style="width:45pt;border-top-style:solid;border-top-width:1pt;border-top-color:#BFBFBF;border-bottom-style:solid;border-bottom-width:1pt"><p class="s69" style="padding-left: 4pt;padding-right: 3pt;text-indent: 0pt;line-height: 9pt;text-align: center;">12</p></td></tr><tr style="height:10pt"><td style="width:18pt;border-top-style:solid;border-top-width:1pt"><p style="text-indent: 0pt;text-align: left;"><br/></p></td><td style="width:69pt;border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt" rowspan="2"><p class="s70" style="padding-left: 45pt;text-indent: 0pt;line-height: 37%;text-align: left;">V <span class="s71">3</span></p><p class="s71" style="padding-left: 50pt;text-indent: 0pt;line-height: 3pt;text-align: left;">max</p><p class="s69" style="padding-left: 30pt;text-indent: 0pt;line-height: 10pt;text-align: left;">#vertices</p></td><td style="width:61pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt"><p class="s69" style="padding-left: 7pt;text-indent: 0pt;line-height: 8pt;text-align: left;">105 6006</p></td><td style="width:44pt;border-top-style:solid;border-top-width:1pt"><p class="s69" style="padding-left: 6pt;text-indent: 0pt;line-height: 8pt;text-align: left;">8<span class="s72">.</span>5 <span class="s73">× </span>10<span class="s74">6</span></p></td><td style="width:45pt;border-top-style:solid;border-top-width:1pt"><p class="s69" style="padding-left: 6pt;text-indent: 0pt;line-height: 8pt;text-align: left;">6<span class="s72">.</span>0 <span class="s73">× </span>10<span class="s74">8</span></p></td></tr><tr style="height:11pt"><td style="width:18pt"><p style="text-indent: 0pt;text-align: left;"><br/></p></td><td style="width:61pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s69" style="padding-left: 9pt;text-indent: 0pt;line-height: 10pt;text-align: left;">15  410</p></td><td style="width:44pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s69" style="padding-left: 8pt;padding-right: 7pt;text-indent: 0pt;line-height: 10pt;text-align: center;">25467</p></td><td style="width:45pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s69" style="padding-left: 4pt;padding-right: 3pt;text-indent: 0pt;line-height: 10pt;text-align: center;">220733</p></td></tr><tr style="height:18pt"><td style="width:18pt"><p class="s75" style="padding-top: 2pt;padding-right: 4pt;text-indent: 0pt;text-align: right;">G<span class="s71">3</span></p></td><td style="width:69pt;border-top-style:solid;border-top-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s69" style="padding-right: 4pt;text-indent: 0pt;line-height: 8pt;text-align: right;">parsing &amp; WF</p><p class="s69" style="padding-right: 4pt;text-indent: 0pt;line-height: 9pt;text-align: right;">graph generation</p></td><td style="width:61pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt"><p class="s69" style="padding-left: 6pt;text-indent: 0pt;line-height: 8pt;text-align: left;">0.10 0.11</p><p class="s69" style="padding-left: 4pt;text-indent: 0pt;line-height: 9pt;text-align: left;">0.068 0.074</p></td><td style="width:44pt;border-top-style:solid;border-top-width:1pt"><p class="s69" style="padding-left: 8pt;padding-right: 7pt;text-indent: 0pt;line-height: 8pt;text-align: center;">0.11</p><p class="s69" style="padding-left: 8pt;padding-right: 7pt;text-indent: 0pt;line-height: 9pt;text-align: center;">0.51</p></td><td style="width:45pt;border-top-style:solid;border-top-width:1pt"><p class="s69" style="padding-left: 4pt;padding-right: 3pt;text-indent: 0pt;line-height: 8pt;text-align: center;">0.10</p><p class="s69" style="padding-left: 4pt;padding-right: 3pt;text-indent: 0pt;line-height: 9pt;text-align: center;">7.5</p></td></tr><tr style="height:11pt"><td style="width:18pt"><p style="text-indent: 0pt;text-align: left;"><br/></p></td><td style="width:69pt;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#BFBFBF;border-right-style:solid;border-right-width:1pt"><p class="s69" style="padding-right: 4pt;text-indent: 0pt;line-height: 10pt;text-align: right;">game solving</p></td><td style="width:61pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#BFBFBF"><p class="s69" style="padding-left: 4pt;text-indent: 0pt;line-height: 10pt;text-align: left;">0.024 0.024</p></td><td style="width:44pt;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#BFBFBF"><p class="s69" style="padding-left: 8pt;padding-right: 7pt;text-indent: 0pt;line-height: 10pt;text-align: center;">0.057</p></td><td style="width:45pt;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#BFBFBF"><p class="s69" style="padding-left: 4pt;padding-right: 3pt;text-indent: 0pt;line-height: 10pt;text-align: center;">0.47</p></td></tr><tr style="height:10pt"><td style="width:87pt;border-right-style:solid;border-right-width:1pt" colspan="2"><p class="s69" style="padding-left: 47pt;text-indent: 0pt;line-height: 8pt;text-align: left;">total time</p></td><td style="width:150pt;border-top-style:solid;border-top-width:1pt;border-top-color:#BFBFBF;border-left-style:solid;border-left-width:1pt" colspan="3"><p style="text-indent: 0pt;text-align: left;"><br/></p></td></tr></table><p style="text-indent: 0pt;text-align: left;"/><p class="s76" style="padding-left: 108pt;text-indent: 0pt;text-align: left;"><a name="bookmark53">0.19  0.21  0.67   8.1</a></p><p class="s8" style="padding-left: 14pt;text-indent: 0pt;line-height: 106%;text-align: justify;">Table 3: The results of the experiments. The number of gen- erated vertices is denoted #vertices and the checks for well- formedness are denoted WF. Time measurements are given in seconds and measurements less than 0.5 seconds have a large relative uncertainty due to the unpredictable timing of the garbage collector. A dash indicates that the computation aborts with an out-of-memory exception after allocating be- tween 2.85 GB and 3.37 GB of memory.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s5" style="padding-left: 14pt;text-indent: 9pt;line-height: 71%;text-align: justify;">This purely functional version performed worse than the imperative version: The running time of using <span class="s23">G</span><span class="s42">3</span><span class="s8"> </span>on Lyngby Station was 4.8 seconds instead of 0.67 seconds and the running time of using <span class="s23">G</span><span class="s42">3</span><span class="s8"> </span>on Florence Station was 63 seconds instead of 8.1 seconds. This is roughly a factor 8 increase in the running time.</p><p class="s5" style="padding-left: 14pt;text-indent: 9pt;line-height: 71%;text-align: justify;">The purely functional <span class="s33">Set</span>s and <span class="s33">Map</span><a href="#bookmark68" class="s16">s are implemented using balanced binary search trees [</a>13], so lookups, insertions, and deletions run in <span class="s7">O</span><span class="s22">(</span>log <span class="s7">n</span><span class="s22">) </span>time. In comparison, these operations take expected <span class="s7">O</span><span class="s22">(</span>1<span class="s22">) </span>time on the <span class="s33">HashSet</span>s and <span class="s33">Dictionaries</span>. This difference in the asymptotic running times is the most likely explanation of the eight-fold increase in the overall performance.</p></li></ol></li><li data-list-text="7"><p class="s3" style="padding-top: 9pt;padding-left: 31pt;text-indent: -16pt;line-height: 12pt;text-align: left;"><a name="bookmark27">CONCLUSION</a></p></li></ol><p class="s5" style="padding-top: 3pt;padding-left: 14pt;text-indent: 0pt;line-height: 71%;text-align: justify;">Reachability games have been successfully used to synthesize signaling plans for railway networks:</p><ol id="l14"><li data-list-text="(1)"><p class="s5" style="padding-top: 3pt;padding-left: 47pt;text-indent: -16pt;line-height: 71%;text-align: justify;">A mathematical model of railway networks was de- veloped. This model describes the state space of a network and the transitions between these states. Furthermore, a simple DSL for describing railway networks has been defined.</p></li><li data-list-text="(2)"><p class="s5" style="padding-top: 6pt;padding-left: 47pt;text-indent: -16pt;line-height: 71%;text-align: justify;">A game semantics for the DSL was given in terms of reachability games, where the states of a network act as vertices and the state transitions act as edges. Eve, the existential player, acts as the control system being responsible for the points and signals, and Adam, the universal player, acts as an adversary controlling the trains. It was shown how to obtain a correct signaling plan from Eve’s winning strategy. This signaling plan will bring trains safely from their initial positions to their destinations.</p></li><li data-list-text="(3)"><p class="s5" style="padding-left: 48pt;text-indent: -16pt;line-height: 9pt;text-align: justify;">A tool for synthesizing correct-by-construction signal-</p></li></ol><p class="s5" style="padding-top: 1pt;padding-left: 48pt;text-indent: 0pt;line-height: 71%;text-align: justify;">ing plans from DSL specifications was implemented in the functional programming language F<span class="s6">#</span>.</p><p class="s5" style="padding-top: 7pt;padding-left: 14pt;text-indent: 10pt;line-height: 71%;text-align: justify;">An upper bound on the size of the original railway game was given. This bound is exponential in the number of trains, points, and signals. This renders computations on large net- works impossible, so three abstractions were introduced, each leading to a game variant equivalent to the original. Each abstraction significantly reduces the upper bound on the game size.</p><p style="padding-left: 14pt;text-indent: 10pt;line-height: 71%;text-align: justify;"><a href="#bookmark79" class="s16">The current implementation is able to generate correct signaling plans for real railway networks of substantial size. Specifically, in roughly 8 seconds, we are able to generate a sig- naling plan guiding four trains through (a fourth of) Florence Station. With five trains, the tool runs out of memory before the computation is complete. The size of the problems, for which synthesis is feasible, is approaching the size for which state-of-the-art verification methods can verify correctness of interlocking tables [24].</a></p><p class="s5" style="padding-left: 24pt;text-indent: 0pt;line-height: 9pt;text-align: justify;">Due to the static and explicit generation of the full game</p><p class="s5" style="padding-left: 14pt;text-indent: 0pt;line-height: 71%;text-align: justify;">graphs, the bottleneck of the current implementation is the memory needed during the graph generation process. The game-solving part uses an efficient implementation of a linear- time algorithm and for the networks considered that part alone never took more than 0.5 seconds.</p><p class="s5" style="padding-left: 14pt;text-indent: 10pt;line-height: 71%;text-align: justify;"><a href="#bookmark60" class="s16">To improve on the space limitations during game graph generation, the next step is to exploit on-the-fly methods, which will only generate the part of the game needed to find the winning area of Eve. Such techniques have been successfully used in, for example, [</a><a href="#bookmark71" class="s16">5]. An even further step would be to use symbolic methods to represent and solve games. This approach is used in [</a>16], where very large parity games are solved symbolically. Because reachability games are simpler than parity games, this approach seems promising in the context of our railway game.</p><p class="s5" style="padding-left: 24pt;text-indent: 0pt;line-height: 9pt;text-align: justify;">A functional programming approach proved to be most</p><p class="s5" style="padding-left: 14pt;text-indent: 0pt;line-height: 71%;text-align: justify;">adequate during the development of the synthesis tool. The program design, expressed using F<span class="s6">#</span><a href="#bookmark72" class="s16">’s type system, is very close to the mathematical definition of the railway-network model [</a>17]. This has obvious benefits concerning the vali- dation of correctness and the development time. The same applies to the game design, implementation, and construction parts.</p><p class="s5" style="padding-left: 14pt;text-indent: 9pt;line-height: 71%;text-align: justify;">Concerning efficiency, the experimental results show that it is the exponential growth of the size of the game graph that is the bottleneck – not the chosen data types nor the algorithms.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s5" style="padding-left: 14pt;text-indent: 0pt;line-height: 71%;text-align: justify;">Imperative data structure were used to represent the game. In that way a more succinct representation could be obtained that also resulted also in more efficient implementations of the key algorithms.</p><p class="s3" style="padding-top: 10pt;padding-left: 14pt;text-indent: 0pt;line-height: 12pt;text-align: left;"><a name="bookmark28">ACKNOWLEDGMENTS</a></p><p class="s5" style="padding-top: 3pt;padding-left: 14pt;text-indent: 0pt;line-height: 71%;text-align: justify;">Work of the second author was partially supported by the Danish Research Foundation for Basic Research within the IDEA4CPS project. We greatly appreciate suggestions from and discussions with Alessandro Fantechi and Anne Hax- thausen. Furthermore, Alessandro provided the Florence- Station example.</p><ol id="l15"><li data-list-text="A"><p class="s3" style="padding-top: 9pt;padding-left: 33pt;text-indent: -19pt;line-height: 12pt;text-align: left;"><a name="bookmark29">GAME SOLVING</a><a name="bookmark54">&zwnj;</a></p><p class="s5" style="padding-top: 3pt;padding-left: 14pt;text-indent: 0pt;line-height: 71%;text-align: justify;"><a href="#bookmark35" class="s16">Below, we list the source code that implements Algorithm 1. In contrast to Algorithm </a>1, the function <span class="s33">solveReachability </span>takes as input a <span class="s7">reverse </span>game graph with information on the number of successors to each vertex:</p><p class="s77" style="padding-top: 5pt;padding-left: 8pt;text-indent: 0pt;line-height: 9pt;text-align: left;">1 <span class="s35">let </span><span class="s36">color (_, c, _) = c</span></p><p class="s77" style="padding-left: 8pt;text-indent: 0pt;line-height: 9pt;text-align: left;">2 <span class="s35">let </span><span class="s36">owner (_, _, plr) = plr</span></p><p class="s77" style="padding-top: 1pt;padding-left: 8pt;text-indent: 0pt;text-align: left;">3</p><p class="s77" style="padding-left: 8pt;text-indent: 0pt;line-height: 9pt;text-align: left;">4 <span class="s78">//val solveReachability :</span></p><p class="s78" style="padding-left: 8pt;text-indent: 0pt;line-height: 9pt;text-align: left;"><span class="s77">5 </span>//  GameGraph&lt;<i>&#39;</i>misc,<i>&#39;</i>color&gt; -&gt; <i>&#39;</i>color -&gt;</p><p class="s78" style="padding-left: 8pt;text-indent: 0pt;line-height: 9pt;text-align: left;"><span class="s77">6 </span>// Winners&lt;<i>&#39;</i>misc,<i>&#39;</i>color&gt; * Strategy&lt;<i>&#39;</i>misc,<i>&#39;</i>color&gt;</p><p class="s77" style="padding-left: 8pt;text-indent: 0pt;line-height: 9pt;text-align: left;">7 <span class="s35">let </span><span class="s36">solveReachability</span></p><p class="s36" style="padding-left: 8pt;text-indent: 0pt;line-height: 9pt;text-align: left;"><span class="s77">8     </span>(graph : GameGraph&lt;<i>&#39;</i>misc,<i>&#39;</i>color&gt;) target =</p><p class="s77" style="padding-top: 1pt;padding-left: 8pt;text-indent: 0pt;text-align: left;">9</p><p class="s77" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;">10   <span class="s35">let </span><span class="s36">numPos = graph.Count</span></p><p class="s36" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;"><span class="s77">11   </span><span style=" color: #2121FF;">let </span>win : Dictionary&lt;Vertex&lt;<i>&#39;</i>misc,<i>&#39;</i>color&gt;, Player&gt; =</p><p class="s77" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;">12     <span class="s36">Dictionary (numPos)</span></p><p class="s36" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;"><span class="s77">13   </span><span style=" color: #2121FF;">let </span>strategy : Dictionary&lt;Vertex&lt;<i>&#39;</i>misc,<i>&#39;</i>color&gt;,</p><p class="s36" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;"><span class="s77">14                   </span>Vertex&lt;<i>&#39;</i>misc,<i>&#39;</i>color&gt;&gt; =</p><p class="s77" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;">15     <span class="s36">Dictionary (numPos)</span></p><p class="s77" style="padding-top: 1pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">16</p><p class="s77" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;">17   <span class="s78">// Initialization</span></p><p class="s77" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;">18   <span class="s35">let </span><span class="s36">queue = Queue ()</span></p><p class="s35" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;"><span class="s77">19   </span>for <span style=" color: #000;">KeyValue (v, _) </span>in <span style=" color: #000;">graph </span>do</p><p class="s35" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;"><span class="s77">20     </span>if <span style=" color: #000;">color v = target </span>then</p><p class="s77" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;">21       <span class="s36">win.[v] &lt;- Eve</span></p><p class="s77" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">22       <span class="s36">queue.Enqueue v</span></p><p class="s77" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;">23     <span class="s35">else</span></p><p class="s77" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;">24       <span class="s36">win.[v] &lt;- Adam</span></p><p class="s77" style="padding-top: 1pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">25</p><p class="s77" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;">26   <span class="s78">// Breadth first search</span></p><p class="s35" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;"><span class="s77">27   </span>while <span style=" color: #000;">queue.Count &gt; 0 </span>do</p><p class="s77" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;">28     <span class="s35">let </span><span class="s36">v = queue.Dequeue ()</span></p><p class="s35" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;"><span class="s77">29     </span>for <span style=" color: #000;">p </span>in <span style=" color: #000;">snd graph.[v] </span>do</p><p class="s77" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;">30       <span class="s35">let </span><span class="s36">(n, pred) = graph.[p]</span></p><p class="s77" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;">31       <span class="s36">graph.[p] &lt;- (n - 1, pred)</span></p><p class="s77" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;">32       <span class="s35">if </span><span class="s36">win.[p] = Adam &amp;&amp; (owner p = Eve</span></p><p class="s77" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;">33                       <span class="s36">|| fst graph.[p] = 0)</span></p><p class="s77" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;">34        <span class="s35">then</span></p><p class="s77" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;">35          <span class="s36">win.[p] &lt;- Eve</span></p><p class="s77" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;">36          <span class="s36">strategy.[p] &lt;- v</span></p><p class="s77" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;">37          <span class="s36">queue.Enqueue p</span></p><p class="s77" style="padding-top: 1pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">38</p><p class="s77" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;">39   <span class="s78">// Post-processing of the computed strategy</span></p><p class="s36" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;"><span class="s77">40   </span><span style=" color: #2121FF;">let </span>strategy<i>&#39; </i>=</p><p class="s36" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;"><span class="s77">41     </span>Seq.filter (<span style=" color: #2121FF;">fun </span>(KeyValue (u, v)) -&gt;</p><p class="s77" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;">42                <span class="s36">owner u = Eve)</span></p><p class="s77" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">43            <span class="s36">strategy</span></p><p class="s36" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;"><span class="s77">44   </span><span style=" color: #2121FF;">let </span>strategy<i>&#39;&#39; </i>=</p><p class="s36" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;"><span class="s77">45     </span>Seq.map (<span style=" color: #2121FF;">fun </span>(KeyValue (u, v)) -&gt; (u, v))</p><p class="s77" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;">46          <span class="s36">strategy</span><span class="s37">&#39;</span></p><p class="s36" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;"><span class="s77">47   </span>(win, strategy<i>&#39;&#39;</i>)</p></li><li data-list-text="B"><p class="s3" style="padding-top: 11pt;padding-left: 33pt;text-indent: -18pt;line-height: 12pt;text-align: justify;"><a name="bookmark30">GAME GRAPH GENERATION</a></p><p class="s5" style="padding-top: 3pt;padding-left: 14pt;text-indent: 0pt;line-height: 71%;text-align: justify;">Below, we list the source code of the function <span class="s33">graph</span>, which explicitly generates a <span class="s7">reverse </span>game graph. This graph carries information on the number of successors to each vertex:</p><p class="s77" style="padding-top: 3pt;padding-left: 8pt;text-indent: 0pt;line-height: 9pt;text-align: left;">1 <span class="s78">//val graph :</span></p><p class="s77" style="padding-left: 8pt;text-indent: 0pt;line-height: 9pt;text-align: left;">2 <span class="s78">//  GameVariant -&gt; Network -&gt;</span></p><p class="s77" style="padding-left: 8pt;text-indent: 0pt;line-height: 9pt;text-align: left;">3 <span class="s78">// (Games.GameGraph&lt;State,Color&gt;</span></p><p class="s77" style="padding-left: 8pt;text-indent: 0pt;line-height: 9pt;text-align: left;">4 <span class="s78">//  * Games.Vertex&lt;State,Color&gt;)</span></p><p class="s77" style="padding-left: 8pt;text-indent: 0pt;line-height: 9pt;text-align: left;">5 <span class="s35">let </span><span class="s36">graph gameVariant (network : Network) =</span></p><p class="s77" style="padding-top: 1pt;padding-left: 8pt;text-indent: 0pt;text-align: left;">6</p><p class="s77" style="padding-left: 8pt;text-indent: 0pt;line-height: 9pt;text-align: left;">7   <span class="s35">let </span><span class="s36">graph : Games.GameGraph&lt;State,Color&gt; =</span></p><p class="s77" style="padding-left: 8pt;text-indent: 0pt;line-height: 9pt;text-align: left;">8     <span class="s36">Dictionary ()</span></p><p class="s77" style="padding-left: 8pt;text-indent: 0pt;line-height: 8pt;text-align: left;">9   <span class="s35">let </span><span class="s36">frontier :</span></p><p class="s77" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;">10       <span class="s36">HashSet&lt;Games.Vertex&lt;State,Color&gt;&gt; =</span></p><p class="s77" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;">11     <span class="s36">HashSet ()</span></p><p class="s77" style="padding-top: 1pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">12</p><p class="s77" style="padding-top: 1pt;padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;">13   <span class="s78">// Graph-generation helper functions</span></p><p class="s77" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;">14   <span class="s35">let </span><span class="s36">isNew v = not (graph.ContainsKey v)</span></p><p class="s77" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;">15   <span class="s35">let </span><span class="s36">addVertex v = graph.[v] &lt;- (0, List ())</span></p><p class="s36" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;"><span class="s77">16   </span><span style=" color: #2121FF;">let </span>addEdge from<i>&#39; </i>to<i>&#39; </i>=</p><p class="s36" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;"><span class="s77">17     </span>(snd graph.[to<i>&#39;</i>]).Add from<i>&#39; </i>|&gt; ignore</p><p class="s77" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">18   <span class="s35">let </span><span class="s36">setNumSuccessors v num plr =</span></p><p class="s35" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;"><span class="s77">19     </span>match <span style=" color: #000;">plr </span>with</p><p class="s77" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;">20     <span class="s36">| Games.Player.Adam -&gt;</span></p><p class="s77" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;">21       <span class="s36">countAdamMoves (int64 num)</span></p><p class="s77" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;">22     <span class="s36">| Games.Player.Eve -&gt;</span></p><p class="s77" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;">23       <span class="s36">countEveMoves (int64 num)</span></p><p class="s77" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;">24     <span class="s35">let </span><span class="s36">(_, pred) = graph.[v]</span></p><p class="s77" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;">25     <span class="s36">graph.[v] &lt;- (num, pred)</span></p><p class="s77" style="padding-top: 1pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">26</p><p class="s77" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;">27   <span class="s78">// Compute the directions of the trains</span></p><p class="s77" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;">28   <span class="s35">let </span><span class="s36">dir = directions network</span></p><p class="s77" style="padding-top: 1pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">29</p><p class="s77" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;">30   <span class="s78">// Graph-generation loop</span></p><p class="s77" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;">31   <span class="s35">let rec </span><span class="s36">graphAux () =</span></p><p class="s35" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;"><span class="s77">32     </span>if <span style=" color: #000;">frontier.Count = 0 </span>then <span style=" color: #000;">()</span></p><p class="s77" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">33     <span class="s35">else</span></p><p class="s77" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">34       <span class="s35">let </span><span class="s36">v = takeOne frontier</span></p><p class="s77" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">35       <span class="s35">let mutable </span><span class="s36">succs = null</span></p><p class="s35" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;"><span class="s77">36        </span>match <span style=" color: #000;">v </span>with</p><p class="s77" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;">37       <span class="s36">| (_, _, Games.Player.Eve) -&gt;</span></p><p class="s77" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">38         <span class="s36">succs &lt;- succEve gameVariant</span></p><p class="s77" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">39                      <span class="s36">network dir v</span></p><p class="s77" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">40         <span class="s36">setNumSuccessors v succs.Count</span></p><p class="s77" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;">41                     <span class="s36">Games.Player.Eve</span></p><p class="s77" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;">42       <span class="s36">| (_, _, Games.Player.Adam) -&gt;</span></p><p class="s77" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">43         <span class="s36">succs &lt;- succAdam gameVariant</span></p><p class="s77" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">44                       <span class="s36">network dir v</span></p><p class="s77" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">45         <span class="s36">setNumSuccessors v succs.Count</span></p><p class="s77" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">46                     <span class="s36">Games.Player.Adam</span></p><p class="s35" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;"><span class="s77">47       </span>for <span style=" color: #000;">v</span><span class="s37">&#39; </span>in <span style=" color: #000;">succs </span>do</p><p class="s35" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;"><span class="s77">48          </span>if <span style=" color: #000;">isNew v</span><span class="s37">&#39; </span>then</p><p class="s36" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;"><span class="s77">49            </span>frontier.Add v<i>&#39; </i>|&gt; ignore</p><p class="s77" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">50             <span class="s36">addVertex v</span><span class="s37">&#39;</span></p><p class="s77" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;">51          <span class="s36">addEdge v v</span><span class="s37">&#39;</span></p><p class="s77" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;">52       <span class="s36">graphAux ()</span></p><p class="s77" style="padding-top: 1pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">53</p><p class="s77" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;">54   <span class="s78">// Initialize the search</span></p><p class="s77" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">55   <span class="s35">let </span><span class="s36">initialVertex = initialVertex network</span></p><p class="s35" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;"><span class="s77">56   </span>match <span style=" color: #000;">initialVertex </span>with</p><p class="s77" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;">57   <span class="s36">| (_, Success, _) -&gt; addVertex initialVertex</span></p><p class="s77" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;">58   <span class="s36">| (_, Crash, _) -&gt;</span></p><p class="s77" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;">59     <span class="s36">failwith (</span><span class="s80">&quot;the starting vertex &quot;</span></p><p class="s36" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;"><span class="s77">60           </span>+ <span style=" color: #7F0000;">&quot;contains a failure state&quot;</span>)</p><p class="s77" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;">61   <span class="s36">| (_, Nothing, _) -&gt;</span></p><p class="s77" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;">62     <span class="s36">addVertex initialVertex</span></p><p class="s77" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;">63     <span class="s36">frontier.Add initialVertex |&gt; ignore</span></p><p class="s77" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;">64     <span class="s36">graphAux ()</span></p><p class="s77" style="padding-top: 1pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">65</p><p class="s77" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">66   <span class="s36">(graph, initialVertex)</span></p><p class="s3" style="padding-top: 11pt;padding-left: 14pt;text-indent: 0pt;text-align: left;"><a name="bookmark31">REFERENCES</a><a name="bookmark55">&zwnj;</a><a name="bookmark56">&zwnj;</a></p><ol id="l16"><li data-list-text="[1]"><p class="s10" style="padding-top: 1pt;padding-left: 32pt;text-indent: -13pt;text-align: left;"><a href="http://uk.bane.dk/db/filarkiv/5636/Updated%20UK%20Brochure%20090317_BDK_Signalprogrammet_UKbrochure_%20www.pdf" class="a" target="_blank" name="bookmark57">Banedanmark. 2009. The Signalling Programme, A total renewal of the Danish signalling infrastructure.  http://uk.bane.dk/ db/filarkiv/5636/Updated%20UK%20Brochure%20090317_ </a>BDK_Signalprogrammet_UKbrochure_%20www.pdf  ISBN: 978-87-90682-04-0.</p></li><li data-list-text="[2]"><p class="s10" style="padding-left: 32pt;text-indent: -13pt;text-align: justify;"><a name="bookmark58">Dietmar Berwanger. 2013. Graph Games with Perfect Informa- tion. (2013). Course notes, Master Parisien de Recherche en Informatique.</a></p></li><li data-list-text="[3]"><p class="s10" style="padding-left: 31pt;text-indent: -13pt;text-align: justify;"><a name="bookmark59">Roderick  Bloem,  Krishnendu  Chatterjee,  Karin  Greimel, Thomas A. Henzinger, Georg Hofferek, Barbara Jobstmann, Bettina Könighofer, and Robert Könighofer. 2014. Synthesiz- ing robust systems.  </a><i>Acta Inf. </i>51, 3-4 (2014), 193–220.  <a href="https://doi.org/10.1007/s00236-013-0191-5" style=" color: black; font-family:&quot;Courier New&quot;, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 7pt;" target="_blank">DOI: </a><a href="https://doi.org/10.1007/s00236-013-0191-5" target="_blank">https://doi.org/10.1007/s00236-013-0191-5</a></p></li><li data-list-text="[4]"><p class="s10" style="padding-left: 31pt;text-indent: -12pt;text-align: justify;"><a name="bookmark60">Roderick Bloem, Barbara Jobstmann, Nir Piterman, Amir Pnueli, and Yaniv Sa’ar. 2012. Synthesis of Reactive(1) designs. </a><i>J. Comput. Syst. Sci. </i>78, 3 (2012), 911–938.</p></li><li data-list-text="[5]"><p class="s10" style="padding-left: 31pt;text-indent: -13pt;text-align: justify;"><a name="bookmark61">F Cassez, A David, E Fleury, KG Larsen, and D Lime. 2005. Efficient on-the-fly algorithms for the analysis of timed games. </a><i>Lecture Notes in Computer Science </i>3653 (2005), 66–80. <a href="https://doi.org/10.1007/11539452_9" style=" color: black; font-family:&quot;Courier New&quot;, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 7pt;" target="_blank">DOI: </a><a href="https://doi.org/10.1007/11539452_9" target="_blank">https://doi.org/10.1007/11539452_9</a></p></li><li data-list-text="[6]"><p style="padding-left: 31pt;text-indent: -13pt;text-align: justify;"><a href="https://msdn.microsoft.com/en-us/library/xfhwa508(v%3Dvs.110).aspx" class="a" target="_blank" name="bookmark62">CDictionary 2016.  Dictionary(TKey, TValue) Class (Sys- tem.Collections.Generic).  (2016).  Retrieved May 28, 2016 from https://msdn.microsoft.com/en-us/library/xfhwa508(v=vs. </a><a href="https://msdn.microsoft.com/en-us/library/xfhwa508(v%3Dvs.110).aspx" target="_blank">110).aspx</a></p></li><li data-list-text="[7]"><p class="s10" style="padding-left: 32pt;text-indent: -13pt;line-height: 8pt;text-align: justify;">CHashSet 2016. HashSet(T) Class (System.Collections.Generic).</p><p style="padding-left: 32pt;text-indent: 0pt;text-align: justify;"><a href="https://msdn.microsoft.com/en-us/library/bb359438(v%3Dvs.110).aspx" class="a" target="_blank" name="bookmark63">(2016). Retrieved May 28, 2016 from https://msdn.microsoft. </a><a href="https://msdn.microsoft.com/en-us/library/bb359438(v%3Dvs.110).aspx" target="_blank">com/en-us/library/bb359438(v=vs.110).aspx</a></p></li><li data-list-text="[8]"><p class="s10" style="padding-left: 32pt;text-indent: -13pt;line-height: 8pt;text-align: justify;">CList 2016. List(T) Class (System.Collections.Generic). (2016).</p><p style="padding-left: 32pt;text-indent: 0pt;text-align: justify;"><a href="https://msdn.microsoft.com/en-us/library/6sh2ey19(v%3Dvs.110).aspx" class="a" target="_blank" name="bookmark64">Retrieved June 3, 2016 from https://msdn.microsoft.com/en-us/ </a><a href="https://msdn.microsoft.com/en-us/library/6sh2ey19(v%3Dvs.110).aspx" target="_blank">library/6sh2ey19(v=vs.110).aspx</a></p></li><li data-list-text="[9]"><p class="s10" style="padding-left: 31pt;text-indent: -12pt;text-align: justify;"><a name="bookmark65">Alexandre David, Huixing Fang, Kim Guldstrand Larsen, and Zhengkui Zhang. 2014. Verification and performance evaluation of timed game strategies. </a><i>Lecture Notes in Computer Science (including Subseries Lecture Notes in Artificial Intelligence and Lecture Notes in Bioinformatics) </i>8711 (2014), 100–114.  <a href="https://doi.org/10.1007/978-3-319-10512-3_8" style=" color: black; font-family:&quot;Courier New&quot;, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 7pt;" target="_blank">DOI: </a><a href="https://doi.org/10.1007/978-3-319-10512-3_8" target="_blank">https://doi.org/10.1007/978-3-319-10512-3_8</a></p></li><li data-list-text="[10]"><p style="padding-left: 31pt;text-indent: -16pt;text-align: justify;"><a href="http://www.ertms.net/" class="a" target="_blank" name="bookmark66">ERTMS 2016. The European Rail Traffic Management System. (2016). Retrieved May 18, 2016 from </a><a href="http://www.ertms.net/" target="_blank">http://www.ertms.net/</a></p></li><li data-list-text="[11]"><p class="s10" style="padding-left: 32pt;text-indent: -17pt;line-height: 8pt;text-align: justify;">FParsec 2016. FParsec Documentation. (2016). Retrieved May</p><p style="padding-left: 32pt;text-indent: 0pt;line-height: 8pt;text-align: justify;"><a href="http://www.quanttec.com/fparsec/" class="a" target="_blank" name="bookmark67">27, 2016 from </a><a href="http://www.quanttec.com/fparsec/" target="_blank">http://www.quanttec.com/fparsec/</a></p></li><li data-list-text="[12]"><p class="s10" style="padding-left: 31pt;text-indent: -17pt;text-align: justify;"><a name="bookmark68">Oliver Friedmann and Martin Lange. 2009. Solving Parity Games in Practice. </a><i>Lecture Notes in Computer Science </i>5799 (2009), 182–196. <a href="https://doi.org/10.1007/978-3-642-04761-9_15" style=" color: black; font-family:&quot;Courier New&quot;, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 7pt;" target="_blank">DOI:</a><a href="https://doi.org/10.1007/978-3-642-04761-9_15" target="_blank">https://doi.org/10.1007/978-3-642-04761-9_15</a></p></li><li data-list-text="[13]"><p class="s10" style="padding-left: 32pt;text-indent: -17pt;line-height: 7pt;text-align: justify;">FSet 2016. Collections.Set&lt;’T&gt; Class (F<span class="s68">#</span>). (2016). Retrieved</p><p style="padding-left: 32pt;text-indent: 0pt;text-align: justify;"><a href="https://msdn.microsoft.com/visualfsharpdocs/conceptual/collections.set%5b%27t%5d-class-%5bfsharp%5d" class="a" target="_blank" name="bookmark69">June 4, 2016 from https://msdn.microsoft.com/visualfsharpdocs/ </a><a href="https://msdn.microsoft.com/visualfsharpdocs/conceptual/collections.set%5b%27t%5d-class-%5bfsharp%5d" target="_blank">conceptual/collections.set%5b%27t%5d-class-%5bfsharp%5d</a></p></li><li data-list-text="[14]"><p class="s10" style="padding-left: 31pt;text-indent: -16pt;text-align: justify;"><a name="bookmark70">Erich Grädel, Wolfgang Thomas, and Thomas Wilke (Eds.). 2002. </a><i>Automata, Logics, and Infinite Games: A Guide to Current Re- search</i>. Lecture Notes in Computer Science, Vol. 2500. Springer.</p></li><li data-list-text="[15]"><p class="s10" style="padding-left: 31pt;text-indent: -16pt;line-height: 90%;text-align: justify;"><a name="bookmark71">Michael R. Hansen and Hans Rischel. 2013. </a><i>Functional Program- ming using F</i><span class="s68">#</span>. Cambridge University Press, Shaftesbury Rd, Cambridge CB2 8RU, UK.</p></li><li data-list-text="[16]"><p class="s10" style="padding-left: 31pt;text-indent: -16pt;text-align: justify;"><a name="bookmark72">Gijs Kant and Jaco Van De Pol. 2014. Generating and solving symbolic parity games. </a><i>Electronic Proceedings in Theoretical Computer Science </i>159 (2014), 2–14. <a href="https://doi.org/10.4204/EPTCS.159.2" style=" color: black; font-family:&quot;Courier New&quot;, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 7pt;" target="_blank">DOI:</a><a href="https://doi.org/10.4204/EPTCS.159.2" class="a" target="_blank">https://doi.org/10.4204/ </a><a href="https://doi.org/10.4204/EPTCS.159.2" target="_blank">EPTCS.159.2</a></p></li><li data-list-text="[17]"><p class="s10" style="padding-left: 31pt;text-indent: -16pt;text-align: justify;"><a name="bookmark73">Patrick Kasting. 2016. </a><i>Synthesis of Railway Signaling Plans using Reachability Games</i>. BSc thesis. Technical University of Denmark.</p></li><li data-list-text="[18]"><p class="s10" style="padding-left: 32pt;text-indent: -17pt;text-align: justify;"><a name="bookmark74">Hadas Kress-Gazit, Georgios E. Fainekos, and George J. Pap- pas. 2009. Temporal-Logic-Based Reactive Mission and Motion Planning. </a><i>IEEE Trans. Robotics </i>25, 6 (2009), 1370–1381. <a href="https://doi.org/10.1109/TRO.2009.2030225" style=" color: black; font-family:&quot;Courier New&quot;, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 7pt;" target="_blank">DOI: </a><a href="https://doi.org/10.1109/TRO.2009.2030225" target="_blank">https://doi.org/10.1109/TRO.2009.2030225</a></p></li><li data-list-text="[19]"><p class="s10" style="padding-left: 31pt;text-indent: -17pt;text-align: justify;"><a name="bookmark75">Christof Löding. 2011. Infinite games and automata theory. In </a><i>Lectures in Game Theory for Computer Scientists</i>. Cambridge University Press, Shaftesbury Rd, Cambridge CB2 8RU, UK, 38–73. <a href="https://doi.org/10.1017/CBO9780511973468.003" style=" color: black; font-family:&quot;Courier New&quot;, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 7pt;" target="_blank">DOI:</a><a href="https://doi.org/10.1017/CBO9780511973468.003" target="_blank">https://doi.org/10.1017/CBO9780511973468.003</a></p></li><li data-list-text="[20]"><p class="s10" style="padding-left: 32pt;text-indent: -17pt;line-height: 7pt;text-align: justify;">OFC 2016. The Open Edition of the F<span class="s68"># </span>compiler, core library</p><p style="padding-left: 32pt;text-indent: 0pt;text-align: justify;"><a href="https://github.com/fsharp/fsharp" class="a" target="_blank" name="bookmark76">and tools. (2016). Retrieved May 31, 2016 from https://github. </a><a href="https://github.com/fsharp/fsharp" target="_blank">com/fsharp/fsharp</a></p></li><li data-list-text="[21]"><p class="s10" style="padding-left: 31pt;text-indent: -17pt;text-align: justify;">Amir Pnueli and Roni Rosner. 1989. On the Synthesis of a Reac- tive Module. In <i>Conference Record of the Sixteenth Annual Acm Symposium on Principles of Programming Languages</i>. Associa- tion for Computing Machinery, 271 Chemin de Saint-Julien, 06140 Biot, France, 179–190. <a href="https://doi.org/10.1145/75277.75293" style=" color: black; font-family:&quot;Courier New&quot;, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 7pt;" target="_blank">DOI:</a><a href="https://doi.org/10.1145/75277.75293" target="_blank">https://doi.org/10.1145/75277.75293</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p></li><li data-list-text="[22]"><p class="s10" style="padding-left: 32pt;text-indent: -17pt;text-align: justify;"><a name="bookmark77">Amir Pnueli and Roni Rosner. 1989. On the Synthesis of an Asyn- chronous Reactive Module. </a><i>Lecture Notes in Computer Science </i>372 (1989), 652–671. <a href="https://doi.org/10.1007/BFb0035790" style=" color: black; font-family:&quot;Courier New&quot;, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 7pt;" target="_blank">DOI:</a><a href="https://doi.org/10.1007/BFb0035790" target="_blank">https://doi.org/10.1007/BFb0035790</a><a name="bookmark78">&zwnj;</a></p></li><li data-list-text="[23]"><p class="s11" style="padding-left: 31pt;text-indent: -17pt;line-height: 90%;text-align: justify;"><a name="bookmark79"><span class="s10">Don Syme, Adam Granicz, and Antonio Cisternino. 2015. </span></a>Expert F<span class="s68"># </span>4.0<span class="s10">. Apress Media, 233 Spring Street, 6th Floor, New York, NY 1001, US.</span></p></li><li data-list-text="[24]"><p class="s10" style="padding-left: 31pt;text-indent: -17pt;text-align: justify;">Linh Hong Vu. 2015. <i>Formal Development and Verification of Railway Control Systems - In the context of ERTMS/ETCS Level 2</i>. Ph.D. Dissertation. Technical University of Denmark.</p></li></ol><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s82" style="padding-top: 6pt;padding-left: 59pt;text-indent: 0pt;text-align: center;"><a name="bookmark80">Uppaal Tiga </a><span class="s83">User-manual</span></p><p style="padding-top: 19pt;padding-left: 59pt;text-indent: 0pt;text-align: center;">Gerd Behrmann<span class="s84">1</span>, Agn`es Cougnard<span class="s84">1</span>, Alexandre David<span class="s84">1</span>, Emmanuel Fleury<span class="s84">2</span>, Kim G. Larsen<span class="s84">1</span>, Didier Lime<span class="s84">3</span></p><p class="s42" style="padding-top: 9pt;padding-left: 128pt;text-indent: 0pt;text-align: left;">1<span class="s8"> CISS, Aalborg University, Aalborg, Denmark</span></p><p class="s85" style="padding-left: 59pt;text-indent: 0pt;text-align: center;">{<span class="s8">behrmann,acougnar,adavid,kgl</span>}<span class="s8">@cs.aau.dk</span></p><p class="s42" style="padding-top: 6pt;padding-left: 59pt;text-indent: 0pt;text-align: center;">2<span class="s8"> LaBRI, Bordeaux-1 University, CNRS (UMR 5800), Talence, France</span></p><p style="padding-left: 59pt;text-indent: 0pt;text-align: center;"><a href="mailto:fleury@labri.fr" class="s19">fleury@labri.fr</a></p><p class="s8" style="padding-top: 3pt;padding-left: 59pt;text-indent: 0pt;text-align: center;"><span class="s42">3</span> IRCCyN, E<span class="s86">´</span>cole Centrale de Nantes, CNRS (UMR 6597), Nantes, France</p><p style="padding-left: 59pt;text-indent: 0pt;text-align: center;"><a href="mailto:Didier.Lime@irccyn.ec-nantes.fr" class="s19">Didier.Lime@irccyn.ec-nantes.fr</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s8" style="padding-left: 79pt;text-indent: 0pt;line-height: 106%;text-align: justify;">Abstract. Uppaal Tiga is a tool to perform automatic synthesis of controllers for timed systems. This document is the user-manual of Up- paal Tiga but should be read jointly with the Uppaal tutorial [BDL04].</p><p style="text-indent: 0pt;text-align: left;"><br/></p><ol id="l17"><li data-list-text="1"><p class="s1" style="padding-top: 7pt;padding-left: 70pt;text-indent: -20pt;text-align: left;">Introduction</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 50pt;text-indent: 0pt;text-align: justify;">Tiga is part of the Uppaal toolbox for verification of real-time systems which provides several verification tools such as: Uppaal<span class="s84">1</span> [BDL04] (Real-time Ver- ification), Cora<span class="s84">2</span> [BLR05] (Real-time Scheduling), TROn<span class="s84">3</span> [LMN05] (Online Real-time Testing), Tiga<span class="s84">4</span> (Timed Games), CoVer<span class="s84">5</span> (Test-case Generation) and Times<span class="s84">6</span> (Schedulability Analysis).</p><p style="padding-left: 50pt;text-indent: 14pt;text-align: justify;">Tiga is implementing a real on-the-fly algorithm to synthesize winning strate- gies [LS98,CDF<span class="s84">+</span>05]. Since our first prototype in 2005 [CDF<span class="s84">+</span>05], Tiga has im- proved of several orders of magnitude and is now ready to deal with industrial case studies. Moreover, all the features of Uppaal are now supported allowing the user to have a rich specification language (integer variables, templates, array of variables, . . . ) to create its models.</p><p style="padding-left: 50pt;text-indent: 14pt;text-align: justify;">Our input models are specified through a network of Timed Game Au- tomata [MPS95] (TGA) where edges are marked either controllable or uncontrol- lable (see Fig.1). This defines a two players game with on one side the <i>controller </i>(mastering the controllable edges) and on the other side the <i>environment </i>(mas- tering the uncontrollable edges). Winning conditions of the game are specified through TCTL formulae. By now, Tiga supports both reachability and safety games. Given a model and winning conditions, Tiga is able to say if ’yes’ or</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 50pt;text-indent: 0pt;line-height: 1pt;text-align: left;"><span><img width="76" height="1" alt="image" src="Docs_files/Image_018.png"/></span></p><p class="s42" style="padding-top: 1pt;padding-left: 53pt;text-indent: 0pt;text-align: left;">1<a href="http://www.uppaal.com/" class="s19" target="_blank"> http://www.uppaal.com</a></p><p class="s42" style="padding-left: 53pt;text-indent: 0pt;text-align: left;">2<a href="http://www.cs.auc.dk/%7Ebehrmann/cora/" class="s19" target="_blank"> http://www.cs.auc.dk/~behrmann/cora/</a></p><p class="s42" style="padding-left: 53pt;text-indent: 0pt;text-align: left;">3<a href="http://www.cs.aau.dk/%7Emarius/tron/" class="s19" target="_blank"> http://www.cs.aau.dk/~marius/tron/</a></p><p class="s42" style="padding-left: 53pt;text-indent: 0pt;text-align: left;">4<a href="http://www.cs.aau.dk/%7Eadavid/tiga/" class="s19" target="_blank"> http://www.cs.aau.dk/~adavid/tiga/</a></p><p class="s42" style="padding-left: 53pt;text-indent: 0pt;text-align: left;">5<a href="http://user.it.uu.se/%7Ehessel/CoVer/" class="s19" target="_blank"> http://user.it.uu.se/~hessel/CoVer/</a></p><p class="s42" style="padding-left: 53pt;text-indent: 0pt;text-align: left;">6<a href="http://www.timestool.com/" class="s19" target="_blank"> http://www.timestool.com/</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="158" height="193" alt="image" src="Docs_files/Image_019.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="30" height="22" alt="image" src="Docs_files/Image_020.png"/></span></p><p class="s8" style="text-indent: 0pt;line-height: 9pt;text-align: left;">x &lt; 1;</p><p class="s8" style="text-indent: 0pt;text-align: left;">x := 0</p><p style="text-indent: 0pt;text-align: left;"/><p class="s88" style="text-indent: 0pt;text-align: left;">L<span class="s89">0 </span><u>&nbsp;x &gt; 1 </u></p><p class="s8" style="padding-top: 9pt;padding-left: 7pt;text-indent: 0pt;text-align: left;">x <span class="s85">≤ </span>1</p><p class="s8" style="padding-top: 4pt;padding-left: 22pt;text-indent: 0pt;line-height: 9pt;text-align: left;">x <span class="s85">≤ </span>1</p><p class="s91" style="text-indent: 0pt;line-height: 9pt;text-align: left;">L<span class="s92">1</span></p><p style="text-indent: 0pt;text-align: left;"/><p class="s91" style="text-indent: 0pt;line-height: 9pt;text-align: left;">L<span class="s92">4</span></p><p style="text-indent: 0pt;text-align: left;"/><p class="s8" style="text-indent: 0pt;line-height: 9pt;text-align: left;">Goal</p><p style="text-indent: 0pt;text-align: left;"/><p class="s8" style="text-indent: 0pt;line-height: 9pt;text-align: left;">x &lt; 1</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s8" style="padding-left: 19pt;text-indent: 0pt;text-align: left;">L<span class="s30">2</span>  x <span class="s85">≤ </span>1</p><p style="text-indent: 0pt;text-align: left;"/><p class="s91" style="text-indent: 0pt;line-height: 9pt;text-align: left;">L<span class="s92">3</span></p><p style="text-indent: 0pt;text-align: left;"/><p style="padding-top: 3pt;padding-left: 50pt;text-indent: 0pt;text-align: left;">’no’ there is a strategy for the controller to win the game and can provide the strategy as an output if asked (option -t0).</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s8" style="padding-top: 6pt;padding-left: 125pt;text-indent: 0pt;text-align: left;">Fig. 1. An example of Timed Game Automaton.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 50pt;text-indent: 14pt;text-align: right;">The graphical user-interface has been augmented to deal with games models. Among other things, the simulator allows the user to play against the strategies synthesized by Tiga in order to give the understanding of what the strategy is. This user-manual is covering the specificities of Tiga compared to the ba-</p><p style="padding-left: 50pt;text-indent: 0pt;text-align: right;">sic Uppaal tool. It is, then, strongly advised to start with the Uppaal tuto- rial [BDL04] to know about the basics of Uppaal before reading this document. We first define our game model (section 2) and how to specify games (sec- tion 3), then we explain what are strategies, how to query for a controller and</p><p style="padding-left: 50pt;text-indent: 0pt;line-height: 12pt;text-align: justify;">how to play with it and how to interpret results (section 4).</p><p style="text-indent: 0pt;text-align: left;"><br/></p></li><li data-list-text="2"><p class="s1" style="padding-top: 6pt;padding-left: 70pt;text-indent: -20pt;text-align: left;">Timed Game Model</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 50pt;text-indent: 0pt;text-align: justify;">Our formalism is based on networks of Timed Game Automata (TGA) as de- scribed in [CDF<span class="s84">+</span>05,MPS95]. Given a network of timed game automata we define two types of games, namely <i>reachability </i>and <i>safety </i>games. This section briefly re- calls the definition of networks of timed game automata, reachability and safety games and the notion of strategy over a game. We suppose here that the reader is already familiar with timed automata as defined in [BDL04].</p><p style="text-indent: 0pt;text-align: left;"><br/></p><ol id="l18"><li data-list-text="2.1"><p style="padding-top: 5pt;padding-left: 76pt;text-indent: -26pt;text-align: left;">Timed Game Automata</p><p class="s93" style="padding-top: 7pt;padding-left: 50pt;text-indent: 0pt;line-height: 89%;text-align: justify;"><span class="p">Let </span>C <span class="p">be a finite set of real-valued variables called clocks. We note </span><span class="s94">B</span><span class="p">(</span>C<span class="p">) the set of rectangular constraints </span>ϕ <span class="p">generated by the grammar: </span>ϕ <span class="p">::= </span>x <span class="s94">∼ </span>k <span class="s94">| </span>ϕ <span class="s94">∧ </span>ϕ <span class="p">where </span>k <span class="s94">∈ </span><span class="p">Z, </span>x <span class="s94">∈ </span>C <span class="p">and </span><span class="s94">∼∈ {</span>&lt;, <span class="s94">≤</span>, <span class="p">=</span>, &gt;, <span class="s94">≥}</span><span class="p">.</span></p><p style="padding-left: 50pt;text-indent: 14pt;text-align: left;">A <i>Timed Game Automaton (TGA) </i>is a timed automaton as defined in [BDL04] such that <span class="s94">A </span>= (<span class="s93">L, l</span><span class="s95">0</span><span class="s93">, C, </span><span class="s96">Act</span><span class="s93">, E, I</span>) with its set of actions <span class="s96">Act </span>= <span class="s96">Act</span><i>c</i><i> </i><span class="s94">∪ </span><span class="s96">Act</span><i>u</i><i> </i>par- titioned into <i>controllable </i>(<span class="s96">Act</span><i>c</i>) and <i>uncontrollable </i>(<span class="s96">Act</span><i>u</i>) actions. <span class="s93">L </span>is the set</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-top: 3pt;padding-left: 50pt;text-indent: 0pt;line-height: 94%;text-align: justify;">of locations, <span class="s93">l</span><span class="s95">0</span> <span class="s94">∈ </span><span class="s93">L </span>the initial location, <span class="s93">E </span><span class="s94">∈ </span><span class="s93">L </span><span class="s94">× </span><span class="s96">Act </span><span class="s94">× B</span>(<span class="s93">C</span>) <span class="s94">× </span>2<i>C</i><i> </i><span class="s94">× </span><span class="s93">L </span>the tran- sitions of the automaton and <span class="s93">I </span>: <span class="s93">L </span><span class="s94">→ B</span>(<span class="s93">C</span>) the location invariants. Fig. 1. gives an example of a timed game automaton.</p><p style="text-indent: 0pt;text-align: left;"><span><img width="7" height="1" alt="image" src="Docs_files/Image_021.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="7" height="1" alt="image" src="Docs_files/Image_022.png"/></span></p><p class="s93" style="padding-left: 50pt;text-indent: 14pt;line-height: 93%;text-align: justify;"><span class="p">The semantics of a timed automaton </span><span class="s94">A </span><span class="p">= (</span>L, l<span class="s95">0</span>, C, <span class="s96">Act</span>, E, I<span class="p">) is defined as a labelled transition system </span><span class="s94">(</span>S, s<span class="s95">0</span>, <span class="s94">→) </span><span class="p">where </span>S <span class="s94">⊆ </span>L <span class="s94">× </span><span class="p">R</span><span class="s98">C</span><span class="s87"> </span><span class="p">is the set of states, </span>s<span class="s95">0</span><span class="p"> = (</span>l<span class="s95">0</span>, <span class="p">0) is the initial state (where 0 is a clock valuation in which every clock value is 0) and </span><span class="s94">→⊆ </span>S <span class="s94">× {</span><span class="p">R</span><span class="s99">≥</span><span class="s95">0</span><span class="p"> </span><span class="s94">∪ </span><span class="s96">Act</span><span class="s94">} × </span>S <span class="p">is the transition relation such that:</span></p><p class="s11" style="text-indent: 0pt;line-height: 7pt;text-align: left;">d</p><p style="text-indent: 0pt;text-align: left;"/><p style="padding-top: 7pt;padding-left: 56pt;text-indent: 0pt;line-height: 12pt;text-align: left;">– (<span class="s93">l, u</span>) <span class="s94">−→ </span>(<span class="s93">l, u </span>+ <span class="s93">d</span>) if <span class="s94">∀</span><span class="s93">d</span><span class="s100">′</span></p><p style="padding-top: 7pt;padding-left: 1pt;text-indent: 0pt;line-height: 12pt;text-align: left;">: 0 <span class="s94">≤ </span><span class="s93">d</span><span class="s100">′</span></p><p class="s93" style="padding-top: 7pt;padding-left: 1pt;text-indent: 0pt;line-height: 12pt;text-align: left;"><span class="s94">≤ </span>d <span class="s94">⇒ </span>u <span class="p">+ </span>d<span class="s100">′</span></p><p style="padding-top: 7pt;padding-left: 1pt;text-indent: 0pt;line-height: 12pt;text-align: left;"><span class="s94">|</span>= <span class="s93">I</span>(<span class="s93">l</span>)</p><p class="s101" style="padding-left: 94pt;text-indent: 0pt;line-height: 4pt;text-align: left;">a   <span class="s46">′  ′            ′              ′</span></p><p style="padding-left: 56pt;text-indent: 0pt;line-height: 9pt;text-align: left;">– (<span class="s93">l, u</span>) <span class="s94">−→ </span>(<span class="s93">l , u </span>) if <span class="s94">∃</span><span class="s93">e </span>= (<span class="s93">l, a, g, r, l </span>) <span class="s94">∈ </span><span class="s93">E </span>s.t. <span class="s93">u </span><span class="s94">|</span>= <span class="s93">g </span>and <span class="s93">u</span></p><p class="s93" style="padding-left: 67pt;text-indent: 0pt;line-height: 13pt;text-align: left;">u<span class="s100">′</span> <span class="s94">|</span><span class="p">= </span>I<span class="p">(</span>l<span class="s100">′</span><span class="p">).</span></p><p style="padding-left: 4pt;text-indent: 0pt;line-height: 10pt;text-align: left;">= [<span class="s93">r </span><span class="s94">→ </span>0]<span class="s93">u </span>and</p><p style="text-indent: 0pt;text-align: left;"><span><img width="20" height="1" alt="image" src="Docs_files/Image_023.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="20" height="1" alt="image" src="Docs_files/Image_024.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="20" height="1" alt="image" src="Docs_files/Image_025.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="20" height="1" alt="image" src="Docs_files/Image_026.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="20" height="1" alt="image" src="Docs_files/Image_027.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="20" height="1" alt="image" src="Docs_files/Image_028.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="20" height="1" alt="image" src="Docs_files/Image_029.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="20" height="1" alt="image" src="Docs_files/Image_030.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Docs_files/Image_031.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Docs_files/Image_032.png"/></span></p><p class="s10" style="text-indent: 0pt;line-height: 7pt;text-align: left;">0</p><p style="text-indent: 0pt;text-align: left;"/><p class="s11" style="text-indent: 0pt;line-height: 7pt;text-align: left;">i</p><p style="text-indent: 0pt;text-align: left;"/><p style="padding-top: 6pt;padding-bottom: 1pt;padding-left: 50pt;text-indent: 14pt;text-align: left;">Timed game automata can be composed into networks over a common set of actions and clocks consisting of <span class="s93">n </span>timed game automata <span class="s94">A</span><i>i</i><i> </i>= (<span class="s93">L</span><i>i</i><span class="s93">, l</span><i>i</i><i> </i><span class="s93">, C, </span><span class="s96">Act</span><span class="s93">, E</span><i>i</i><span class="s93">, I</span><i>i</i>) where the set of actions over the network is given by <span class="s96">Act </span>= <span class="s96">Act </span><span class="s94">×</span><span class="s96">Act </span>and is such that <span class="s96">Act </span>= <span class="s96">Act</span><i>c</i><i> </i><span class="s94">∪ </span><span class="s96">Act</span><i>u</i><i> </i>where <span class="s96">Act</span><i>c</i><i> </i>= <span class="s96">Act</span><i>c</i><i> </i><span class="s94">× {</span><span class="s96">Act</span><i>c</i><i> </i><span class="s94">∪ {</span><span class="s93">τ </span><span class="s94">}} </span>and <span class="s96">Act</span><i>u</i><i> </i>= <span class="s96">Act </span><span class="s94">\ </span><span class="s96">Act</span><i>c</i>. Note that this way of defining <i>controllable </i>and <i>uncontrollable </i>actions on the network gives precedence to the environment over the controller.</p><p style="padding-left: 282pt;text-indent: 0pt;line-height: 1pt;text-align: left;"><span><img width="4" height="0" alt="image" src="Docs_files/Image_033.png"/></span></p><p class="s93" style="padding-left: 50pt;text-indent: 14pt;line-height: 92%;text-align: left;"><span class="p">We also note a location of the system as a vector </span>l <span class="p">= (</span>l<span class="s95">1</span>, . . . , l<span class="s97">n</span><span class="p">). We extend the invariant functions such that </span>I<span class="p">(</span>l<span class="p">) = </span><span class="s94">∧</span><span class="s97">i</span><span class="s99">≤</span><span class="s97">n</span>I<span class="s97">i</span><span class="p">(</span>l<span class="s97">i</span><span class="p">). And we write </span>l<span class="p">[</span>l<span class="s100">′</span>/l<span class="s97">i</span><span class="p">] to denote</span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Docs_files/Image_034.png"/></span></p><p class="s11" style="text-indent: 0pt;line-height: 7pt;text-align: left;">i</p><p style="text-indent: 0pt;text-align: left;"/><p style="padding-left: 50pt;text-indent: 0pt;line-height: 10pt;text-align: justify;">the vector where the <span class="s93">i</span><span class="s84">th</span> element <span class="s93">l</span><i>i</i><i> </i>of <span class="s93">l </span>is replaced by <span class="s93">l</span><span class="s100">′</span>.</p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Docs_files/Image_035.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="7" height="1" alt="image" src="Docs_files/Image_036.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Docs_files/Image_037.png"/></span></p><p class="s10" style="text-indent: 0pt;line-height: 7pt;text-align: left;">0</p><p style="text-indent: 0pt;text-align: left;"/><p class="s93" style="padding-left: 50pt;text-indent: 14pt;line-height: 12pt;text-align: justify;"><span class="p">Semantics of a network of </span>n <span class="p">timed game automata </span><span class="s94">A</span><span class="s97">i</span><span class="s87"> </span><span class="p">= (</span>L<span class="s97">i</span>, l<span class="s98">i</span><span class="s87"> </span>, C, <span class="s96">Act</span>, E<span class="s97">i</span>, I<span class="s97">i</span><span class="p">) is defined as a transition system </span><span class="s94">(</span>S, s<span class="s95">0</span>, <span class="s94">→) </span><span class="p">where </span>S <span class="s94">⊆ </span><span class="p">(</span>L<span class="s95">1</span><span class="p"> </span><span class="s94">× · · · × </span>L<span class="s97">n</span><span class="p">) </span><span class="s94">× </span><span class="p">R</span><span class="s98">C</span><span class="s87"> </span><span class="p">is the set of states</span><span class="s102">, </span><u>s</u><span class="s104">0</span><span class="p"> = (</span>l<span class="s95">0</span>, <span class="p">0) where </span>l<span class="s95">0</span><span class="p"> = (</span>l<span class="s84">1</span>, . . . , l<span class="s98">n</span><span class="p">), is the initial state and</span></p><p class="s10" style="padding-left: 248pt;text-indent: 0pt;line-height: 0pt;text-align: left;">0   0</p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Docs_files/Image_038.png"/></span></p><p class="s94" style="padding-left: 50pt;text-indent: 0pt;line-height: 13pt;text-align: left;">→⊆ <span class="s93">S </span>× {<span class="p">R</span><span class="s99">≥</span><span class="s95">0</span><span class="p"> </span>∪ <span class="s96">Act</span>} × <span class="s93">S </span><span class="p">is the transition relation such that:</span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Docs_files/Image_039.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Docs_files/Image_040.png"/></span></p><p class="s11" style="text-indent: 0pt;line-height: 7pt;text-align: left;">d</p><p style="text-indent: 0pt;text-align: left;"/><p style="padding-top: 7pt;padding-left: 56pt;text-indent: 0pt;text-align: left;">– (<span class="s93">l, u</span>) <span class="s94">−→ </span>(<span class="s93">l, u </span>+ <span class="s93">d</span>) if <span class="s94">∀</span><span class="s93">d</span><span class="s100">′</span></p><p style="padding-top: 7pt;padding-left: 1pt;text-indent: 0pt;text-align: left;">: 0 <span class="s94">≤ </span><span class="s93">d</span><span class="s100">′</span></p><p class="s93" style="padding-top: 7pt;padding-left: 1pt;text-indent: 0pt;text-align: left;"><span class="s94">≤ </span>d <span class="s94">⇒ </span>u <span class="p">+ </span>d<span class="s100">′</span></p><p style="padding-top: 7pt;padding-left: 1pt;text-indent: 0pt;text-align: left;"><span class="s94">|</span>= <span class="s93">I</span>(<span class="s93">l</span>);</p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Docs_files/Image_041.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Docs_files/Image_042.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Docs_files/Image_043.png"/></span></p><p class="s10" style="padding-left: 94pt;text-indent: 0pt;line-height: 6pt;text-align: left;">(<i>a,τ </i>)  <span class="s46">′  </span><span class="s105">′    </span><i>a,g,r  </i><span class="s105">′          ′           ′</span></p><p style="padding-left: 56pt;text-indent: 0pt;line-height: 10pt;text-align: left;">– (<span class="s93">l, u</span>) <span class="s94">−−−→ </span>(<span class="s93">l , u </span>) if <span class="s93">l </span><span class="s94">−−−→ </span><span class="s93">l </span>s.t. <span class="s93">u </span><span class="s94">|</span>= <span class="s93">g </span>and <span class="s93">u </span>= [<span class="s93">r </span><span class="s94">→ </span>0]<span class="s93">u </span>and <span class="s93">u</span></p><p style="padding-left: 3pt;text-indent: 0pt;line-height: 10pt;text-align: left;"><span class="s94">|</span>= <span class="s93">I</span>(<span class="s93">l</span>);</p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Docs_files/Image_044.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Docs_files/Image_045.png"/></span></p><p class="s107" style="padding-left: 92pt;text-indent: 0pt;line-height: 6pt;text-align: left;"><span class="s106">(</span>a<span class="s108">i</span>,a<span class="s108">j </span><span class="s106">)  </span><span class="s46">′  </span><span class="s105">′   ′  ′</span></p><p class="s107" style="padding-left: 24pt;text-indent: 0pt;line-height: 5pt;text-align: left;">a<span class="s108">i</span><span class="s106">!</span>,g<span class="s108">i</span>,r<span class="s108">i </span><span class="s109">′</span></p><p class="s107" style="padding-left: 31pt;text-indent: 0pt;line-height: 6pt;text-align: left;">a<span class="s108">j </span><span class="s106">?</span>,g<span class="s108">j</span>,r<span class="s108">j  </span><span class="s105">′</span></p><p class="s93" style="padding-left: 52pt;text-indent: 0pt;line-height: 11pt;text-align: center;"><span class="p">– (</span>l, u<span class="p">) </span><span class="s94">−−−−→ </span><span class="p">(</span>l <span class="p">[</span>l<span class="s97">i</span>/l<span class="s110">i</span>, l<span class="s97">j</span>/l<span class="s110">j </span><span class="p">]</span>, u <span class="p">) if </span>l<span class="s97">i</span><span class="s87"> </span><span class="s94">−−−−−→ </span>l<span class="s110">i </span><span class="p">and </span>l<span class="s97">j</span><span class="s87"> </span><span class="s94">−−−−−−→ </span>l<span class="s110">j </span><span class="p">s.t. </span>u <span class="s94">|</span><span class="p">= </span>g<span class="s97">i</span><span class="s87"> </span><span class="s94">∧ </span>g<span class="s97">j</span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="8" height="1" alt="image" src="Docs_files/Image_046.png"/></span></p><p class="s93" style="padding-left: 28pt;text-indent: 0pt;line-height: 13pt;text-align: center;"><span class="p">and </span>u<span class="s100">′</span> <span class="p">= [</span>r<span class="s97">i</span><span class="s87"> </span><span class="s94">∪ </span>r<span class="s97">j</span><span class="s87"> </span><span class="s94">→ </span><span class="p">0]</span>u <span class="p">and </span>u<span class="s100">′</span> <span class="s94">|</span><span class="p">= </span>I<span class="p">(</span>l<span class="s111">′</span><span class="p">).</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p></li><li data-list-text="2.2"><p style="padding-left: 76pt;text-indent: -26pt;text-align: left;">The Modelling Language</p><p style="padding-top: 6pt;padding-left: 50pt;text-indent: 0pt;text-align: justify;">Defining a timed game automata is achieved through a superset of the Uppaal modelling language. The only addition to the original language are the possibility to define “<i>uncontrollable</i>” transitions. Either through the graphical user interface (see Fig. 2, on the left) using the edge interface, or through the ta language using the “-u-&gt;” keyword (see Fig. 2, on the right). Note that transitions are assumed to be “<i>controllable</i>” by default and that priorities on transitions are simply ignored when synthesizing strategies.</p><p style="text-indent: 0pt;text-align: left;"><br/></p></li></ol></li><li data-list-text="3"><p class="s1" style="padding-left: 70pt;text-indent: -20pt;text-align: left;">Specifying Games</p><p style="padding-top: 8pt;padding-left: 50pt;text-indent: 0pt;text-align: justify;">A game is given by a network of timed game automata (<span class="s94">A </span>= (<span class="s94">A</span><i>i</i>)<i>i&gt;</i><span class="s95">0</span>) specifying the rules of the game and a formula (<span class="s93">ϕ</span>) specifying winning conditions defining the set of states that should be reached/avoided in order to win/lose the game.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="213" height="227" alt="image" src="Docs_files/Image_047.jpg"/></span></p><p class="s8" style="padding-top: 3pt;padding-left: 226pt;text-indent: 0pt;line-height: 106%;text-align: left;">process Main() { clock x;</p><p class="s8" style="padding-left: 226pt;text-indent: 0pt;line-height: 106%;text-align: left;">state L0 {x&lt;=2}, L1, L2, L3, L4, goal; init L0;</p><p class="s8" style="padding-left: 226pt;text-indent: 0pt;line-height: 10pt;text-align: left;">trans</p><p class="s8" style="padding-left: 235pt;text-indent: 0pt;text-align: left;">L0 -&gt; L1 {guard x&lt;=1;},</p><p class="s8" style="padding-left: 235pt;text-indent: 0pt;line-height: 106%;text-align: left;">L0 -u-&gt; L2 {guard x&lt;1;assign x=0;}, L0 -u-&gt; L4 {guard x&gt;1;},</p><p class="s8" style="padding-left: 235pt;text-indent: 0pt;line-height: 106%;text-align: left;">L1 -&gt; goal {guard x&gt;=2;}, L1 -u-&gt; L2 {guard x&lt;1;}, L2 -&gt; L3 { },</p><p class="s8" style="padding-left: 235pt;text-indent: 0pt;line-height: 10pt;text-align: left;">L3 -&gt; L1 {guard x&lt;=1;};</p><p class="s8" style="padding-left: 226pt;text-indent: 0pt;text-align: left;">}</p><p class="s8" style="padding-left: 226pt;text-indent: 0pt;text-align: left;">system Main;</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s8" style="padding-left: 128pt;text-indent: 0pt;text-align: left;">Fig. 2. Tiga GUI and XTGA syntax examples</p><p style="text-indent: 0pt;text-align: left;"><br/></p><ol id="l19"><li data-list-text="3.1"><p style="padding-left: 76pt;text-indent: -26pt;text-align: left;">Winning Games</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 50pt;text-indent: 0pt;text-align: justify;">Winning a game can only be achieved if the last transition leading to the goal state is controllable. For example, the automaton on Fig. 3.(a) is winning, on the contrary the automaton on the Fig. 3.(b) is losing. Intuitively this is because the opponent can decide to stay in the initial state forever without taking the transition leading to the goal state and let the controller with no other choice but its own.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s207" style="padding-left: 152pt;text-indent: 0pt;text-align: left;">	</p><p style="text-indent: 0pt;text-align: left;"><span><img width="71" height="52" alt="image" src="Docs_files/Image_048.png"/></span></p><p class="s8" style="text-indent: 0pt;line-height: 9pt;text-align: left;">Init</p><p style="text-indent: 0pt;text-align: left;"/><p class="s8" style="text-indent: 0pt;line-height: 9pt;text-align: left;">Win!</p><p style="text-indent: 0pt;text-align: left;"/><p class="s8" style="text-indent: 0pt;line-height: 9pt;text-align: left;">Goal</p><p style="text-indent: 0pt;text-align: left;"/><p style="text-indent: 0pt;text-align: left;"><span><img width="71" height="52" alt="image" src="Docs_files/Image_049.png"/></span></p><p class="s8" style="text-indent: 0pt;line-height: 9pt;text-align: left;">Init</p><p style="text-indent: 0pt;text-align: left;"/><p class="s8" style="text-indent: 0pt;line-height: 9pt;text-align: left;">Lose!</p><p style="text-indent: 0pt;text-align: left;"/><p class="s8" style="text-indent: 0pt;line-height: 9pt;text-align: left;">Goal</p><p style="text-indent: 0pt;text-align: left;"/><ol id="l20"><li data-list-text="(a)"><p class="s8" style="padding-top: 2pt;padding-left: 252pt;text-indent: -85pt;text-align: left;">(b)</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s8" style="padding-top: 3pt;padding-left: 62pt;text-indent: 0pt;text-align: left;">Fig. 3. Basic Examples of Winning (a) and Losing (b) Timed Game Automata.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-top: 6pt;padding-left: 50pt;text-indent: 14pt;text-align: justify;">The use of invariants might force the opponent to act, this can be simulated through an implicit controllable edge added when the upper limit of the invariant is reached. We will call this implicit extra transition a <i>forced transition</i>.</p><p style="padding-left: 50pt;text-indent: 14pt;text-align: justify;">For example, the automaton on Fig. 4.(a) shows the original model, the automaton on Fig. 4.(b) makes the forced transition explicit making it clear why the model is winning<span class="s84">7</span>. Finally, the automaton on Fig. 4.(c) cannot be added a forced transition because there is already a possible controllable behavior when the automaton hit the invariant therefore this model is declared as losing.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 50pt;text-indent: 0pt;line-height: 1pt;text-align: left;"><span><img width="76" height="1" alt="image" src="Docs_files/Image_050.png"/></span></p><p class="s42" style="padding-top: 1pt;padding-left: 53pt;text-indent: 0pt;text-align: left;">7<span class="s8"> Note that forced transitions are always controllable.</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s10" style="padding-top: 5pt;padding-left: 50pt;text-indent: 0pt;text-align: right;">[<i>x</i><span class="s46">≤ </span>5]</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s8" style="padding-left: 13pt;text-indent: 0pt;text-align: left;">(a)</p><p class="s10" style="padding-top: 3pt;padding-left: 58pt;text-indent: 0pt;line-height: 7pt;text-align: left;">[<i>x</i><span class="s46">≤ </span>5] <span class="s34">Init</span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="71" height="53" alt="image" src="Docs_files/Image_051.png"/></span></p><p class="s8" style="text-indent: 0pt;line-height: 9pt;text-align: left;">Init</p><p style="text-indent: 0pt;text-align: left;"/><p class="s8" style="text-indent: 0pt;line-height: 9pt;text-align: left;">Win!</p><p style="text-indent: 0pt;text-align: left;"/><p class="s8" style="text-indent: 0pt;line-height: 9pt;text-align: left;">Goal</p><p style="text-indent: 0pt;text-align: left;"/><p style="text-indent: 0pt;text-align: left;"><span><img width="71" height="53" alt="image" src="Docs_files/Image_052.png"/></span></p><p class="s112" style="padding-left: 32pt;text-indent: 0pt;line-height: 29pt;text-align: left;">⇔ <span class="s113">x </span><span class="s114">== 5</span></p><p class="s8" style="padding-top: 6pt;padding-left: 50pt;text-indent: 0pt;text-align: right;">(b)</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s8" style="padding-left: 6pt;text-indent: 0pt;text-align: left;">Win!</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s8" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Goal</p><p class="s10" style="padding-top: 5pt;padding-left: 13pt;text-indent: 0pt;text-align: left;">[<i>x</i><span class="s46">≤ </span>5]</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="71" height="53" alt="image" src="Docs_files/Image_053.png"/></span></p><p class="s8" style="text-indent: 0pt;line-height: 9pt;text-align: left;">Init</p><p style="text-indent: 0pt;text-align: left;"/><p class="s8" style="text-indent: 0pt;line-height: 9pt;text-align: left;">Lose!</p><p style="text-indent: 0pt;text-align: left;"/><p class="s8" style="text-indent: 0pt;line-height: 9pt;text-align: left;">Goal</p><p style="text-indent: 0pt;text-align: left;"/><p class="s8" style="padding-top: 2pt;padding-left: 13pt;text-indent: 0pt;text-align: left;">(c)</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s8" style="padding-top: 3pt;padding-left: 50pt;text-indent: 0pt;line-height: 106%;text-align: left;">Fig. 4. Basic examples of forced transition: winning model (a), equivalent model with the implicit transition made explicit (b) and a losing model (c).</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 50pt;text-indent: 14pt;text-align: justify;">Finally, when dealing with synchronization and invariants some apparently strange behaviors might occurs. Indeed forced transitions might appear in com- ponents and be synchronized with others. The rule being to locally add forced transitions to each component and then to compose them all together. On Fig. 5.(a) we can see the original model of two synchronized automata, on Fig. 5.(b) the forced transition made explicit and finally on Fig. 5.(c) the full composition of the model (with the explicit forced transition).</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s10" style="padding-top: 3pt;padding-left: 69pt;text-indent: 0pt;text-align: left;">[<i>x</i><span class="s46">≤ </span>5]</p><p style="text-indent: 0pt;text-align: left;"><span><img width="50" height="58" alt="image" src="Docs_files/Image_054.png"/></span></p><p class="s91" style="padding-top: 2pt;padding-left: 69pt;text-indent: 0pt;line-height: 6pt;text-align: left;">Init<span class="s115">a</span></p><p class="s107" style="padding-left: 50pt;text-indent: 0pt;line-height: 28pt;text-align: right;">a <span class="s106">== 0 </span><span class="s112">I</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s8" style="text-indent: 0pt;text-align: left;">Init<i>b</i></p><p style="text-indent: 0pt;text-align: left;"><span><img width="34" height="55" alt="image" src="Docs_files/Image_055.png"/></span></p><p class="s112" style="text-indent: 0pt;line-height: 25pt;text-align: left;">⇔</p><p style="text-indent: 0pt;text-align: left;"/><p class="s11" style="padding-top: 5pt;padding-left: 17pt;text-indent: 0pt;text-align: left;">a <span class="s10">= 1</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s117" style="padding-left: 59pt;text-indent: 0pt;line-height: 8pt;text-align: center;">a <span class="s118">== 0</span></p><p class="s119" style="padding-left: 23pt;text-indent: 0pt;line-height: 7pt;text-align: center;">∧</p><p class="s117" style="padding-left: 59pt;text-indent: 0pt;line-height: 8pt;text-align: center;">x <span class="s118">== 5</span></p><p class="s10" style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">[<i>x</i><span class="s46">≤ </span>5]</p><p style="text-indent: 0pt;text-align: left;"><span><img width="50" height="58" alt="image" src="Docs_files/Image_056.png"/></span></p><p class="s91" style="padding-top: 2pt;padding-left: 5pt;text-indent: 0pt;line-height: 6pt;text-align: left;">Init<span class="s115">a</span></p><p class="s107" style="padding-left: 11pt;text-indent: 0pt;line-height: 28pt;text-align: left;">a <span class="s106">== 0 </span><span class="s112">I</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s8" style="text-indent: 0pt;text-align: left;">Init<i>b</i></p><p style="text-indent: 0pt;text-align: left;"><span><img width="34" height="55" alt="image" src="Docs_files/Image_057.png"/></span></p><p class="s11" style="padding-top: 5pt;padding-left: 17pt;text-indent: 0pt;text-align: left;">a <span class="s10">= 1</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s117" style="padding-top: 4pt;padding-left: 59pt;text-indent: 0pt;line-height: 8pt;text-align: center;">a <span class="s118">== 0</span></p><p class="s112" style="text-indent: 0pt;line-height: 25pt;text-align: left;">⇔</p><p style="text-indent: 0pt;text-align: left;"/><p class="s119" style="padding-left: 24pt;text-indent: 0pt;line-height: 7pt;text-align: center;">∧</p><p class="s117" style="padding-left: 59pt;text-indent: 0pt;line-height: 8pt;text-align: center;">x <span class="s118">== 5</span></p><p class="s10" style="padding-top: 3pt;padding-left: 7pt;text-indent: 0pt;text-align: left;">[<i>x</i><span class="s46">≤ </span>5]</p><p style="text-indent: 0pt;text-align: left;"><span><img width="81" height="58" alt="image" src="Docs_files/Image_058.png"/></span></p><p class="s8" style="padding-top: 2pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Init<i>a,b</i></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s11" style="padding-left: 11pt;text-indent: 0pt;text-align: left;">a <span class="s10">== 0</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s11" style="padding-left: 6pt;text-indent: 0pt;text-align: left;">a <span class="s10">= 1</span></p><p class="s8" style="padding-left: 50pt;text-indent: 0pt;line-height: 10pt;text-align: right;">Goal</p><p class="s8" style="padding-top: 3pt;padding-left: 17pt;text-indent: 0pt;line-height: 10pt;text-align: left;">Win!</p><p class="s8" style="padding-left: 21pt;text-indent: 0pt;line-height: 10pt;text-align: left;">(a)</p><p class="s8" style="padding-left: 50pt;text-indent: 0pt;line-height: 10pt;text-align: right;">Goal</p><p class="s8" style="padding-top: 3pt;padding-left: 17pt;text-indent: 0pt;line-height: 10pt;text-align: left;">Win!</p><p class="s8" style="padding-left: 21pt;text-indent: 0pt;line-height: 10pt;text-align: left;">(b)</p><p class="s8" style="padding-left: 50pt;text-indent: 0pt;line-height: 10pt;text-align: right;">Goal</p><p class="s8" style="padding-top: 3pt;padding-left: 50pt;text-indent: 0pt;line-height: 10pt;text-align: right;">Win!</p><p class="s8" style="padding-left: 50pt;text-indent: 0pt;line-height: 10pt;text-align: right;">(c)</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s8" style="padding-top: 3pt;padding-left: 50pt;text-indent: 0pt;line-height: 106%;text-align: justify;">Fig. 5. Example of synchronisation with forced transitions: original model (a), forced transition made explicit (b), complete product with forced transition made explicit.</p><p style="text-indent: 0pt;text-align: left;"><br/></p></li></ol></li><li data-list-text="3.2"><p style="padding-left: 76pt;text-indent: -26pt;text-align: left;">Winning/Losing Conditions</p><p style="padding-top: 8pt;padding-left: 50pt;text-indent: 0pt;text-align: justify;">Specifying the game still requires to define what are the <i>winning conditions</i>. This is done through a slightly modified version of the Uppaal query language. Given a timed game automaton <span class="s94">A</span>, a set of goal states (win) and/or a set of bad states (lose), both defined by classical Uppaal state formulae, four types of winning conditions can be issued. For all of them, the game is to find a controllable strategy <span class="s93">f </span>such that <span class="s94">A </span>supervised by <span class="s93">f </span>ensures that the controller:</p><p style="text-indent: 0pt;text-align: left;"><span><img width="144" height="23" alt="image" src="Docs_files/Image_059.png"/></span></p><p class="s120" style="padding-left: 3pt;text-indent: 0pt;line-height: 14pt;text-align: left;">control: A&lt;&gt; win</p><p style="text-indent: 0pt;text-align: left;"/><ul id="l21"><li data-list-text="–"><p style="padding-top: 8pt;padding-left: 67pt;text-indent: -10pt;text-align: left;">Pure Reachability: “must reach win”</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="251" height="25" alt="image" src="Docs_files/Image_060.png"/></span></p><p class="s120" style="padding-left: 1pt;text-indent: 0pt;line-height: 6pt;text-align: left;">control: A[ not(lose) U win ]</p><p style="text-indent: 0pt;text-align: left;"/></li><li data-list-text="–"><p style="padding-top: 3pt;padding-left: 67pt;text-indent: -10pt;text-align: left;">Strict Reachability with Avoidance (Until): “must reach win and must avoid lose”</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="251" height="25" alt="image" src="Docs_files/Image_061.png"/></span></p><p class="s120" style="padding-left: 3pt;text-indent: 0pt;text-align: left;">control: A[ not(lose) W win ]</p><p style="text-indent: 0pt;text-align: left;"/></li><li data-list-text="–"><p style="padding-top: 3pt;padding-bottom: 4pt;padding-left: 67pt;text-indent: -10pt;text-align: left;">Weak Reachability with Avoidance (WeakUntil): “should reach win and must avoid lose”</p><p style="text-indent: 0pt;text-align: left;"><span><img width="193" height="25" alt="image" src="Docs_files/Image_062.png"/></span></p><p class="s120" style="padding-left: 3pt;text-indent: 0pt;text-align: left;">control: A[] not(lose)</p><p style="text-indent: 0pt;text-align: left;"/></li><li data-list-text="–"><p style="padding-top: 5pt;padding-bottom: 4pt;padding-left: 67pt;text-indent: -10pt;text-align: left;">Pure Safety: “must avoid lose”</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s87" style="padding-top: 5pt;padding-left: 50pt;text-indent: 0pt;text-align: justify;">Note <span class="p">: Formulae not prefixed by “control:” are solved as in usual Uppaal. Also, the operators A[p U q] and A[p W q] are Tiga specific and are not supported by Uppaal.</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s87" style="padding-left: 50pt;text-indent: 0pt;text-align: left;">Examples:</p></li><li data-list-text="–"><p style="padding-top: 7pt;padding-left: 67pt;text-indent: -10pt;text-align: left;">control: A&lt;&gt; Main.goal</p></li><li data-list-text="–"><p style="padding-left: 67pt;text-indent: -10pt;text-align: left;">control: A[] not Main.L4</p></li><li data-list-text="–"><p style="padding-left: 67pt;text-indent: -10pt;text-align: left;">control: A[ not Main.L4 W Main.goal ]</p></li><li data-list-text="–"><p style="padding-left: 67pt;text-indent: -10pt;text-align: left;">control: A[ Main.x&lt;2 U Main.goal ]</p></li><li data-list-text="–"><p style="padding-left: 67pt;text-indent: -10pt;text-align: left;">control: A[ not(Main.goal and Main.x&gt;2) U (Main.goal) ]</p></li></ul><p style="text-indent: 0pt;text-align: left;"><br/></p></li><li data-list-text="3.3"><p style="padding-left: 76pt;text-indent: -26pt;text-align: left;">Partially Cooperative Games</p><p style="text-indent: 0pt;text-align: left;"><span><img width="304" height="114" alt="image" src="Docs_files/Image_063.png"/></span></p><p class="s120" style="text-indent: 0pt;line-height: 12pt;text-align: left;">E&lt;&gt;</p><p style="text-indent: 0pt;text-align: left;"/><p class="s8" style="text-indent: 0pt;line-height: 9pt;text-align: left;">Init</p><p style="text-indent: 0pt;text-align: left;"/><p class="s120" style="text-indent: 0pt;line-height: 13pt;text-align: left;">control:<span class="s121">ϕ</span></p><p style="text-indent: 0pt;text-align: left;"/><p style="padding-top: 7pt;padding-left: 50pt;text-indent: 0pt;text-align: justify;">Partially cooperative games are defined by the fact that there are no winning strategy but reaching a maximal partition with winning strategy can be done with some help from your opponent. Once inside the maximal partition, you can enforce some condition whatever decide the oponnent. On Fig. 6, the maximal partition is the gray part and in order to reach it the controller has to rely on the environment to do some moves in his favor.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s8" style="padding-top: 3pt;padding-left: 140pt;text-indent: 0pt;text-align: left;">Fig. 6. Representation of E&lt;&gt;control:ϕ.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 65pt;text-indent: 0pt;text-align: left;">The syntax of this formula is given by:</p><p style="padding-top: 7pt;padding-left: 56pt;text-indent: 0pt;text-align: left;">– Partial Cooperation:</p><p style="text-indent: 0pt;text-align: left;"><span><img width="130" height="26" alt="image" src="Docs_files/Image_064.png"/></span></p><p class="s120" style="padding-left: 3pt;text-indent: 0pt;line-height: 14pt;text-align: left;">E&lt;&gt; control: <span class="s121">ϕ</span></p><p style="text-indent: 0pt;text-align: left;"/><p style="padding-left: 67pt;text-indent: 0pt;text-align: left;">“must satisfy <span class="s93">ϕ </span>with the least help from the environment”</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><br/></p></li></ol></li><li data-list-text="4"><p class="s1" style="padding-top: 3pt;padding-left: 70pt;text-indent: -20pt;text-align: left;">Strategy Synthesis</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s46" style="text-indent: 0pt;line-height: 7pt;text-align: left;">≥<span class="s10">0</span></p><p style="text-indent: 0pt;text-align: left;"/><p style="padding-top: 4pt;padding-left: 50pt;text-indent: 0pt;text-align: left;">A <i>(controllable) strategy </i>is a function <span class="s93">f </span>: <span class="s93">L </span><span class="s94">× </span>R<i>C</i><i> </i><span class="s94">→ </span><span class="s96">Act</span><i>c</i><i> </i><span class="s94">∪ {</span><span class="s93">λ</span><span class="s94">} </span>that constantly</p><p style="padding-left: 50pt;text-indent: 0pt;text-align: justify;">gives information as to what the controller should do during the course of the game. In a given situation, the strategy could suggest the controller to either “do a particular controllable action” or “do nothing at this point in time (<span class="s93">λ</span>)”. A strategy is said to be a <i>winning strategy </i>if the controller supervised by the strategy always win the game whatever actions are chosen by the environment.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><ol id="l22"><li data-list-text="4.1"><p style="padding-top: 7pt;padding-left: 76pt;text-indent: -26pt;text-align: left;">Existence of a Strategy</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 50pt;text-indent: 0pt;text-align: justify;">By default, Tiga first check whether there is or not a winning strategy for the timed game given a winning condition. On the example given Fig. 7, a winning strategy can be extracted for all the specified winning conditions except for the fifth one. Note that it is always better to start asking for existence because the process of strategy extraction is quite demanding and it would be useless to run such computation when the strategy can not be found.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="260" height="278" alt="image" src="Docs_files/Image_065.jpg"/></span></p><p class="s10" style="padding-left: 50pt;text-indent: 0pt;text-align: left;">#shell&gt; verifytga concur05-1.{xml,q} Options for the verification:</p><p class="s10" style="padding-left: 58pt;text-indent: 0pt;line-height: 8pt;text-align: left;">Generating no trace</p><p class="s10" style="padding-left: 58pt;text-indent: 0pt;line-height: 8pt;text-align: left;">Search order is breadth first</p><p class="s10" style="padding-left: 58pt;text-indent: 0pt;text-align: left;">Using conservative space optimisation Seed is 1156870160</p><p class="s10" style="padding-left: 58pt;text-indent: 0pt;line-height: 8pt;text-align: left;">State space representation</p><p class="s10" style="padding-left: 65pt;text-indent: 0pt;line-height: 8pt;text-align: left;">uses minimal constraint systems</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s10" style="padding-left: 50pt;text-indent: 0pt;line-height: 8pt;text-align: left;">Verifying property 1 at line 5</p><p class="s10" style="padding-left: 54pt;text-indent: 0pt;line-height: 8pt;text-align: left;">-- Property is satisfied.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s10" style="padding-left: 50pt;text-indent: 0pt;line-height: 8pt;text-align: left;">Verifying property 2 at line 11</p><p class="s10" style="padding-left: 54pt;text-indent: 0pt;line-height: 8pt;text-align: left;">-- Property is satisfied.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s10" style="padding-left: 50pt;text-indent: 0pt;line-height: 8pt;text-align: left;">Verifying property 3 at line 17</p><p class="s10" style="padding-left: 54pt;text-indent: 0pt;line-height: 8pt;text-align: left;">-- Property is satisfied.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s10" style="padding-left: 50pt;text-indent: 0pt;line-height: 8pt;text-align: left;">Verifying property 4 at line 23</p><p class="s10" style="padding-left: 54pt;text-indent: 0pt;line-height: 8pt;text-align: left;">-- Property is satisfied.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s10" style="padding-left: 50pt;text-indent: 0pt;line-height: 8pt;text-align: left;">Verifying property 5 at line 29</p><p class="s10" style="padding-left: 54pt;text-indent: 0pt;line-height: 8pt;text-align: left;">-- Property is NOT satisfied.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s10" style="padding-left: 50pt;text-indent: 0pt;line-height: 8pt;text-align: left;">Verifying property 6 at line 35</p><p class="s10" style="padding-left: 54pt;text-indent: 0pt;line-height: 8pt;text-align: left;">-- Property is satisfied.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s8" style="padding-left: 121pt;text-indent: 0pt;text-align: left;">Fig. 7. TGA synthesis example and the Tiga GUI</p><p style="text-indent: 0pt;text-align: left;"><br/></p></li><li data-list-text="4.2"><p style="padding-left: 76pt;text-indent: -26pt;text-align: left;">Strategy Extraction (Option -t0)</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 50pt;text-indent: 0pt;text-align: justify;">The command line tool verifytga in the Tiga package can output a strategy for each given winning condition when used with the “-t0” option. If no such</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-top: 4pt;padding-left: 50pt;text-indent: 0pt;text-align: justify;">strategy exists, the dual strategy can then be computed by Tiga <span class="s84">8</span>. The extrac- tion of a strategy can be triggered through a set of options specific to the Tiga engine:</p><p style="padding-top: 6pt;padding-left: 59pt;text-indent: 0pt;text-align: center;">-t &lt;0|1|2&gt;</p><p style="padding-left: 9pt;text-indent: 0pt;text-align: center;">Generate diagnostic information on stderr.</p><p style="padding-left: 9pt;text-indent: 0pt;text-align: center;">0: Some trace and output some strategy</p><p style="padding-left: 48pt;text-indent: 0pt;text-align: center;">-c &lt;0|1&gt;</p><p style="padding-left: 4pt;text-indent: 0pt;text-align: center;">Print compact strategy</p><p style="padding-left: 87pt;text-indent: 0pt;text-align: left;">0: Print one strategy for each discrete state 1: Dump BCDD strategy for each transition</p><p style="padding-top: 6pt;padding-left: 50pt;text-indent: 14pt;text-align: left;">An example of such output is given for the concur05-1.xml example on Fig. 8 with the options “-t0 -c0”.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s8" style="padding-top: 7pt;padding-left: 50pt;text-indent: 0pt;text-align: left;">State: ( Main.L0 )</p><p class="s8" style="padding-left: 50pt;text-indent: 0pt;line-height: 106%;text-align: left;">While you are in (Main.x&lt;1), wait. When you are in (Main.x==1),</p><p class="s8" style="padding-left: 60pt;text-indent: 0pt;line-height: 10pt;text-align: left;">take transition Main.L0-&gt;Main.L1 { x &lt;= 1, tau, 1 }</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s8" style="padding-left: 50pt;text-indent: 0pt;text-align: left;">State: ( Main.L1 )</p><p class="s8" style="padding-left: 50pt;text-indent: 0pt;line-height: 106%;text-align: left;">While you are in (1&lt;=Main.x &amp;&amp; Main.x&lt;2) || (Main.x&lt;1), wait. When you are in (2&lt;=Main.x),</p><p class="s8" style="padding-left: 60pt;text-indent: 0pt;line-height: 10pt;text-align: left;">take transition Main.L1-&gt;Main.goal { x &gt;= 2, tau, 1 }</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s8" style="padding-left: 50pt;text-indent: 0pt;text-align: left;">State: ( Main.L2 )</p><p class="s8" style="padding-left: 50pt;text-indent: 0pt;text-align: left;">When you are in (Main.x&lt;=1),</p><p class="s8" style="padding-left: 60pt;text-indent: 0pt;text-align: left;">take transition Main.L2-&gt;Main.L3 { 1, tau, 1 }</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s8" style="padding-left: 50pt;text-indent: 0pt;text-align: left;">State: ( Main.L3 )</p><p class="s8" style="padding-left: 50pt;text-indent: 0pt;text-align: left;">When you are in (Main.x==1),</p><p class="s8" style="padding-left: 50pt;text-indent: 9pt;line-height: 106%;text-align: left;">take transition Main.L3-&gt;Main.L1 { x &lt;= 1, tau, 1 } While you are in (Main.x&lt;1), wait.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s8" style="padding-left: 58pt;text-indent: 0pt;text-align: left;">Fig. 8. Strategy Synthesized for concur05-1.xml for “control: A&lt;&gt; Main.goal”.</p><p style="text-indent: 0pt;text-align: left;"><br/></p></li><li data-list-text="4.3"><p style="padding-left: 76pt;text-indent: -26pt;text-align: left;">Time Optimal Strategies</p><p style="padding-top: 7pt;padding-left: 50pt;text-indent: 0pt;text-align: justify;">One may want not ’any strategy’ but the most time efficient Tiga can find.</p><p style="padding-top: 8pt;padding-left: 56pt;text-indent: 0pt;text-align: left;">– Time Optimality:</p><p style="text-indent: 0pt;text-align: left;"><span><img width="269" height="25" alt="image" src="Docs_files/Image_066.png"/></span></p><p style="padding-left: 1pt;text-indent: 0pt;line-height: 8pt;text-align: left;">control t*(u,g): A[ not(lose) U win ]</p><p style="text-indent: 0pt;text-align: left;"/><p style="padding-left: 59pt;text-indent: 0pt;text-align: center;">“must reach win within less than u-g time units and must avoid lose”</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 50pt;text-indent: 0pt;line-height: 1pt;text-align: left;"><span><img width="76" height="1" alt="image" src="Docs_files/Image_067.png"/></span></p><p class="s42" style="padding-top: 1pt;padding-left: 53pt;text-indent: 0pt;text-align: left;">8<span class="s8"> We plan to add an option “-d” (dual) to compute automatically the dual strategy.</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Docs_files/Image_068.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="342" height="126" alt="image" src="Docs_files/Image_069.png"/></span></p><p class="s122" style="padding-top: 1pt;text-indent: 0pt;line-height: 13pt;text-align: left;">Init</p><p style="text-indent: 0pt;text-align: left;"/><p class="s123" style="text-indent: 0pt;line-height: 7pt;text-align: left;">Win</p><p style="text-indent: 0pt;text-align: left;"/><p class="s121" style="text-indent: 0pt;line-height: 11pt;text-align: left;">u</p><p style="text-indent: 0pt;text-align: left;"/><p class="s124" style="text-indent: 0pt;line-height: 13pt;text-align: left;"> &nbsp; <i>g  </i></p><p style="text-indent: 0pt;text-align: left;"/><p class="s118" style="text-indent: 0pt;line-height: 7pt;text-align: left;">Win</p><p style="text-indent: 0pt;text-align: left;"/><p class="s118" style="text-indent: 0pt;line-height: 7pt;text-align: left;">Win</p><p style="text-indent: 0pt;text-align: left;"/><p class="s93" style="padding-top: 3pt;padding-left: 50pt;text-indent: 14pt;text-align: justify;"><span class="p">Fig. 9 shows an example of use of control t*(u,g), where only the winning paths that can reach the winning location within </span>u<span class="s94">−</span>g <span class="p">are accepted thus allowing to forge a winning strategy based on this new winning conditions. Please note that the strategy that you play in the simulator has all its states constrained by </span>u <span class="s94">− </span>g<span class="p">.</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Docs_files/Image_070.png"/></span></p><p class="s8" style="padding-left: 107pt;text-indent: 0pt;text-align: left;">Fig. 9. Using the control t*(u,g):A[p U q] expression.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s93" style="padding-left: 50pt;text-indent: 14pt;text-align: justify;"><span class="p">Provided that Tiga stop on some winning-strategy for our property, we can give an always terminating approximation algorithm to refine the first winning strategy. Indeed, start with </span>u <span class="p">being the minimum time needed to reach the winning state on the strategy outputted by Tiga and with </span>g <span class="p">= 0. Then, increase </span>g <span class="p">until you reach a </span>g<span class="s100">′</span> <span class="p">such that </span>g<span class="s100">′</span> <span class="p">gives a winning strategy and </span>g<span class="s100">′</span> <span class="p">+ 1 does not or do not terminate. This will provide you with the best strategy Tiga can give you (if not the optimal one).</span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Docs_files/Image_071.png"/></span></p><p style="padding-top: 1pt;padding-left: 50pt;text-indent: 14pt;text-align: justify;">Moreover, the <span class="s93">u </span>and <span class="s93">g </span>expression can be made more complex than constants. Indeed, it accepts the full C-like Uppaal syntax with the limitations that <span class="s93">u </span>is evaluated once at the beginning so it should not depend on the current state or contain clock constraints, and <span class="s93">g </span>is evaluated on the current state but must be side-effect free, which is no clock constraints here as well. An adequate usage of the function time2goal() (quantifying the time left before reaching any goal state) can help a lot when searching for an optimal strategy. The formula would be: control t*(u,time2goal()). Where u being the result of a non constrained search for strategy performed before. The time2goal() part will help here to prune a lot of non-optimal behavior and will help to reach time optimality.</p><p style="text-indent: 0pt;text-align: left;"><br/></p></li><li data-list-text="4.4"><p style="padding-left: 76pt;text-indent: -26pt;text-align: left;">Concrete Game Simulator</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 50pt;text-indent: 0pt;text-align: justify;">A new feature since Uppaal Tiga 0.11 is the concrete simulator. Up to 0.10, the simulator was a symbolic one, you can now simulate your system based on concrete trace that you choose or that you can randomely fire throught the ”Random” button.</p><p style="padding-left: 50pt;text-indent: 14pt;text-align: justify;">Concrete simulator help you to select a transition to fire and then <i>at what time </i>it will be fired. The ”<i>transition selection</i>” area is a clickable area where vertical axis displays the active transtion at this location and horizontal axis displays the time at which the transition will be fired. By clicking in a valid zone</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 80pt;text-indent: 0pt;text-align: left;"><span><img width="376" height="290" alt="image" src="Docs_files/Image_072.jpg"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s8" style="padding-left: 50pt;text-indent: 0pt;line-height: 106%;text-align: justify;">Fig. 10. Tiga concrete simulator with highlights on Transition selection, Time selec- tion, Run History and Heat bar.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 50pt;text-indent: 0pt;text-align: justify;">within this area make you select a precise transition and time for this transition. The time selected is displayed in the ”<i>Time Selection</i>” area.</p><p style="padding-top: 1pt;padding-left: 50pt;text-indent: 14pt;text-align: justify;">Two new graphical elements are also appearing in the new concrete simulator. One is the ”<i>Run History</i>” area which allow a quick navigation in the history of the run that you explore. The gray part of an history item visualize the time elapsed within this state. Finally, the other element is the ”<i>Heat Bar </i>” allowing to visualize the activity (rate of actions taken over the time). More blue it is, colder you are by waiting a lot in states. More red it is, hotter you are by performing a lot of actions in short time.</p><p style="padding-top: 1pt;padding-left: 50pt;text-indent: 14pt;text-align: justify;">The concrete simulator is extremely useful at debug time to understand why a winning condition cannot be met. Playing against the dual strategy allow to test intuitive strategies or to discover tactics used by the environment to defeat the controller.</p><p style="text-indent: 0pt;text-align: left;"><br/></p></li></ol></li><li data-list-text="5"><p class="s1" style="padding-left: 70pt;text-indent: -20pt;text-align: left;">Conclusion &amp; Further Works</p></li></ol></li></ol><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 50pt;text-indent: 0pt;text-align: justify;">Tiga is already fully functional and provide a full support of all the Uppaal features plus an extended query language to specify winning conditions. Tiga is able to detect strategy existence and to synthesize it at will. An interactive simu- lator also allow the user to try out the strategy of the controller or the strategy of</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-top: 3pt;padding-left: 50pt;text-indent: 0pt;text-align: justify;">the opponent. Moreover, several industrial case studies [DJLR07,CDL07,LC04] have been conducted with success.</p><p style="padding-left: 50pt;text-indent: 14pt;text-align: justify;">In [DJLR07], the synthesis capability of the tool has been combined with Simulink and Real-Time Workshop to provide a complete tool chain for synthesis, simulation, and automatic generation of production code. This work has been performed in collaboration with the company Skov A/S specializing in climate control systems used for modern pig and poultry stables.</p><p style="padding-left: 50pt;text-indent: 14pt;text-align: right;">Tiga has also been use to check for simulation between timed automata and timed game automata [CDL07]. Given two timed automata, the tool can check if one simulates the other and similarly for timed game automata with applications for controller synthesis with partial observability. This technique has been applied to the compositional verification of the ZeroConf protocol [GVZ06]. Our tool is being used in the AMAES project<span class="s84">9</span>, a French national project on ’<i>Advanced Methods for Autonomous Embedded Systems</i>’. Tiga has been applied for controlling the autonomous robot Dala [LC04] in charge of taking pictures and transmitting them back to Earth during limited transmission windows. It is</p><p style="padding-left: 50pt;text-indent: 0pt;line-height: 11pt;text-align: justify;">desirable in such control problems to optimize the moves to save power.</p><p style="padding-top: 1pt;padding-left: 50pt;text-indent: 14pt;text-align: justify;">In the near future we plan to improve efficiency of the state-space exploration again and to look at partial observability and focus on more and more real-life problems.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s1" style="padding-left: 50pt;text-indent: 0pt;text-align: left;">References</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s8" style="padding-left: 93pt;text-indent: -42pt;line-height: 106%;text-align: justify;">[BDL04]  G. Behrmann, A. David, and K. G. Larsen. A Tutorial on Uppaal. In <i>Proc. of 4th Int. School on Formal Methods for the Design of Computer, Communication, &amp; Software Systems (SFM-RT04)</i>, number 3185 in LNCS, pages 200–236. Springer, 2004.</p><p class="s7" style="padding-left: 93pt;text-indent: -42pt;line-height: 106%;text-align: justify;"><span class="s8">[BLR05]  G. Behrmann, K. G. Larsen, and J. I. Rasmussen. Priced Timed Automata: Decidability Results, Algorithms and Applications. In </span>Proc. of 3<span class="s126">rd</span> Inter- national Symposium Formal Methods for Components and Objects (FMCO 2004)<span class="s8">, volume 3657 of </span>LNCS<span class="s8">, pages 162–182, Leiden, The Netherlands, November 2005. Springer.</span></p><p class="s8" style="padding-left: 93pt;text-indent: -42pt;line-height: 106%;text-align: justify;">[CDF<span class="s42">+</span>05] F. Cassez, A. David, E. Fleury, K. G. Larsen, and D. Lime. Efficient On- the-fly Algorithms for the Analysis of Timed Games. In <i>Proc. of 16</i><i>th</i><i> Int. Conf. on Concurrency Theory (CONCUR’05)</i>, volume 3653 of <i>LNCS</i>, pages 66–80. Springer, 2005.</p><p class="s8" style="padding-left: 50pt;text-indent: 0pt;text-align: justify;">[CDL07] T. Chatain, A. David, and K. G. Larsen. Playing Games with Games. In</p><p class="s7" style="padding-left: 93pt;text-indent: 0pt;text-align: justify;">Submitted to CAV’07<span class="s8">, 2007.</span></p><p class="s8" style="padding-top: 1pt;padding-left: 93pt;text-indent: -42pt;line-height: 106%;text-align: justify;">[DJLR07] A. David, J. J. Jessen, K. G. Larsen, and J. I. Rasmussen. Guided Con- troller Synthesis for Climate Controller Using uppaal-tiga. In <i>Submitted to CAV’07</i>, 2007.</p><p class="s8" style="padding-left: 93pt;text-indent: -42pt;line-height: 106%;text-align: justify;">[GVZ06] B. Gebremichael, F. W. Vaandrager, and M. Zhang. Analysis of the zeroconf protocol using uppaal. In <i>Proceedings 6th Annual ACM &amp; IEEE Conference on Embedded Software (EMSOFT 2006)</i>, pages 242–251, 2006.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 50pt;text-indent: 0pt;line-height: 1pt;text-align: left;"><span><img width="76" height="1" alt="image" src="Docs_files/Image_073.png"/></span></p><p class="s8" style="padding-left: 53pt;text-indent: 0pt;text-align: left;"><span class="s42">9</span><a href="http://www-verimag.imag.fr/" class="s19" target="_blank"> </a>http://www-verimag.imag.fr/<span class="s85">∼</span>krichen/AMAES/</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s8" style="padding-top: 3pt;padding-left: 93pt;text-indent: -42pt;line-height: 106%;text-align: justify;">[LC04]  S. Lemai-Chenevier.  <i>IxTeT-eXeC: Planification, r´eparation de plan et contrˆole d’ex´ecution avec gestion du temps et des ressources</i>. PhD thesis, Institut National Polytechnique de Toulouse, 2004.</p><p class="s8" style="padding-left: 93pt;text-indent: -42pt;line-height: 106%;text-align: justify;">[LMN05] K. G. Larsen, M. Mikucionis, and B. Nielsen.  Online Testing of Real- Time Systems Using UPPAAL: Status and Future Work.  In <i>In Proc. of Perspectives of Model-Based Testing</i>, number 04371 in Dagstuhl Semi- nar Proceedings, Dagstuhl, Germany, 2005. Internationales Begegnungs und Forschungszentrum fu¨r Informatik (IBFI).</p><p class="s7" style="padding-left: 93pt;text-indent: -42pt;line-height: 106%;text-align: justify;"><span class="s8">[LS98]  X. Liu and S. Smolka. Simple Linear-Time Algorithm for Minimal Fixed Points. In </span>Proc. 26<span class="s126">th</span> Conf. on Automata, Languages and Programming (ICALP’98)<span class="s8">, volume 1443 of </span>LNCS<span class="s8">, pages 53–66. Springer, 1998.</span></p><p class="s7" style="padding-left: 93pt;text-indent: -42pt;line-height: 106%;text-align: justify;"><span class="s8">[MPS95] O. Maler, A. Pnueli, and J. Sifakis. On the Synthesis of Discrete Controllers for Timed Systems. In </span>Proc. 12<span class="s126">th</span> Symp. on Theoretical Aspects of Computer Science (STACS’95)<span class="s8">, volume 900, pages 229–242. Springer, 1995.</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s122" style="padding-top: 5pt;padding-left: 59pt;text-indent: 0pt;text-align: center;"><a name="bookmark81">A Tutorial on Uppaal 4.0</a></p><p class="s8" style="padding-top: 4pt;padding-left: 59pt;text-indent: 0pt;text-align: center;">Updated November 28, 2006</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 59pt;text-indent: 0pt;text-align: center;">Gerd Behrmann, Alexandre David, and Kim G. Larsen</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s8" style="padding-left: 47pt;text-indent: 0pt;text-align: center;">Department of Computer Science, Aalborg University, Denmark</p><p class="s85" style="padding-left: 46pt;text-indent: 0pt;text-align: center;">{<span class="s8">behrmann,adavid,kgl</span>}<span class="s8">@cs.auc.dk.</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s8" style="padding-top: 7pt;padding-left: 79pt;text-indent: 0pt;line-height: 106%;text-align: justify;">Abstract. This is a tutorial paper on the tool Uppaal. Its goal is to be a short introduction on the flavour of timed automata implemented in the tool, to present its interface, and to explain how to use the tool. The contribution of the paper is to provide reference examples and modelling patterns.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><ol id="l23"><li data-list-text="1"><p class="s1" style="padding-left: 70pt;text-indent: -20pt;text-align: left;">Introduction</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 50pt;text-indent: 0pt;text-align: justify;">Uppaal is a toolbox for verification of real-time systems jointly developed by Uppsala University and Aalborg University. It has been applied successfully in case studies ranging from communication protocols to multimedia applications [35,55,24,23,34,43,54,44,30]. The tool is designed to verify systems that can be modelled as networks of timed automata extended with integer variables, struc- tured data types, user defined functions, and channel synchronisation.</p><p style="padding-left: 50pt;text-indent: 15pt;text-align: justify;"><a href="http://www.uppaal.com/" class="s2" target="_blank">The first version of Uppaal was released in 1995 [52]. Since then it has been in constant development [21,5,13,10,26,27]. Experiments and improvements in- clude data structures [53], partial order reduction [20], a distributed version of Uppaal [17,9], guided and minimal cost reachability [15,51,16], work on UML Statecharts [29], acceleration techniques [38], and new data structures and memory reductions [18,14]. Version 4.0 [12] brings symmetry reduction [36], the generalised sweep-line method [49], new abstraction techniques [11], priori- ties [28], and user defined functions to the mainstream. Uppaal has also gen- erated related Ph.D. theses [50,57,45,56,19,25,32,8,31]. It features a Java user interface and a verification engine written in C++ . It is freely available at http://www.uppaal.com/.</a></p><p style="padding-left: 50pt;text-indent: 15pt;text-align: justify;">This tutorial covers networks of timed automata and the flavour of timed automata used in Uppaal in section 2. The tool itself is described in section 3, and three extensive examples are covered in sections 4, 5, and 6. Finally, section 7 introduces common modelling patterns often used with Uppaal.</p><p style="text-indent: 0pt;text-align: left;"><br/></p></li><li data-list-text="2"><p class="s1" style="padding-left: 70pt;text-indent: -20pt;text-align: left;">Timed Automata in Uppaal</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 50pt;text-indent: 0pt;text-align: justify;">The model-checker Uppaal is based on the theory of timed automata [4] (see [42] for automata theory) and its modelling language offers additional features such as bounded integer variables and urgency. The query language of Uppaal, used</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-top: 3pt;padding-left: 50pt;text-indent: 0pt;text-align: justify;">to specify properties to be checked, is a subset of TCTL (timed computation tree logic) [39,3]. In this section we present the modelling and the query languages of Uppaal and we give an intuitive explanation of time in timed automata.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><ol id="l24"><li data-list-text="2.1"><p style="padding-left: 76pt;text-indent: -26pt;text-align: left;">The Modelling Language</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 50pt;text-indent: 0pt;text-align: justify;">Networks of Timed Automata A timed automaton is a finite-state machine extended with clock variables. It uses a dense-time model where a clock variable evaluates to a real number. All the clocks progress synchronously. In Uppaal, a system is modelled as a network of several such timed automata in parallel. The model is further extended with bounded discrete variables that are part of the state. These variables are used as in programming languages: They are read, written, and are subject to common arithmetic operations. A state of the system is defined by the locations of all automata, the clock values, and the values of the discrete variables. Every automaton may fire an edge (sometimes misleadingly called a transition) separately or synchronise with another automaton<span class="s84">1</span>, which leads to a new state.</p><p style="padding-left: 50pt;text-indent: 15pt;text-align: justify;">Figure 1(a) shows a timed automaton modelling a simple lamp. The lamp has three locations: off, low, and bright. If the user presses a button, i.e., synchronises with press?, then the lamp is turned on. If the user presses the button again, the lamp is turned off. However, if the user is fast and rapidly presses the button twice, the lamp is turned on and becomes bright. The user model is shown in Fig. 1(b). The user can press the button randomly at any time or even not press the button at all. The clock <span class="s93">y </span>of the lamp is used to detect if the user was fast (<span class="s93">y &lt; </span>5) or slow (<span class="s93">y &gt;</span>= 5).</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s127" style="padding-top: 4pt;padding-left: 50pt;text-indent: 0pt;text-align: right;">press?</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="203" height="78" alt="image" src="Docs_files/Image_074.png"/></span></p><p class="s128" style="text-indent: 0pt;line-height: 9pt;text-align: left;">off</p><p style="text-indent: 0pt;text-align: left;"/><p class="s127" style="text-indent: 0pt;line-height: 9pt;text-align: left;">y:=0</p><p style="text-indent: 0pt;text-align: left;"/><p class="s128" style="text-indent: 0pt;line-height: 9pt;text-align: left;">low</p><p style="text-indent: 0pt;text-align: left;"/><p class="s128" style="text-indent: 0pt;line-height: 9pt;text-align: left;">bright</p><p style="text-indent: 0pt;text-align: left;"/><p class="s127" style="text-indent: 0pt;line-height: 9pt;text-align: left;">y&gt;=5</p><p class="s127" style="padding-top: 4pt;text-indent: 0pt;text-align: left;">press?</p><p style="text-indent: 0pt;text-align: left;"/><p class="s127" style="text-indent: 0pt;line-height: 9pt;text-align: left;">y&lt;5</p><p class="s127" style="padding-top: 4pt;text-indent: 0pt;text-align: left;">press?</p><p style="text-indent: 0pt;text-align: left;"/><p class="s127" style="text-indent: 0pt;line-height: 9pt;text-align: left;">press?</p><p style="text-indent: 0pt;text-align: left;"/><p style="text-indent: 0pt;text-align: left;"><span><img width="36" height="48" alt="image" src="Docs_files/Image_075.png"/></span></p><p class="s129" style="padding-left: 1pt;text-indent: 0pt;text-align: left;">idle</p><p style="text-indent: 0pt;text-align: left;"/><p class="s22" style="text-indent: 0pt;text-align: right;">‚</p><p class="s22" style="padding-top: 5pt;text-indent: 0pt;text-align: right;">‚</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s13" style="padding-top: 7pt;padding-left: 38pt;text-indent: 0pt;text-align: left;">press!</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s8" style="padding-top: 3pt;padding-left: 163pt;text-indent: 0pt;text-align: left;">(a) Lamp.            (b) User.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s8" style="padding-left: 155pt;text-indent: 0pt;text-align: left;">Fig. 1. The simple lamp example.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 50pt;text-indent: 15pt;text-align: justify;">We give the basic definitions of the syntax and semantics for the basic timed automata. In the following we will skip the richer flavour of timed automata supported in Uppaal, i.e., with integer variables and the extensions of urgent and committed locations. For additional information, please refer to the help</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 50pt;text-indent: 0pt;line-height: 1pt;text-align: left;"><span><img width="76" height="1" alt="image" src="Docs_files/Image_076.png"/></span></p><p class="s42" style="padding-top: 1pt;padding-left: 60pt;text-indent: -7pt;line-height: 106%;text-align: left;">1<span class="s8"> or several automata in case of broadcast synchronisation, another extension of timed automata in Uppaal.</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s93" style="padding-top: 3pt;padding-left: 50pt;text-indent: 0pt;text-align: justify;"><span class="p">menu inside the tool. We use the following notations: </span>C <span class="p">is a set of clocks and </span>B<span class="p">(</span>C<span class="p">) is the set of conjunctions over simple conditions of the form </span>x ⊲⊳ c <span class="p">or </span>x <span class="s94">− </span>y ⊲⊳ c<span class="p">, where </span>x, y <span class="s94">∈ </span>C<span class="p">, </span>c <span class="s94">∈ </span><span class="p">N and </span>⊲⊳<span class="s94">∈ {</span>&lt;, <span class="s94">≤</span>, <span class="p">=</span>, <span class="s94">≥</span>, &gt;<span class="s94">}</span><span class="p">. A timed automaton is a finite directed graph annotated with conditions over and resets of non-negative real valued clocks.</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s93" style="padding-left: 50pt;text-indent: 0pt;line-height: 94%;text-align: justify;"><span class="p">Definition 1 (Timed Automaton (TA)). </span><span class="s87">A timed automaton is a tuple </span><span class="p">(</span>L, l<span class="s95">0</span>, C, A, E, I<span class="p">)</span><span class="s87">, where </span>L <span class="s87">is a set of locations, </span>l<span class="s95">0</span><span class="p"> </span><span class="s94">∈ </span>L <span class="s87">is the initial location, </span>C <span class="s87">is the set of clocks, </span>A <span class="s87">is a set of actions, co-actions and the internal </span>τ<span class="s87">-action, </span>E <span class="s94">⊆ </span>L <span class="s94">× </span>A <span class="s94">× </span>B<span class="p">(</span>C<span class="p">) </span><span class="s94">× </span><span class="p">2</span><span class="s98">C</span><span class="s87"> </span><span class="s94">× </span>L <span class="s87">is a set of edges between locations with an action, a guard and a set of clocks to be reset, and </span>I <span class="p">: </span>L <span class="s94">→ </span>B<span class="p">(</span>C<span class="p">) </span><span class="s87">assigns invariants to locations.</span><span class="s96"> </span></p><p style="padding-top: 9pt;padding-left: 50pt;text-indent: 0pt;text-align: justify;">In the previous example on Fig. 1, y:=0 is the reset of the clock <span class="s93">y</span>, and the labels</p><p style="padding-left: 50pt;text-indent: 0pt;text-align: justify;">press? and press! denote action–co-action (channel synchronisations here).</p><p style="padding-left: 50pt;text-indent: 15pt;line-height: 94%;text-align: justify;">We now define the semantics of a timed automaton. A clock valuation is a function <span class="s93">u </span>: <span class="s93">C </span><span class="s94">→ </span>R<span class="s99">≥</span><span class="s95">0</span> from the set of clocks to the non-negative reals. Let R<i>C</i><i> </i>be the set of all clock valuations. Let <span class="s93">u</span><span class="s95">0</span>(<span class="s93">x</span>) = 0 for all <span class="s93">x </span><span class="s94">∈ </span><span class="s93">C</span>. We will abuse the notation by considering guards and invariants as sets of clock valuations, writing <span class="s93">u </span><span class="s94">∈ </span><span class="s93">I</span>(<span class="s93">l</span>) to mean that <span class="s93">u </span>satisfies <span class="s93">I</span>(<span class="s93">l</span>).</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="19" height="19" alt="image" src="Docs_files/Image_077.png"/></span></p><p class="s130" style="padding-top: 1pt;padding-left: 2pt;text-indent: 0pt;line-height: 4pt;text-align: left;">■</p><p class="s130" style="padding-left: 2pt;text-indent: 0pt;line-height: 3pt;text-align: left;"> ■</p><p class="s130" style="padding-left: 2pt;text-indent: 0pt;line-height: 4pt;text-align: left;"> ■</p><p style="text-indent: 0pt;text-align: left;"/><p class="s131" style="padding-top: 4pt;padding-left: 59pt;text-indent: 0pt;text-align: center;">A        B</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s131" style="padding-top: 4pt;text-indent: 0pt;text-align: right;">A</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s131" style="text-indent: 0pt;text-align: left;">state: &lt;A,x=1&gt;</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s131" style="padding-top: 4pt;padding-bottom: 2pt;padding-left: 9pt;text-indent: 0pt;text-align: left;">B</p><p style="padding-left: 3pt;text-indent: 0pt;text-align: left;"><span><img width="19" height="19" alt="image" src="Docs_files/Image_078.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="69" height="19" alt="image" src="Docs_files/Image_079.png"/></span></p><p class="s130" style="padding-top: 1pt;padding-left: 2pt;text-indent: 0pt;line-height: 4pt;text-align: left;">■ </p><p class="s130" style="padding-left: 2pt;text-indent: 0pt;line-height: 3pt;text-align: left;">■</p><p class="s130" style="padding-left: 2pt;text-indent: 0pt;line-height: 4pt;text-align: left;">■ </p><p style="text-indent: 0pt;text-align: left;"/><p class="s131" style="padding-top: 1pt;padding-left: 6pt;text-indent: 0pt;text-align: left;">x&lt;3</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s131" style="padding-left: 4pt;text-indent: 0pt;text-align: left;">action transition</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="69" height="19" alt="image" src="Docs_files/Image_080.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="61" height="18" alt="image" src="Docs_files/Image_081.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="60" height="99" alt="image" src="Docs_files/Image_082.png"/></span></p><p class="s131" style="padding-left: 20pt;text-indent: 0pt;text-align: left;">delay(+1) transition</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="69" height="19" alt="image" src="Docs_files/Image_083.png"/></span></p><p class="s130" style="padding-top: 1pt;padding-left: 2pt;text-indent: 0pt;line-height: 4pt;text-align: left;">■ </p><p class="s130" style="padding-left: 2pt;text-indent: 0pt;line-height: 3pt;text-align: left;">■</p><p class="s130" style="padding-left: 2pt;text-indent: 0pt;line-height: 4pt;text-align: left;">■</p><p style="text-indent: 0pt;text-align: left;"/><p class="s131" style="text-indent: 0pt;text-align: right;">A</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s131" style="padding-top: 4pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">&lt;B,x=1&gt;</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s131" style="padding-top: 1pt;padding-left: 16pt;text-indent: 0pt;text-align: left;">x&lt;3</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="19" height="19" alt="image" src="Docs_files/Image_084.png"/></span></p><p class="s131" style="padding-top: 3pt;padding-left: 19pt;text-indent: 0pt;text-align: left;">B</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s131" style="padding-left: 4pt;text-indent: 0pt;line-height: 7pt;text-align: left;">action</p><p style="text-indent: 0pt;text-align: left;"><span><img width="19" height="19" alt="image" src="Docs_files/Image_085.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s130" style="padding-left: 2pt;text-indent: 0pt;line-height: 72%;text-align: left;">a&#39;\ a a</p><p style="text-indent: 0pt;text-align: left;"/><p style="text-indent: 0pt;text-align: left;"><span><img width="69" height="19" alt="image" src="Docs_files/Image_086.png"/></span></p><p class="s131" style="padding-left: 4pt;text-indent: 0pt;line-height: 9pt;text-align: left;">transition  <span class="s132">A        B</span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="32" height="5" alt="image" src="Docs_files/Image_087.png"/></span></p><p class="s131" style="padding-top: 1pt;padding-left: 4pt;text-indent: 0pt;text-align: left;">OK</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s131" style="padding-top: 5pt;padding-left: 50pt;text-indent: 0pt;text-align: right;">delay(+2) transition</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s131" style="padding-left: 38pt;text-indent: 0pt;text-align: left;">&lt;A,x=2&gt;</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="69" height="19" alt="image" src="Docs_files/Image_088.png"/></span></p><p class="s130" style="padding-top: 1pt;padding-left: 2pt;text-indent: 0pt;line-height: 4pt;text-align: left;">■ </p><p class="s130" style="padding-left: 2pt;text-indent: 0pt;line-height: 3pt;text-align: left;">■</p><p class="s130" style="padding-left: 2pt;text-indent: 0pt;line-height: 4pt;text-align: left;">■</p><p style="text-indent: 0pt;text-align: left;"/><p class="s131" style="text-indent: 0pt;text-align: center;">A</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s131" style="padding-left: 16pt;text-indent: 0pt;text-align: left;">x&lt;3</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="19" height="19" alt="image" src="Docs_files/Image_089.png"/></span></p><p class="s131" style="padding-top: 3pt;padding-left: 18pt;text-indent: 0pt;text-align: left;">B</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="31" height="5" alt="image" src="Docs_files/Image_090.png"/></span></p><p class="s131" style="padding-left: 5pt;text-indent: 0pt;line-height: 119%;text-align: left;">invalid action transition</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="93" height="63" alt="image" src="Docs_files/Image_091.png"/></span></p><p class="s131" style="text-indent: 0pt;line-height: 7pt;text-align: left;">A</p><p style="text-indent: 0pt;text-align: left;"/><p class="s131" style="padding-left: 3pt;text-indent: 0pt;line-height: 7pt;text-align: left;">B</p><p class="s130" style="padding-top: 3pt;text-indent: 0pt;line-height: 4pt;text-align: left;"> ■</p><p class="s130" style="text-indent: 0pt;line-height: 3pt;text-align: left;">■</p><p class="s130" style="text-indent: 0pt;line-height: 4pt;text-align: left;">■</p><p class="s131" style="padding-top: 2pt;padding-left: 1pt;text-indent: 0pt;text-align: left;">x&lt;3</p><p style="text-indent: 0pt;text-align: left;"/><p class="s131" style="text-indent: 0pt;line-height: 7pt;text-align: left;">&lt;A,x=3&gt;</p><p style="text-indent: 0pt;text-align: left;"/><p class="s131" style="padding-left: 23pt;text-indent: 0pt;text-align: left;">&lt;A,x=3&gt;</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s131" style="padding-left: 4pt;text-indent: 0pt;text-align: left;">x&lt;3</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s131" style="padding-top: 5pt;padding-left: 50pt;text-indent: 0pt;text-align: right;">&lt;A,x=3&gt;</p><p class="s131" style="padding-top: 4pt;padding-left: 15pt;text-indent: 0pt;text-align: left;">x&lt;3</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s131" style="padding-top: 3pt;padding-left: 15pt;text-indent: 0pt;text-align: left;">invalid state: invariant x&lt;3 violated</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s8" style="padding-top: 3pt;padding-left: 79pt;text-indent: 0pt;text-align: left;">Fig. 2. Semantics of TA: different transitions from a given initial state.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s93" style="padding-left: 50pt;text-indent: 0pt;line-height: 93%;text-align: justify;"><span class="p">Definition 2 (Semantics of TA). </span><span class="s87">Let </span><span class="p">(</span>L, l<span class="s95">0</span>, C, A, E, I<span class="p">) </span><span class="s87">be a timed automaton. The semantics is defined as a labelled transition system </span><span class="s94">(</span>S, s<span class="s95">0</span>, <span class="s94">→)</span><span class="s87">, where </span>S <span class="s94">⊆ </span>L<span class="s94">× </span><span class="p">R</span><span class="s98">C</span><span class="s87"> is the set of states, </span>s<span class="s95">0</span><span class="p"> = (</span>l<span class="s95">0</span>, u<span class="s95">0</span><span class="p">) </span><span class="s87">is the initial state, and </span><span class="s94">→⊆ </span>S <span class="s94">×</span><span class="p">(R</span><span class="s99">≥</span><span class="s95">0</span><span class="p"> </span><span class="s94">∪</span>A<span class="p">)</span><span class="s94">×</span>S <span class="s87">is the transition relation such that:</span></p><p class="s101" style="padding-top: 5pt;padding-left: 93pt;text-indent: 0pt;line-height: 5pt;text-align: left;">d          <span class="s46">′     ′         ′</span></p><p style="padding-left: 56pt;text-indent: 0pt;line-height: 10pt;text-align: left;">– (<span class="s93">l, u</span>) <span class="s94">−→ </span>(<span class="s93">l, u </span>+ <span class="s93">d</span>) <i>if </i><span class="s94">∀</span><span class="s93">d </span>: 0 <span class="s94">≤ </span><span class="s93">d </span><span class="s94">≤ </span><span class="s93">d </span>=<span class="s94">⇒ </span><span class="s93">u </span>+ <span class="s93">d</span></p><p class="s93" style="padding-left: 3pt;text-indent: 0pt;line-height: 10pt;text-align: left;"><span class="s94">∈ </span>I<span class="p">(</span>l<span class="p">)</span><span class="s87">, and</span></p><p class="s101" style="padding-left: 93pt;text-indent: 0pt;line-height: 4pt;text-align: left;">a  <span class="s46">′  ′                 ′</span></p><p class="s93" style="padding-left: 56pt;text-indent: 0pt;line-height: 9pt;text-align: left;"><span class="p">– (</span>l, u<span class="p">) </span><span class="s94">−→ </span><span class="p">(</span>l , u <span class="p">) </span><span class="s87">if there exists </span>e <span class="p">= (</span>l, a, g, r, l <span class="p">) </span><span class="s94">∈ </span>E <span class="s87">s.t. </span>u <span class="s94">∈ </span>g<span class="s87">,</span></p><p class="s93" style="padding-left: 67pt;text-indent: 0pt;line-height: 13pt;text-align: left;">u<span class="s100">′</span> <span class="p">= [</span>r<span class="s94"> → </span><span class="p">0]</span>u<span class="s87">, and </span>u<span class="s100">′</span> <span class="s94">∈ </span>I<span class="p">(</span>l<span class="s100">′</span><span class="p">)</span><span class="s87">,</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s93" style="padding-top: 5pt;padding-left: 50pt;text-indent: 0pt;line-height: 90%;text-align: justify;"><span class="s87">where for </span>d <span class="s94">∈ </span><span class="p">R</span><span class="s99">≥</span><span class="s95">0</span><span class="s87">, </span>u <span class="p">+ </span>d <span class="s87">maps each clock </span>x <span class="s87">in </span>C <span class="s87">to the value </span>u<span class="p">(</span>x<span class="p">) + </span>d<span class="s87">, and </span><span class="p">[</span>r<span class="s94"> → </span><span class="p">0]</span>u <span class="s87">denotes the clock valuation which maps each clock in </span>r <span class="s87">to 0 and agrees with </span>u <span class="s87">over </span>C <span class="s94">\ </span>r<span class="s87">.</span><span class="s96"> </span></p><p style="padding-top: 8pt;padding-left: 50pt;text-indent: 0pt;text-align: justify;">Figure 2 illustrates the semantics of TA. From a given initial state, we can choose to take an <i>action </i>or a <i>delay </i>transition (different values here). Depending of the chosen delay, further actions may be forbidden.</p><p class="s11" style="text-indent: 0pt;line-height: 7pt;text-align: left;">i</p><p style="text-indent: 0pt;text-align: left;"/><p class="s11" style="text-indent: 0pt;line-height: 7pt;text-align: left;">i</p><p style="text-indent: 0pt;text-align: left;"/><p class="s93" style="padding-top: 1pt;padding-left: 50pt;text-indent: 15pt;line-height: 89%;text-align: justify;"><span class="p">Timed automata are often composed into a </span><span class="s87">network of timed automata </span><span class="p">over a common set of clocks and actions, consisting of </span>n <span class="p">timed automata </span><span class="s94">A</span><span class="s97">i</span><span class="s87"> </span><span class="p">= (</span>L<span class="s97">i</span>, l<span class="s84">0</span>, C, A, E<span class="s97">i</span>, I<span class="s97">i</span><span class="p">), 1 </span><span class="s94">≤ </span>i <span class="s94">≤ </span>n<span class="p">. A location vector is a vector </span><span class="s133">¯</span>l <span class="p">= (</span>l<span class="s95">1</span>, . . . , l<span class="s97">n</span><span class="p">). We compose the invariant functions into a common function over location vec- tors </span>I<span class="p">(</span><span class="s133">¯</span>l<span class="p">) = </span><span class="s94">∧</span><span class="s97">i</span>I<span class="s97">i</span><span class="p">(</span>l<span class="s97">i</span><span class="p">). We write </span>l<span class="s133">¯</span><span class="p">[</span>l<span class="s100">′</span>/l<span class="s97">i</span><span class="p">] to denote the vector where the </span>i<span class="p">th element</span></p><p class="s11" style="text-indent: 0pt;line-height: 7pt;text-align: left;">i</p><p style="text-indent: 0pt;text-align: left;"/><p class="s93" style="padding-left: 50pt;text-indent: 0pt;line-height: 12pt;text-align: justify;">l<span class="s97">i</span><span class="s87"> </span><span class="p">of </span>l<span class="s133">¯ </span><span class="p">is replaced by </span>l<span class="s100">′</span><span class="p">. In the following we define the semantics of a network of</span></p><p style="padding-left: 50pt;text-indent: 0pt;text-align: left;">timed automata.</p><p class="s93" style="padding-top: 6pt;padding-left: 50pt;text-indent: 0pt;line-height: 12pt;text-align: left;"><span class="p">Definition 3 (Semantics of a network of Timed Automata). </span><span class="s87">Let </span><span class="s94">A</span><span class="s97">i</span><span class="s87"> </span><span class="p">= (</span>L<span class="s97">i</span>, l<span class="s84">0</span>, C, A, E<span class="s97">i</span>, I<span class="s97">i</span><span class="p">) </span><span class="s87">be a network of </span>n <span class="s87">timed automata. Let </span><span class="s133">¯</span>l<span class="s95">0</span><span class="p"> = (</span>l<span class="s84">0</span>, . . . , l<span class="s84">0</span><span class="p"> ) </span><span class="s87">be the</span></p><p class="s11" style="padding-left: 72pt;text-indent: 0pt;line-height: 4pt;text-align: left;">i                                      <span class="s10">1    </span>n</p><p class="s93" style="padding-left: 50pt;text-indent: 0pt;line-height: 9pt;text-align: left;"><span class="s87">initial location vector. The semantics is defined as a transition system </span><span class="s94">(</span>S, s<span class="s95">0</span>, <span class="s94">→)</span><span class="s87">,</span></p><p class="s93" style="padding-left: 50pt;text-indent: 0pt;line-height: 89%;text-align: left;"><span class="s87">where </span>S <span class="p">= (</span>L<span class="s95">1</span><span class="p"> </span><span class="s94">× · · · × </span>L<span class="s97">n</span><span class="p">) </span><span class="s94">× </span><span class="p">R</span><span class="s98">C</span><span class="s87"> is the set of states, </span>s<span class="s95">0</span><span class="p"> = (</span><span class="s133">¯</span>l<span class="s95">0</span>, u<span class="s95">0</span><span class="p">) </span><span class="s87">is the initial state, and </span><span class="s94">→⊆ </span>S <span class="s94">× </span>S <span class="s87">is the transition relation defined by:</span></p><p style="padding-top: 7pt;padding-left: 71pt;text-indent: 0pt;line-height: 5pt;text-align: left;">¯   <i>d</i><i>  </i>¯       <span class="s134">′     ′         ′   </span>¯</p><p class="s93" style="padding-left: 56pt;text-indent: 0pt;line-height: 10pt;text-align: left;"><span class="p">– (</span>l, u<span class="p">) </span><span class="s94">−→ </span><span class="p">(</span>l, u <span class="p">+ </span>d<span class="p">) </span><span class="s87">if </span><span class="s94">∀</span>d <span class="p">: 0 </span><span class="s94">≤ </span>d <span class="s94">≤ </span>d <span class="p">=</span><span class="s94">⇒ </span>u <span class="p">+ </span>d <span class="s94">∈ </span>I<span class="p">(</span>l<span class="p">)</span><span class="s87">.</span></p><p class="s135" style="padding-left: 71pt;text-indent: 0pt;line-height: 4pt;text-align: left;">¯  <span class="s101">a  </span>¯ <span class="s46">′   ′</span></p><p class="s11" style="padding-left: 71pt;text-indent: 0pt;line-height: 4pt;text-align: left;">τgr <span class="s105">′</span></p><p class="s93" style="padding-left: 56pt;text-indent: 0pt;line-height: 10pt;text-align: left;"><span class="p">– (</span>l, u<span class="p">) </span><span class="s94">−→ </span><span class="p">(</span>l<span class="p">[</span>l<span class="s110">i</span>/l<span class="s97">i</span><span class="p">]</span>, u <span class="p">) </span><span class="s87">if there exists </span>l<span class="s97">i</span><span class="s87"> </span><span class="s94">−−→ </span>l<span class="s110">i </span><span class="s136">s.t. </span>u <span class="s94">∈ </span>g<span class="s87">,</span></p><p class="s11" style="text-indent: 0pt;line-height: 7pt;text-align: left;">i</p><p style="text-indent: 0pt;text-align: left;"/><p class="s93" style="padding-left: 67pt;text-indent: 0pt;line-height: 13pt;text-align: left;">u<span class="s100">′</span> <span class="p">= [</span>r<span class="s94"> → </span><span class="p">0]</span>u <span class="s87">and </span>u<span class="s100">′</span> <span class="s94">∈ </span>I<span class="p">(</span><span class="s133">¯</span>l<span class="p">[</span>l<span class="s100">′</span>/l<span class="s97">i</span><span class="p">])</span><span class="s87">.</span></p><p style="padding-left: 71pt;text-indent: 0pt;line-height: 5pt;text-align: left;">¯  <i>a</i><i>  </i>¯ <span class="s134">′   ′   ′</span></p><p class="s107" style="padding-left: 71pt;text-indent: 0pt;line-height: 5pt;text-align: left;">c<span class="s106">?</span>g<span class="s108">i</span>r<span class="s108">i  </span><span class="s109">′</span></p><p class="s93" style="padding-left: 56pt;text-indent: 0pt;line-height: 12pt;text-align: left;"><span class="p">– (</span>l, u<span class="p">) </span><span class="s94">−→ </span><span class="p">(</span>l<span class="p">[</span>l<span class="s110">j</span>/l<span class="s97">j</span>, l<span class="s110">i</span>/l<span class="s97">i</span><span class="p">]</span>, u <span class="p">) </span><span class="s87">if there exist </span>l<span class="s97">i</span><span class="s87"> </span><span class="s94">−−−−→ </span>l<span class="s110">i </span><span class="s136">and</span></p><p class="s107" style="padding-left: 50pt;text-indent: 0pt;line-height: 6pt;text-align: right;">c<span class="s106">!</span>g<span class="s108">j </span>r<span class="s108">j</span></p><p class="s93" style="padding-left: 50pt;text-indent: 0pt;line-height: 4pt;text-align: right;">l <span class="s94">−−−−→</span></p><p class="s93" style="padding-top: 2pt;padding-left: 5pt;text-indent: 0pt;line-height: 7pt;text-align: left;">l<span class="s100">′</span> <span class="s87">s.t. </span>u <span class="s94">∈ </span><span class="p">(</span>g</p><p class="s93" style="padding-top: 2pt;padding-left: 3pt;text-indent: 0pt;line-height: 7pt;text-align: left;"><span class="s94">∧ </span>g <span class="p">)</span><span class="s87">, </span>u<span class="s100">′</span> <span class="p">= [</span>r <span class="s94">∪ </span>r</p><p class="s93" style="padding-top: 1pt;padding-left: 4pt;text-indent: 0pt;line-height: 8pt;text-align: left;"><span class="s94"> → </span><span class="p">0]</span>u <span class="s87">and </span>u<span class="s100">′</span> <span class="s94">∈ </span>I<span class="p">(</span><span class="s133">¯</span>l<span class="p">[</span>l<span class="s100">′</span> /l , l<span class="s100">′</span>/l <span class="p">])</span><span class="s87">.</span><span class="s96"> </span></p><p class="s11" style="padding-left: 70pt;text-indent: 0pt;line-height: 8pt;text-align: left;">j      <span class="s137">j       </span>i   j      i   j             <span class="s137">j  </span>j  <span class="s137">i  </span>i</p><p style="padding-top: 7pt;padding-left: 50pt;text-indent: 15pt;line-height: 94%;text-align: justify;">As an example of the semantics, the lamp in Fig. 1 may have the follow- ing states (we skip the user): (Lamp.off<span class="s93">, y </span>= 0) <span class="s94">→ </span>(Lamp.off<span class="s93">, y </span>= 3) <span class="s94">→ </span>(Lamp.low<span class="s93">, y </span>= 0) <span class="s94">→ </span>(Lamp.low<span class="s93">, y </span>= 0<span class="s93">.</span>5) <span class="s94">→ </span>(Lamp.bright<span class="s93">, y </span>= 0<span class="s93">.</span>5) <span class="s94">→ </span>(Lamp.bright<span class="s93">, y </span>= 1000) . . .</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-top: 6pt;padding-left: 50pt;text-indent: 0pt;text-align: left;">Timed Automata in Uppaal The Uppaal modelling language extends timed automata with the following additional features (see Fig. 3:</p><p style="padding-top: 7pt;padding-left: 67pt;text-indent: -16pt;text-align: justify;">Templates automata are defined with a set of parameters that can be of any type (e.g., int, chan). These parameters are substituted for a given argument in the process declaration.</p><p style="padding-left: 67pt;text-indent: -16pt;text-align: justify;">Constants are declared as const name value. Constants by definition cannot be modified and must have an integer value.</p><p style="padding-left: 67pt;text-indent: -16pt;text-align: justify;">Bounded integer variables are declared as int[min,max] name, where min and max are the lower and upper bound, respectively. Guards, invariants, and assignments may contain expressions ranging over bounded integer variables. The bounds are checked upon verification and violating a bound leads to an invalid state that is discarded (at run-time). If the bounds are omitted, the default range of -32768 to 32768 is used.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 50pt;text-indent: 0pt;text-align: left;"><span><img width="463" height="507" alt="image" src="Docs_files/Image_092.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s8" style="padding-top: 3pt;padding-left: 50pt;text-indent: 0pt;line-height: 106%;text-align: justify;">Fig. 3. Declarations of a constant and a variable, and illustration of some of the channel synchronisations between two templates of the train gate example of Section 4, and some committed locations.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-top: 3pt;padding-left: 67pt;text-indent: -16pt;text-align: justify;">Binary synchronisation channels are declared as chan c. An edge labelled with c! synchronises with another labelled c?. A synchronisation pair is chosen non-deterministically if several combinations are enabled.</p><p style="padding-left: 50pt;text-indent: 0pt;line-height: 11pt;text-align: justify;">Broadcast channels are declared as broadcast chan c. In a broadcast syn-</p><p style="padding-left: 67pt;text-indent: 0pt;text-align: justify;">chronisation one sender c! can synchronise with an arbitrary number of receivers c?. Any receiver than can synchronise in the current state must do so. If there are no receivers, then the sender can still execute the c! action,</p><p style="padding-left: 67pt;text-indent: 0pt;line-height: 11pt;text-align: justify;">i.e. broadcast sending is never blocking.</p><p style="padding-left: 67pt;text-indent: -16pt;text-align: justify;">Urgent synchronisation channels are declared by prefixing the channel decla- ration with the keyword urgent. Delays must not occur if a synchronisation transition on an urgent channel is enabled. Edges using urgent channels for synchronisation cannot have time constraints, i.e., no clock guards.</p><p style="padding-left: 50pt;text-indent: 0pt;line-height: 11pt;text-align: justify;">Urgent locations are semantically equivalent to adding an extra clock x, that</p><p style="padding-left: 50pt;text-indent: 16pt;text-align: right;">is reset on all incoming edges, and having an invariant x&lt;=0 on the location. Hence, time is not allowed to pass when the system is in an urgent location. Committed locations are even more restrictive on the execution than urgent locations. A state is committed if any of the locations in the state is commit- ted. A committed state cannot delay and the next transition must involve</p><p style="padding-left: 67pt;text-indent: 0pt;line-height: 11pt;text-align: justify;">an outgoing edge of at least one of the committed locations.</p><p style="padding-left: 67pt;text-indent: -16pt;text-align: justify;">Arrays are allowed for clocks, channels, constants and integer variables. They are defined by appending a size to the variable name, e.g. chan c[4]; clock a[2]; int[3,5] u[7];.</p><p style="padding-left: 67pt;text-indent: -16pt;line-height: 93%;text-align: justify;">Initialisers are used to initialise integer variables and arrays of integer vari- ables. For instance, int i = 2; or int i[3] = <span class="s94">{</span>1, 2, 3<span class="s94">}</span>;.</p><p style="padding-left: 50pt;text-indent: 0pt;line-height: 11pt;text-align: justify;">Record types are declared with the <i>struct </i>construct like in C.</p><p style="padding-left: 67pt;text-indent: -16pt;text-align: justify;">Custom types are defined with the C-like <i>typedef </i>construct. You can define any custom-type from other basic types such as records.</p><p style="padding-left: 50pt;text-indent: 0pt;line-height: 11pt;text-align: justify;">User functions are defined either globally or locally to templates. Template</p><p style="padding-left: 67pt;text-indent: 0pt;text-align: justify;">parameters are accessible from local functions. The syntax is similar to C except that there is no pointer. C++ syntax for references is supported for the arguments only.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 50pt;text-indent: 0pt;text-align: justify;">Expressions in Uppaal Expressions in Uppaal range over clocks and integer variables. The BNF is given in Fig. 33 in the appendix. Expressions are used with the following labels:</p><p style="padding-top: 4pt;padding-left: 67pt;text-indent: -16pt;text-align: justify;">Select A select label contains a comma separated list of <i>name : type </i>expressions where <i>name </i>is a variable name and <i>type </i>is a defined type (built-in or custom). These variables are accessible on the associated edge only and they will take a non-deterministic value in the range of their respective types.</p><p style="padding-left: 50pt;text-indent: 0pt;line-height: 11pt;text-align: justify;">Guard A guard is a particular expression satisfying the following conditions:</p><p style="padding-left: 67pt;text-indent: 0pt;text-align: justify;">it is side-effect free; it evaluates to a boolean; only clocks, integer variables, and constants are referenced (or arrays of these types); clocks and clock differences are only compared to integer expressions; guards over clocks are essentially conjunctions (disjunctions are allowed over integer conditions). A guard may call a side-effect free function that returns a bool, although clock constraints are not supported in such functions.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-top: 3pt;padding-left: 67pt;text-indent: -16pt;text-align: justify;">Synchronisation A synchronisation label is either on the form <span class="s93">Expression</span>! or <span class="s93">Expression</span>? or is an empty label. The expression must be side-effect free, evaluate to a channel, and only refer to integers, constants and channels.</p><p style="padding-left: 67pt;text-indent: -16pt;text-align: justify;">Update An update label is a comma separated list of expressions with a side- effect; expressions must only refer to clocks, integer variables, and constants and only assign integer values to clocks. They may also call functions.</p><p style="padding-left: 67pt;text-indent: -16pt;text-align: justify;">Invariant An invariant is an expression that satisfies the following conditions: it is side-effect free; only clock, integer variables, and constants are referenced; it is a conjunction of conditions of the form x&lt;e or x&lt;=e where x is a clock reference and e evaluates to an integer. An invariant may call a side-effect free function that returns a bool, although clock constraints are not supported in such functions.</p><p style="text-indent: 0pt;text-align: left;"><br/></p></li><li data-list-text="2.2"><p style="padding-top: 6pt;padding-left: 76pt;text-indent: -26pt;text-align: left;">The Query Language</p><p style="padding-top: 8pt;padding-left: 50pt;text-indent: 0pt;text-align: justify;">The main purpose of a model-checker is verify the model w.r.t. a requirement specification. Like the model, the requirement specification must be expressed in a formally well-defined and machine readable language. Several such logics exist in the scientific literature, and Uppaal uses a simplified version of TCTL. Like in TCTL, the query language consists of path formulae and state formulae.<span class="s84">2</span> State formulae describe individual states, whereas path formulae quantify over paths or traces of the model. Path formulae can be classified into <i>reachability</i>, <i>safety </i>and <i>liveness</i>. Figure 4 illustrates the different path formulae supported by Uppaal. Each type is described below.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 50pt;text-indent: 0pt;text-align: justify;">State Formulae A state formula is an expression (see Fig. 33) that can be evaluated for a state without looking at the behaviour of the model. For instance, this could be a simple expression, like i == 7, that is true in a state whenever <span class="s93">i </span>equals 7. The syntax of state formulae is a superset of that of guards, i.e., a state formula is a side-effect free expression, but in contrast to guards, the use of disjunctions is not restricted. It is also possible to test whether a particular process is in a given location using an expression on the form P.l, where P is a process and l is a location.</p><p style="padding-left: 50pt;text-indent: 15pt;text-align: justify;">In Uppaal, deadlock is expressed using a special state formula (although this is not strictly a state formula). The formula simply consists of the keyword deadlock and is satisfied for all deadlock states. A state is a deadlock state if there are no outgoing action transitions neither from the state itself or any of its delay successors. Due to current limitations in Uppaal, the deadlock state formula can only be used with reachability and invariantly path formulae (see below).</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-top: 6pt;padding-left: 50pt;text-indent: 0pt;text-align: justify;">Reachability Properties Reachability properties are the simplest form of properties. They ask whether a given state formula, <span class="s93">ϕ</span>, <i>possibly </i>can be satisfied</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 50pt;text-indent: 0pt;line-height: 1pt;text-align: left;"><span><img width="76" height="1" alt="image" src="Docs_files/Image_093.png"/></span></p><p class="s42" style="padding-top: 1pt;padding-left: 53pt;text-indent: 0pt;text-align: left;">2<span class="s8"> In contrast to TCTL, Uppaal does not allow nesting of path formulae.</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s207" style="padding-left: 68pt;text-indent: 0pt;text-align: left;">		</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s138" style="padding-left: 68pt;text-indent: 0pt;text-align: left;">	</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="124" height="98" alt="image" src="Docs_files/Image_094.png"/></span></p><p class="s139" style="text-indent: 0pt;line-height: 6pt;text-align: left;">A[] <span class="s140"></span></p><p style="text-indent: 0pt;text-align: left;"/><p style="text-indent: 0pt;text-align: left;"><span><img width="124" height="98" alt="image" src="Docs_files/Image_095.png"/></span></p><p class="s139" style="text-indent: 0pt;line-height: 6pt;text-align: left;">A&lt;&gt; <span class="s140"></span></p><p style="text-indent: 0pt;text-align: left;"/><p style="text-indent: 0pt;text-align: left;"><span><img width="124" height="98" alt="image" src="Docs_files/Image_096.png"/></span></p><p class="s139" style="text-indent: 0pt;line-height: 6pt;text-align: left;">E&lt;&gt; <span class="s140"></span></p><p style="text-indent: 0pt;text-align: left;"/><p style="text-indent: 0pt;text-align: left;"><span><img width="124" height="114" alt="image" src="Docs_files/Image_097.png"/></span></p><p class="s139" style="text-indent: 0pt;line-height: 6pt;text-align: left;">E[] <span class="s140"></span></p><p style="text-indent: 0pt;text-align: left;"/><p style="text-indent: 0pt;text-align: left;"><span><img width="124" height="98" alt="image" src="Docs_files/Image_098.png"/></span></p><p class="s140" style="padding-top: 2pt;text-indent: 0pt;line-height: 6pt;text-align: left;"><span class="s141"> </span></p><p style="text-indent: 0pt;text-align: left;"/><p class="s140" style="padding-top: 1pt;text-indent: 0pt;line-height: 6pt;text-align: left;"></p><p style="text-indent: 0pt;text-align: left;"/><p class="s140" style="padding-top: 1pt;text-indent: 0pt;line-height: 6pt;text-align: left;"></p><p style="text-indent: 0pt;text-align: left;"/><p class="s140" style="padding-top: 1pt;text-indent: 0pt;line-height: 6pt;text-align: left;"></p><p style="text-indent: 0pt;text-align: left;"/><p class="s140" style="padding-top: 1pt;text-indent: 0pt;line-height: 6pt;text-align: left;"></p><p style="text-indent: 0pt;text-align: left;"/><p class="s8" style="padding-top: 5pt;padding-left: 50pt;text-indent: 0pt;line-height: 106%;text-align: justify;">Fig. 4. Path formulae supported in Uppaal. The filled states are those for which a given state formulae <span class="s20">φ </span>holds. Bold edges are used to show the paths the formulae evaluate on.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 50pt;text-indent: 0pt;line-height: 106%;text-align: right;">by any reachable state. Another way of stating this is: Does there exist a path starting at the initial state, such that <span class="s93">ϕ </span>is eventually satisfied along that path. Reachability properties are often used while designing a model to perform sanity checks. For instance, when creating a model of a communication protocol involving a sender and a receiver, it makes sense to ask whether it is possible for the sender to send a message at all or whether a message can possibly be received. These properties do not by themselves guarantee the correctness of the protocol (i.e. that any message is eventually delivered), but they validate the</p><p style="padding-left: 50pt;text-indent: 0pt;line-height: 11pt;text-align: justify;">basic behaviour of the model.</p><p class="s93" style="padding-top: 1pt;padding-left: 50pt;text-indent: 15pt;text-align: justify;"><span class="p">We express that some state satisfying </span>ϕ <span class="p">should be reachable using the path formula </span>E<span class="s96">◊ </span>ϕ<span class="p">. In Uppaal, we write this property using the syntax E&lt;&gt; </span>ϕ<span class="p">.</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 50pt;text-indent: 0pt;text-align: justify;">Safety Properties Safety properties are on the form: “something bad will never happen”. For instance, in a model of a nuclear power plant, a safety property might be, that the operating temperature is always (invariantly) under a certain threshold, or that a meltdown never occurs. A variation of this property is that “something will possibly never happen”. For instance when playing a game, a safe state is one in which we can still win the game, hence we will possibly not loose.</p><p class="s93" style="padding-top: 1pt;padding-left: 50pt;text-indent: 15pt;text-align: justify;"><span class="p">In Uppaal these properties are formulated positively, e.g., something good is invariantly true. Let </span>ϕ <span class="p">be a state formulae. We express that </span>ϕ <span class="p">should be true in all reachable states with the path formulae </span>A<span class="s96">□ </span>ϕ<span class="p">,</span><span class="s84">3</span><span class="p"> whereas </span>E<span class="s96">□ </span>ϕ <span class="p">says that</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 50pt;text-indent: 0pt;line-height: 1pt;text-align: left;"><span><img width="76" height="1" alt="image" src="Docs_files/Image_099.png"/></span></p><p class="s20" style="padding-left: 53pt;text-indent: 0pt;text-align: left;"><span class="s42">3</span><span class="s8"> Notice that </span>A<span class="s22">□ </span>ϕ <span class="s8">= </span><span class="s85">¬</span>E<span class="s22">◊ </span><span class="s85">¬</span>ϕ</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-top: 4pt;padding-left: 50pt;text-indent: 0pt;text-align: justify;">there should exist a maximal path such that <span class="s93">ϕ </span>is always true.<span class="s84">4</span> In Uppaal we write A[] <span class="s93">ϕ </span>and E[] <span class="s93">ϕ</span>, respectively.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 50pt;text-indent: 0pt;text-align: justify;">Liveness Properties Liveness properties are of the form: something will even- tually happen, e.g. when pressing the <i>on </i>button of the remote control of the television, then eventually the television should turn on. Or in a model of a communication protocol, any message that has been sent should eventually be received.</p><p style="padding-left: 50pt;text-indent: 15pt;text-align: justify;">In its simple form, liveness is expressed with the path formula <span class="s93">A</span><span class="s96">◊ </span><span class="s93">ϕ</span>, mean- ing <span class="s93">ϕ </span>is eventually satisfied.<span class="s84">5</span> The more useful form is the <i>leads to </i>or <i>response </i>property, written <span class="s93">ϕ</span><span class="s96">  </span><span class="s93">ψ </span>which is read as whenever <span class="s93">ϕ </span>is satisfied, then eventu- ally <span class="s93">ψ </span>will be satisfied, e.g. whenever a message is sent, then eventually it will be received.<span class="s84">6</span> In Uppaal these properties are written as A&lt;&gt; <span class="s93">ϕ </span>and <span class="s93">ϕ </span>--&gt; <span class="s93">ψ</span>, respectively.</p><p style="text-indent: 0pt;text-align: left;"><br/></p></li><li data-list-text="2.3"><p style="padding-left: 76pt;text-indent: -26pt;text-align: left;">Understanding Time</p><p style="padding-top: 7pt;padding-left: 50pt;text-indent: 0pt;text-align: justify;">Invariants and Guards Uppaal uses a continuous time model. We illustrate the concept of time with a simple example that makes use of an <i>observer</i>. Nor- mally an observer is an add-on automaton in charge of detecting events without changing the observed system. In our case the clock reset (x:=0) is delegated to the observer for illustration purposes.</p><p style="padding-left: 50pt;text-indent: 15pt;text-align: justify;">Figure 5 shows the first model with its observer. We have two automata in parallel. The first automaton has a self-loop guarded by x&gt;=2, x being a clock, that synchronises on the channel reset with the second automaton. The second automaton, the observer, detects when the self loop edge is taken with the location taken and then has an edge going back to idle that resets the clock x. We moved the reset of x from the self loop to the observer only to test what happens on the transition before the reset. Notice that the location taken is committed (marked c) to avoid delay in that location.</p><p style="padding-left: 50pt;text-indent: 15pt;text-align: justify;">The following properties can be verified in Uppaal (see section 3 for an overview of the interface). Assuming we name the observer automaton Obs, we have:</p><ul id="l25"><li data-list-text="–"><p style="padding-top: 6pt;padding-left: 10pt;text-indent: -10pt;text-align: right;">A[] Obs.taken imply x&gt;=2 : all resets off x will happen when x is above</p><p style="padding-left: 50pt;text-indent: 0pt;text-align: right;">2. This query means that for all reachable states, being in the location</p><p style="padding-left: 67pt;text-indent: 0pt;text-align: justify;">Obs.taken implies that x&gt;=2.</p></li><li data-list-text="–"><p style="padding-bottom: 2pt;padding-left: 67pt;text-indent: -10pt;text-align: justify;">E&lt;&gt; Obs.idle and x&gt;3 : this property requires, that it is possible to reach- able state where Obs is in the location idle and x is bigger than 3. Essentially we check that we may delay at least 3 time units between resets. The result would have been the same for larger values like 30000, since there are no invariants in this model.</p><p style="padding-left: 50pt;text-indent: 0pt;line-height: 1pt;text-align: left;"><span><img width="76" height="1" alt="image" src="Docs_files/Image_100.png"/></span></p><p class="s42" style="padding-top: 1pt;padding-left: 60pt;text-indent: -7pt;line-height: 107%;text-align: left;">4<span class="s8"> A maximal path is a path that is either infinite or where the last state has no outgoing transitions.</span></p><p class="s20" style="padding-left: 53pt;text-indent: 0pt;line-height: 10pt;text-align: left;"><span class="s42">5</span><span class="s8"> Notice that </span>A<span class="s22">◊ </span>ϕ <span class="s8">= </span><span class="s85">¬</span>E<span class="s22">□ </span><span class="s85">¬</span>ϕ<span class="s8">.</span></p><p class="s20" style="padding-left: 53pt;text-indent: 0pt;text-align: left;"><span class="s42">6</span><span class="s8"> Experts in TCTL will recognise that </span>ϕ<span class="s22">  </span>ψ <span class="s8">is equivalent to </span>A<span class="s22">□ </span><span class="s8">(</span>ϕ <span class="s8">=</span><span class="s85">⇒ </span>A<span class="s22">◊ </span>ψ<span class="s8">)</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="217" height="104" alt="image" src="Docs_files/Image_101.png"/></span></p><p class="s142" style="padding-top: 1pt;padding-left: 1pt;text-indent: 0pt;line-height: 7pt;text-align: left;">clock x</p><p style="text-indent: 0pt;text-align: left;"/><p class="s142" style="text-indent: 0pt;text-align: center;">4</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="27" height="36" alt="image" src="Docs_files/Image_102.png"/></span></p><p class="s143" style="text-indent: 0pt;line-height: 7pt;text-align: left;">loop</p><p style="text-indent: 0pt;text-align: left;"/><p class="s131" style="text-indent: 0pt;text-align: right;">x&gt;=2</p><p class="s131" style="padding-left: 50pt;text-indent: 0pt;text-align: right;">reset!</p><p class="s131" style="padding-top: 4pt;padding-left: 50pt;text-indent: 0pt;text-align: right;">reset?</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="71" height="38" alt="image" src="Docs_files/Image_103.png"/></span></p><p class="s22" style="text-indent: 0pt;line-height: 9pt;text-align: left;">‚</p><p class="s22" style="padding-top: 5pt;text-indent: 0pt;text-align: left;">‚</p><p style="text-indent: 0pt;text-align: left;"/><p class="s143" style="text-indent: 0pt;line-height: 7pt;text-align: left;">idle</p><p style="text-indent: 0pt;text-align: left;"/><p class="s143" style="text-indent: 0pt;line-height: 7pt;text-align: left;">taken</p><p style="text-indent: 0pt;text-align: left;"/><p class="s142" style="text-indent: 0pt;line-height: 6pt;text-align: left;">2</p><p style="text-indent: 0pt;text-align: left;"/><p class="s131" style="padding-left: 50pt;text-indent: 0pt;text-align: right;">x:=0</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s142" style="padding-top: 3pt;padding-left: 66pt;text-indent: 0pt;text-align: left;">2    4    6</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s142" style="padding-top: 4pt;padding-left: 25pt;text-indent: 0pt;text-align: left;">8   &quot;time&quot;</p><p class="s8" style="padding-top: 1pt;padding-left: 78pt;text-indent: 0pt;text-align: left;">(a) Test.    (b) Observer.    (c) Behaviour: one possible run.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s8" style="padding-left: 144pt;text-indent: 0pt;text-align: left;">Fig. 5. First example with an observer.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="0" height="4" alt="image" src="Docs_files/Image_104.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="217" height="104" alt="image" src="Docs_files/Image_105.png"/></span></p><p class="s142" style="padding-top: 1pt;padding-left: 1pt;text-indent: 0pt;line-height: 7pt;text-align: left;">clock x</p><p style="text-indent: 0pt;text-align: left;"/><p class="s142" style="text-indent: 0pt;text-align: center;">4</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="27" height="36" alt="image" src="Docs_files/Image_106.png"/></span></p><p class="s143" style="text-indent: 0pt;line-height: 7pt;text-align: left;">loop</p><p style="text-indent: 0pt;text-align: left;"/><p class="s131" style="text-indent: 0pt;line-height: 7pt;text-align: left;">x&gt;=2</p><p class="s131" style="text-indent: 0pt;text-align: left;">reset!</p><p style="text-indent: 0pt;text-align: left;"/><p class="s143" style="text-indent: 0pt;line-height: 7pt;text-align: left;">x&lt;=3</p><p style="text-indent: 0pt;text-align: left;"/><p class="s142" style="text-indent: 0pt;text-align: center;">2</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s142" style="padding-left: 202pt;text-indent: 0pt;text-align: left;">2    4    6    8    &quot;time&quot;</p><p class="s8" style="padding-top: 1pt;padding-left: 118pt;text-indent: 0pt;text-align: left;">(a) Test.  (b) Updated behaviour with an invariant.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s8" style="padding-left: 50pt;text-indent: 0pt;line-height: 106%;text-align: justify;">Fig. 6. Updated example with an invariant. The observer is the same as in Fig. 5 and is not shown here.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 50pt;text-indent: 0pt;text-align: justify;">We update the first model and add an <i>invariant </i>to the location loop, as shown in Fig. 6. The invariant is a progress condition: the system is not allowed to stay in the state more than 3 time units, so that the transition has to be taken and the clock reset in our example. Now the clock x has 3 as an upper bound. The following properties hold:</p></li><li data-list-text="–"><p style="padding-top: 6pt;padding-left: 67pt;text-indent: -10pt;text-align: left;">A[] Obs.taken imply (x&gt;=2 and x&lt;=3) shows that the transition is taken when x is between 2 and 3, i.e., after a delay between 2 and 3.</p></li><li data-list-text="–"><p style="padding-left: 67pt;text-indent: -10pt;text-align: left;">E&lt;&gt; Obs.idle and x&gt;2 : it is possible to take the transition when x is be- tween 2 and 3. The upper bound 3 is checked with the next property.</p></li><li data-list-text="–"><p style="padding-left: 67pt;text-indent: -10pt;line-height: 11pt;text-align: left;">A[] Obs.idle imply x&lt;=3 : to show that the upper bound is respected.</p><p style="padding-top: 6pt;padding-left: 50pt;text-indent: 0pt;text-align: justify;">The former property E&lt;&gt; Obs.idle and x&gt;3 no longer holds.</p><p style="padding-left: 50pt;text-indent: 15pt;text-align: justify;">Now, if we remove the invariant and change the guard to x&gt;=2 and x&lt;=3, you may think that it is the same as before, but it is not! The system has no progress condition, just a new condition on the guard. Figure 7 shows what happens: the system may take the same transitions as before, but deadlock may also occur. The system may be stuck if it does not take the transition after 3 time units. In fact, the system fails the property A[] not deadlock. The property A[] Obs.idle imply x&lt;=3 does not hold any longer and the deadlock can also be illustrated by the property A[] x&gt;3 imply not Obs.taken, i.e., after 3 time units, the transition is not taken any more.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="0" height="4" alt="image" src="Docs_files/Image_107.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="217" height="104" alt="image" src="Docs_files/Image_108.png"/></span></p><p class="s142" style="padding-top: 1pt;padding-left: 1pt;text-indent: 0pt;line-height: 7pt;text-align: left;">clock x</p><p style="text-indent: 0pt;text-align: left;"/><p class="s142" style="text-indent: 0pt;text-align: center;">4</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="32" height="43" alt="image" src="Docs_files/Image_109.png"/></span></p><p class="s144" style="padding-top: 12pt;padding-left: 65pt;text-indent: 0pt;line-height: 13pt;text-align: left;">loop   <span class="s145">x&gt;=2 &amp;&amp; x&lt;=3      </span><span class="s146">2</span></p><p class="s145" style="padding-left: 100pt;text-indent: 0pt;line-height: 9pt;text-align: left;">reset!</p><p class="s142" style="padding-top: 15pt;padding-left: 225pt;text-indent: 0pt;text-align: left;">2    4    6    8    &quot;time&quot;</p><p class="s8" style="padding-top: 1pt;padding-left: 95pt;text-indent: 0pt;text-align: left;">(a) Test.    (b) Updated behaviour with a guard and no invariant.</p><p class="s8" style="padding-top: 10pt;padding-left: 109pt;text-indent: 0pt;text-align: left;">Fig. 7. Updated example with a guard and no invariant.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="171" height="15" alt="image" src="Docs_files/Image_110.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s131" style="padding-left: 20pt;text-indent: 0pt;text-align: left;">x:=0</p><p style="text-indent: 0pt;text-align: left;"/><p class="s143" style="padding-left: 59pt;text-indent: 0pt;text-align: center;">S0        S1        S2</p><p class="s8" style="padding-top: 3pt;padding-left: 138pt;text-indent: 0pt;text-align: left;">P0</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 222pt;text-indent: 0pt;line-height: 1pt;text-align: left;"><span><img width="46" height="2" alt="image" src="Docs_files/Image_111.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="171" height="15" alt="image" src="Docs_files/Image_112.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s131" style="padding-left: 20pt;text-indent: 0pt;text-align: left;">x:=0</p><p style="text-indent: 0pt;text-align: left;"/><p class="s143" style="padding-left: 59pt;text-indent: 0pt;text-align: center;">S0        S1        S2</p><p class="s8" style="padding-top: 3pt;padding-left: 138pt;text-indent: 0pt;text-align: left;">P1</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 222pt;text-indent: 0pt;line-height: 1pt;text-align: left;"><span><img width="46" height="2" alt="image" src="Docs_files/Image_113.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s143" style="padding-left: 59pt;text-indent: 0pt;text-align: center;">S0        S1        S2</p><p class="s8" style="padding-left: 138pt;text-indent: 0pt;text-align: left;">P2   <span><img width="171" height="15" alt="image" src="Docs_files/Image_114.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s8" style="padding-left: 50pt;text-indent: 0pt;line-height: 106%;text-align: justify;">Fig. 8. Automata in parallel with normal, urgent and commit states. The clocks are local, i.e., P0.x and P1.x are two different clocks.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 50pt;text-indent: 0pt;text-align: justify;">Committed and Urgent Locations There are three different types of loca- tions in Uppaal: normal locations with or without invariants (e.g., x&lt;=3 in the previous example), urgent locations, and committed locations. Figure 8 shows 3 automata to illustrate the difference. The location marked u is urgent and the one marked c is committed. The clocks are local to the automata, i.e., x in P0 is different from x in P1.</p><p style="padding-left: 50pt;text-indent: 15pt;text-align: justify;">To understand the difference between normal locations and urgent locations, we can observe that the following properties hold:</p><p style="text-indent: 0pt;text-align: left;"><br/></p></li><li data-list-text="–"><p style="padding-left: 67pt;text-indent: -10pt;text-align: left;">E&lt;&gt; P0.S1 and P0.x&gt;0 : it is possible to wait in S1 of P0.</p></li><li data-list-text="–"><p style="padding-top: 1pt;padding-left: 67pt;text-indent: -10pt;text-align: left;">A[] P1.S1 imply P1.x==0 : it is not possible to wait in S1 of P1.</p></li></ul><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 50pt;text-indent: 0pt;text-align: justify;">An urgent location is equivalent to a location with incoming edges reseting a designated clock y and labelled with the invariant y&lt;=0. Time may not progress in an urgent state, but interleavings with normal states are allowed.</p><p style="padding-left: 50pt;text-indent: 14pt;text-align: justify;">A committed location is more restrictive: in all the states where P2.S1 is active (in our example), the only possible transition is the one that fires the edge outgoing from P2.S1. A <i>state </i>having a committed location active is said to</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-top: 3pt;padding-left: 50pt;text-indent: 0pt;text-align: justify;">be committed: delay is not allowed and the committed location must be left in the successor state (or one of the committed locations if there are several ones).</p><p style="text-indent: 0pt;text-align: left;"><br/></p></li></ol></li><li data-list-text="3"><p class="s1" style="padding-top: 8pt;padding-left: 70pt;text-indent: -20pt;text-align: left;">Overview of the Uppaal Toolkit</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 50pt;text-indent: 0pt;text-align: justify;">Uppaal uses a client-server architecture, splitting the tool into a graphical user interface and a model checking engine. The user interface, or client, is imple- mented in Java and the engine, or server, is compiled for different platforms (Linux, Windows, Solaris).<span class="s84">7</span> As the names suggest, these two components may be run on different machines as they communicate with each other via TCP/IP. There is also a stand-alone version of the engine that can be used on the com- mand line.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><ol id="l26"><li data-list-text="3.1"><p style="padding-top: 8pt;padding-left: 76pt;text-indent: -26pt;text-align: left;">The Java Client</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 50pt;text-indent: 0pt;text-align: justify;">The idea behind the tool is to model a system with timed automata using a graphical editor, simulate it to validate that it behaves as intended, and finally to verify that it is correct with respect to a set of properties. The graphical interface (GUI) of the Java client reflects this idea and is divided into three main parts: the editor, the simulator, and the verifier, accessible via three “tabs”.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-top: 8pt;padding-left: 50pt;text-indent: 0pt;text-align: justify;">The Editor A system is defined as a network of timed automata, called pro- cesses in the tool, put in parallel. A process is instantiated from a parameterised template. The editor is divided into two parts: a tree pane to access the different templates and declarations and a drawing canvas/text editor. Figure 9 shows the editor with the train gate example of section 4. Locations are labelled with names and invariants and edges are labelled with guard conditions (e.g., e==id), synchronisations (e.g., go?), and assignments (e.g., x:=0).</p><p style="padding-left: 50pt;text-indent: 15pt;text-align: justify;">The tree on the left hand side gives access to different parts of the system description:</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 67pt;text-indent: -16pt;text-align: justify;">Global declaration Contains global integer variables, clocks, synchronisation channels, and constants.</p><p style="padding-left: 67pt;text-indent: -16pt;text-align: justify;">Templates Train, Gate, and IntQueue are different parameterised timed au- tomata. A template may have local declarations of variables, channels, and constants.</p><p style="padding-left: 67pt;text-indent: -16pt;text-align: justify;">Process assignments Templates are instantiated into processes. The process assignment section contains declarations for these instances.</p><p style="padding-left: 50pt;text-indent: 0pt;text-align: justify;">System definition The list of processes in the system.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 50pt;text-indent: 15pt;text-align: justify;">The syntax used in the labels and the declarations is described in the help system of the tool. The local and global declarations are shown in Fig. 10. The graphical syntax is directly inspired from the description of timed automata in section 2.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 50pt;text-indent: 0pt;text-align: left;"><span><img width="456" height="324" alt="image" src="Docs_files/Image_115.jpg"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s8" style="padding-top: 3pt;padding-left: 50pt;text-indent: 0pt;line-height: 106%;text-align: justify;">Fig. 9. The train automaton of the train gate example. The <i>select </i>button is activated in the tool-bar. In this mode the user can move locations and edges or edit labels. The other modes are for adding locations, edges, and vertices on edges (called nails). A new location has no name by default. Two text fields allow the user to define the template name and its parameters. Useful trick: The middle mouse button is a shortcut for adding new elements, i.e. pressing it on the canvas, a location, or edge adds a new location, edge, or nail, respectively.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 50pt;text-indent: 0pt;text-align: justify;">The Simulator The simulator can be used in three ways: the user can run the system manually and choose which transitions to take, the random mode can be toggled to let the system run on its own, or the user can go through a trace (saved or imported from the verifier) to see how certain states are reachable. Figure 11 shows the simulator. It is divided into four parts:</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 67pt;text-indent: -16pt;text-align: justify;">The control part is used to choose and fire enabled transitions, go through a trace, and toggle the random simulation.</p><p style="padding-left: 67pt;text-indent: -16pt;text-align: justify;">The variable view shows the values of the integer variables and the clock con- straints. Uppaal does not show concrete states with actual values for the clocks. Since there are infinitely many of such states, Uppaal instead shows sets of concrete states known as symbolic states. All concrete states in a sym- bolic state share the same location vector and the same values for discrete variables. The possible values of the clocks is described by a set of con-</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 50pt;text-indent: 0pt;line-height: 1pt;text-align: left;"><span><img width="76" height="1" alt="image" src="Docs_files/Image_116.png"/></span></p><p class="s42" style="padding-top: 1pt;padding-left: 53pt;text-indent: 0pt;text-align: left;">7<span class="s8"> A version for Mac OS X is in preparation.</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 51pt;text-indent: 0pt;text-align: left;"><span><img width="455" height="261" alt="image" src="Docs_files/Image_117.jpg"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s8" style="padding-top: 3pt;padding-left: 50pt;text-indent: 0pt;line-height: 106%;text-align: justify;">Fig. 10. The different local and global declarations of the train gate example. We superpose several screen-shots of the tool to show the declarations in a compact manner.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-top: 6pt;padding-left: 67pt;text-indent: 0pt;text-align: left;">straints. The clock validation in the symbolic state are exactly those that satisfy all constraints.</p><p style="padding-top: 2pt;padding-left: 67pt;text-indent: -16pt;text-align: left;">The system view shows all instantiated automata and active locations of the current state.</p><p style="padding-top: 2pt;padding-left: 67pt;text-indent: -16pt;text-align: left;">The message sequence chart shows the synchronisations between the differ- ent processes as well as the active locations at every step.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-top: 6pt;padding-left: 50pt;text-indent: 0pt;text-align: justify;">The Verifier The verifier “tab” is shown in Fig. 12. Properties are selectable in the <i>Overview </i>list. The user may model-check one or several properties,<span class="s84">8</span> insert or remove properties, and toggle the view to see the properties or the comments in the list. When a property is selected, it is possible to edit its definition (e.g., E&lt;&gt; Train1.Cross and Train2.Stop . . . ) or comments to document what the property means informally. The <i>Status </i>panel at the bottom shows the commu- nication with the server.</p><p style="padding-top: 2pt;padding-left: 50pt;text-indent: 15pt;text-align: justify;">When trace generation is enabled and the model-checker finds a trace, the user is asked if she wants to import it into the simulator. Satisfied properties are marked green and violated ones red. In case either an over approximation or an under approximation has been selected in the options menu, then it may happen that the verification is inconclusive with the approximation used. In that case the properties are marked yellow.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 50pt;text-indent: 0pt;line-height: 1pt;text-align: left;"><span><img width="76" height="1" alt="image" src="Docs_files/Image_118.png"/></span></p><p class="s42" style="padding-top: 1pt;padding-left: 53pt;text-indent: 0pt;text-align: left;">8<span class="s8"> several properties only if no trace is to be generated.</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 50pt;text-indent: 0pt;text-align: left;"><span><img width="457" height="288" alt="image" src="Docs_files/Image_119.jpg"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s8" style="padding-top: 3pt;padding-left: 50pt;text-indent: 0pt;line-height: 106%;text-align: justify;">Fig. 11. View of the simulator tab for the train gate example. The interpretation of the constraint system in the variable panel depends on whether a transition in the transition panel is selected or not. If no transition is selected, then the constrain system shows all possible clock valuations that can be reached along the path. If a transition is selected, then only those clock valuations from which the transition can be taken are shown. Keyboard bindings for navigating the simulator without the mouse can be found in the integrated help system.</p><p style="text-indent: 0pt;text-align: left;"><br/></p></li><li data-list-text="3.2"><p style="padding-left: 76pt;text-indent: -26pt;text-align: left;">The Stand-alone Verifier</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 50pt;text-indent: 0pt;text-align: justify;">When running large verification tasks, it is often cumbersome to execute these from inside the GUI. For such situations, the stand-alone command line verifier called verifyta is more appropriate. It also makes it easy to run the verification on a remote UNIX machine with memory to spare. It accepts command line arguments for all options available in the GUI, see Table 3 in the appendix.</p><p style="text-indent: 0pt;text-align: left;"><br/></p></li></ol></li><li data-list-text="4"><p class="s1" style="padding-top: 7pt;padding-left: 70pt;text-indent: -20pt;text-align: left;">Example 1: The Train Gate</p><p style="text-indent: 0pt;text-align: left;"><br/></p><ol id="l27"><li data-list-text="4.1"><p style="padding-left: 76pt;text-indent: -26pt;text-align: left;">Description</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 50pt;text-indent: 0pt;text-align: justify;">The train gate example is distributed with Uppaal. It is a railway control system which controls access to a bridge for several trains. The bridge is a critical shared resource that may be accessed only by one train at a time. The system is defined as a number of trains (assume 4 for this example) and a controller. A train can not be stopped instantly and restarting also takes time. Therefor, there are timing constraints on the trains before entering the bridge. When approaching,</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 50pt;text-indent: 0pt;text-align: left;"><span><img width="457" height="288" alt="image" src="Docs_files/Image_120.jpg"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s8" style="padding-top: 3pt;padding-left: 94pt;text-indent: 0pt;text-align: left;">Fig. 12. View of the verification tab for the train gate example.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 50pt;text-indent: 0pt;text-align: justify;">a train sends a appr! signal. Thereafter, it has 10 time units to receive a stop signal. This allows it to stop safely before the bridge. After these 10 time units, it takes further 10 time units to reach the bridge if the train is not stopped. If a train is stopped, it resumes its course when the controller sends a go! signal to it after a previous train has left the bridge and sent a leave! signal. Figures 13 and 14 show two situations.</p><p style="text-indent: 0pt;text-align: left;"><br/></p></li><li data-list-text="4.2"><p style="padding-left: 76pt;text-indent: -26pt;text-align: left;">Modelling in Uppaal</p><p style="padding-top: 7pt;padding-left: 50pt;text-indent: 0pt;text-align: justify;">The model of the train gate has three templates:</p><p style="padding-top: 7pt;padding-left: 50pt;text-indent: 0pt;text-align: justify;">Train is the model of a train, shown in Fig. 9.</p><p style="padding-left: 50pt;text-indent: 0pt;text-align: justify;">Gate is the model of the gate controller, shown in Fig. 15.</p><p style="padding-left: 67pt;text-indent: -16pt;text-align: justify;">IntQueue is the model of the queue of the controller, shown in Fig. 16. It is simpler to separate the queue from the controller, which makes it easier to get the model right.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 50pt;text-indent: 0pt;text-align: justify;">The Template of the Train The template in Fig. 9 has five locations: Safe, Appr, Stop, Start, and Cross. The initial location is Safe, which corresponds to a train not approaching yet. The location has no invariant, which means that a train may stay in this location an unlimited amount of time. When a train is approaching, it synchronises with the controller. This is done by the channel synchronisation appr! on the transition to Appr. The controller has a corresponding appr?. The clock x is reset and the parameterised variable e is set</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="50" height="15" alt="image" src="Docs_files/Image_121.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="321" height="166" alt="image" src="Docs_files/Image_122.png"/></span></p><p class="s147" style="padding-left: 91pt;text-indent: -91pt;line-height: 89%;text-align: left;">Approaching. Can be stopped. Cannot be stopped in  Crossing time.</p><p class="s147" style="padding-left: 49pt;text-indent: 0pt;line-height: 7pt;text-align: left;">10           10       3..5</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s147" style="padding-left: 25pt;text-indent: 0pt;text-align: left;">(stopping)</p><p style="text-indent: 0pt;text-align: left;"/><p class="s147" style="text-indent: 0pt;line-height: 7pt;text-align: left;">(stopped)</p><p style="text-indent: 0pt;text-align: left;"/><p class="s148" style="padding-left: 2pt;text-indent: 0pt;line-height: 7pt;text-align: left;">Controller</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s147" style="padding-top: 5pt;text-indent: 0pt;text-align: left;">stop! to train2</p><p style="text-indent: 0pt;text-align: left;"/><p class="s148" style="padding-top: 1pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">train1</p><p style="text-indent: 0pt;text-align: left;"/><p class="s148" style="padding-top: 1pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">train4</p><p style="text-indent: 0pt;text-align: left;"/><p class="s148" style="padding-top: 1pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">train3</p><p style="text-indent: 0pt;text-align: left;"/><p class="s148" style="padding-top: 1pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">train2</p><p style="text-indent: 0pt;text-align: left;"/><p class="s147" style="padding-left: 111pt;text-indent: 0pt;text-align: left;">train1:appr!</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s8" style="padding-top: 3pt;padding-left: 50pt;text-indent: 0pt;line-height: 106%;text-align: justify;">Fig. 13. Train gate example: train4 is about to cross the bridge, train3 is stopped, train2 was ordered to stop and is stopping. Train1 is approaching and sends an appr! signal to the controller that sends back a stop! signal. The different sections have timing constraints (10, 10, between 3 and 5).</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 50pt;text-indent: 0pt;text-align: justify;">to the identity of this train. This variable is used by the queue and the controller to know which train is allowed to continue or which trains must be stopped and later restarted.</p><p style="padding-top: 5pt;padding-left: 50pt;text-indent: 15pt;text-align: justify;">The location Appr has the invariant <span class="s93">x </span><span class="s94">≤ </span>20, which has the effect that the location must be left within 20 time units. The two outgoing transitions are guarded by the constraints <span class="s93">x </span><span class="s94">≤ </span>10 and <span class="s93">x </span><span class="s94">≥ </span>10, which corresponds to the two sections before the bridge: can be stopped and can not be stopped. At exactly 10, both transitions are enabled, which allows us to take into account any race conditions if there is one. If the train can be stopped (<span class="s93">x </span><span class="s94">≤ </span>10) then the transition to the location Stop is taken, otherwise the train goes to location Cross. The transition to Stop is also guarded by the condition <span class="s93">e </span>== <span class="s93">id </span>and is synchronised with stop?. When the controller decides to stop a train, it decides which one (sets e) and synchronises with stop!.</p><p style="padding-top: 6pt;padding-left: 50pt;text-indent: 15pt;text-align: justify;">The location Stop has no invariant: a train may be stopped for an unlimited amount of time. It waits for the synchronisation go?. The guard <span class="s93">e </span>== <span class="s93">id </span>ensures that the right train is restarted. The model is simplified here compared to the version described in [60], namely the slowdown phase is not modelled explicitly. We can assume that a train may receive a go? synchronisation even when it is not stopped completely, which will give a non-deterministic restarting time.</p><p style="padding-top: 5pt;padding-left: 50pt;text-indent: 15pt;line-height: 94%;text-align: justify;">The location Start has the invariant <span class="s93">x </span><span class="s94">≤ </span>15 and its outgoing transition has the constraint <span class="s93">x </span><span class="s94">≥ </span>7. This means that a train is restarted and reaches the crossing section between 7 and 15 time units non-deterministically.</p><p style="padding-top: 7pt;padding-left: 50pt;text-indent: 15pt;text-align: justify;">The location Cross is similar to Start in the sense that it is left between 3 and 5 time units after entering it.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="50" height="15" alt="image" src="Docs_files/Image_123.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="320" height="156" alt="image" src="Docs_files/Image_124.png"/></span></p><p class="s147" style="text-indent: 0pt;line-height: 7pt;text-align: left;">(stopped)</p><p style="text-indent: 0pt;text-align: left;"/><p class="s147" style="text-indent: 0pt;line-height: 7pt;text-align: left;">(restarting)</p><p style="text-indent: 0pt;text-align: left;"/><p class="s147" style="padding-left: 21pt;text-indent: 0pt;line-height: 7pt;text-align: left;">train4:leave!</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s148" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Controller</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s147" style="padding-top: 5pt;text-indent: 0pt;text-align: left;">go! to train3</p><p style="text-indent: 0pt;text-align: left;"/><p class="s148" style="padding-top: 1pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">train3</p><p style="text-indent: 0pt;text-align: left;"/><p class="s148" style="padding-top: 1pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">train4</p><p style="text-indent: 0pt;text-align: left;"/><p class="s148" style="padding-top: 1pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">train2</p><p style="text-indent: 0pt;text-align: left;"/><p class="s148" style="padding-top: 1pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">train1</p><p style="text-indent: 0pt;text-align: left;"/><p class="s147" style="padding-top: 4pt;padding-bottom: 1pt;padding-left: 140pt;text-indent: 0pt;text-align: left;">(stopping)</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s8" style="padding-top: 3pt;padding-left: 50pt;text-indent: 0pt;line-height: 106%;text-align: justify;">Fig. 14. Now train4 has crossed the bridge and sends a leave! signal. The controller can now let train3 cross the bridge with a go! signal. Train2 is now waiting and train1 is stopping.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 50pt;text-indent: 0pt;text-align: justify;">The Template of the Gate The gate controller in Fig. 15 synchronises with the queue and the trains. Some of its locations do not have names. Typically, they are committed locations (marked with a c).</p><p style="padding-left: 50pt;text-indent: 15pt;text-align: justify;">The controller starts in the Free location (i.e., the bridge is free), where it tests the queue to see if it is empty or not. If the queue is empty then the controller waits for approaching trains (next location) with the appr? synchro- nisation. When a train is approaching, it is added to the queue with the add! synchronisation. If the queue is not empty, then the first train on the queue (read by hd!) is restarted with the go! synchronisation.</p><p style="padding-left: 50pt;text-indent: 15pt;text-align: justify;">In the Occ location, the controller essentially waits for the running train to leave the bridge (leave?). If other trains are approaching (appr?), they are stopped (stop!) and added to the queue (add!). When a train leaves the bridge, the controller removes it from the queue with the rem? synchronisation.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 50pt;text-indent: 0pt;text-align: justify;">The Template of the Queue The queue in Fig. 16 has essentially one location Start where it is waiting for commands from the controller. The Shiftdown location is used to compute a shift of the queue (necessary when the front element is removed). This template uses an array of integers and handles it as a FIFO queue.</p><p style="text-indent: 0pt;text-align: left;"><br/></p></li><li data-list-text="4.3"><p style="padding-left: 76pt;text-indent: -26pt;text-align: left;">Verification</p><p style="padding-top: 7pt;padding-left: 50pt;text-indent: 0pt;text-align: justify;">We check simple reachability, safety, and liveness properties, and for absence of deadlock. The simple reachability properties check if a given location is reach- able:</p><ul id="l28"><li data-list-text="–"><p style="padding-top: 6pt;padding-left: 67pt;text-indent: -10pt;text-align: left;">E&lt;&gt; Gate.Occ: the gate can receive and store messages from approaching trains in the queue.</p></li><li data-list-text="–"><p style="padding-left: 67pt;text-indent: -10pt;text-align: left;">E&lt;&gt; Train1.Cross: train 1 can cross the bridge. We check similar properties for the other trains.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="156" height="224" alt="image" src="Docs_files/Image_125.png"/></span></p><p class="s145" style="padding-left: 50pt;text-indent: 0pt;text-align: right;">notempty?</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s145" style="padding-left: 50pt;text-indent: 0pt;text-align: right;">empty?</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s149" style="padding-left: 14pt;text-indent: 0pt;text-align: left;">Free</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s145" style="text-indent: 0pt;text-align: left;">rem?</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s145" style="padding-top: 4pt;padding-left: 50pt;text-indent: 0pt;text-align: right;">hd!</p><p class="s145" style="padding-top: 6pt;padding-left: 30pt;text-indent: 0pt;text-align: left;">appr?</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s149" style="padding-left: 11pt;text-indent: 0pt;text-align: left;">add1</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s149" style="padding-top: 7pt;padding-left: 50pt;text-indent: 0pt;text-align: right;">Send</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s145" style="padding-left: 7pt;text-indent: 0pt;text-align: left;">go!</p><p class="s145" style="padding-top: 4pt;padding-left: 9pt;text-indent: 0pt;text-align: left;">add!</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s145" style="padding-left: 23pt;text-indent: 0pt;text-align: left;">leave?</p><p class="s149" style="padding-top: 4pt;padding-left: 14pt;text-indent: 0pt;text-align: left;">Occ</p><p class="s145" style="padding-top: 4pt;padding-left: 50pt;text-indent: 0pt;text-align: right;">appr?</p><p class="s145" style="padding-top: 4pt;padding-left: 47pt;text-indent: 0pt;text-align: left;">add!</p><p class="s149" style="padding-top: 4pt;padding-left: 58pt;text-indent: 0pt;text-align: left;">add2</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s145" style="padding-left: 52pt;text-indent: 0pt;text-align: center;">stop!</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s8" style="padding-top: 3pt;padding-left: 136pt;text-indent: 0pt;text-align: left;">Fig. 15. Gate automaton of the train gate.</p><p style="text-indent: 0pt;text-align: left;"><br/></p></li><li data-list-text="–"><p style="padding-left: 67pt;text-indent: -10pt;text-align: justify;">E&lt;&gt; Train1.Cross and Train2.Stop: train 1 can be crossing the bridge while train 2 is waiting to cross. We check for similar properties for the other trains.</p></li><li data-list-text="–"><p style="padding-left: 67pt;text-indent: -10pt;text-align: justify;">E&lt;&gt; Train1.Cross &amp;&amp; Train2.Stop &amp;&amp; Train3.Stop &amp;&amp; Train4.Stop is similar to the previous property, with all the other trains waiting to cross the bridge. We have similar properties for the other trains.</p><p style="padding-top: 6pt;padding-left: 50pt;text-indent: 0pt;text-align: left;">The following safety properties must hold for all reachable states:</p></li><li data-list-text="–"><p class="s8" style="padding-top: 7pt;padding-left: 67pt;text-indent: -10pt;text-align: justify;">A[] Train1.Cross+Train2.Cross+Train3.Cross+Train4.Cross&lt;=1<span class="s150">. There is not more than one train crossing the bridge at any time. This expression uses the fact that Train1.Cross evaluates to true or false, i.e., 1 or 0.</span></p></li><li data-list-text="–"><p style="padding-left: 67pt;text-indent: -10pt;text-align: justify;">A[] Queue.list[N-1] == 0: there can never be N elements in the queue, i.e., the array will never overflow. Actually, the model defines N as the num- ber of trains + 1 to check for this property. It is possible to use a queue length matching the number of trains and check for this property instead: A[] (Gate.add1 or Gate.add2) imply Queue.len &lt; N-1 where the loca- tions add1 and add2 are the only locations in the model from which add! is possible.</p><p style="padding-top: 6pt;padding-left: 50pt;text-indent: 15pt;text-align: justify;">The liveness properties are of the form Train1.Appr --&gt; Train1.Cross: whenever train 1 approaches the bridge, it will eventually cross, and similarly for the other trains. Finally, to check that the system is deadlock-free, we verify the property A[] not deadlock.</p><p style="padding-left: 50pt;text-indent: 15pt;text-align: justify;">Suppose that we made a mistake in the queue, namely we wrote e:=list[1] in the template IntQueue instead of e:=list[0] when reading the head on the transition synchronised with hd?. We could have been confused when thinking in terms of indexes. It is interesting to note that the properties still hold, except</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s10" style="padding-top: 6pt;padding-left: 150pt;text-indent: 4pt;line-height: 153%;text-align: left;">notempty! len&gt;0</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s10" style="text-indent: 0pt;text-align: right;">empty! len==0</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s10" style="padding-left: 21pt;text-indent: 0pt;text-align: left;">add?</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s10" style="padding-left: 13pt;text-indent: 0pt;line-height: 113%;text-align: left;">list[len]:=e, len++</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="125" height="169" alt="image" src="Docs_files/Image_126.png"/></span></p><p class="s151" style="padding-top: 6pt;padding-left: 13pt;text-indent: 0pt;text-align: left;">Start</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s10" style="padding-left: 5pt;text-indent: -4pt;line-height: 153%;text-align: left;">e:=list[0] hd?</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s10" style="padding-left: 158pt;text-indent: 0pt;text-align: left;">rem! len&gt;=1 len--,</p><p class="s10" style="padding-left: 158pt;text-indent: 0pt;text-align: left;">i := 0</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s10" style="padding-left: 63pt;text-indent: 0pt;text-align: left;">len==i</p><p class="s10" style="padding-left: 63pt;text-indent: 0pt;text-align: left;">list[i] := 0, i := 0</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s151" style="padding-top: 6pt;padding-left: 55pt;text-indent: 0pt;text-align: left;">Shiftdown</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s10" style="padding-left: 195pt;text-indent: 0pt;line-height: 113%;text-align: center;">i &lt; len list[i]:=list[i+1], i++</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s8" style="padding-top: 3pt;padding-left: 50pt;text-indent: 0pt;text-align: justify;">Fig. 16. Queue automaton of the train gate. The template is parameterised with</p><p class="s8" style="padding-left: 50pt;text-indent: 0pt;text-align: justify;">int[0,n] e.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 50pt;text-indent: 0pt;text-align: justify;">the liveness ones. The verification gives a counter-example showing what may happen: a train may cross the bridge but the next trains will have to stop. When the queue is shifted the train that starts again is never the first one, thus the train at the head of the queue is stuck and can never cross the bridge.</p><p style="text-indent: 0pt;text-align: left;"><br/></p></li></ul></li></ol></li><li data-list-text="5"><p class="s1" style="padding-left: 70pt;text-indent: -20pt;text-align: left;">Example 2: Fischer’s Protocol</p><ol id="l29"><li data-list-text="5.1"><p style="padding-top: 9pt;padding-left: 76pt;text-indent: -26pt;text-align: left;">Description</p><p style="padding-top: 6pt;padding-left: 50pt;text-indent: 0pt;text-align: justify;">Fischer’s protocol is a well-known mutual exclusion protocol designed for <span class="s93">n </span>pro- cesses. It is a timed protocol where the concurrent processes check for both a delay and their turn to enter the critical section using a shared variable id.</p><p style="text-indent: 0pt;text-align: left;"><br/></p></li><li data-list-text="5.2"><p style="padding-left: 76pt;text-indent: -26pt;text-align: left;">Modelling in Uppaal</p><p style="padding-top: 6pt;padding-left: 50pt;text-indent: 0pt;text-align: justify;">The automaton of the protocol is given in Fig. 17. Starting from the initial location (marked with a double circle), processes go to a request location, req, if id==0, which checks that it is the turn for no process to enter the critical section. Processes stay non-deterministically between 0 and k time units in req, and then go to the wait location and set id to their process ID (pid). There it must wait at least k time units, x&gt;k, k being a constant (2 here), before entering the critical section CS if it is its turn, id==pid. The protocol is based on the fact that after (strict) k time units with id different from 0, all the processes that want to enter the critical section are waiting to enter the critical section as well, but only one has the right ID. Upon exiting the critical section, processes reset id to allow other processes to enter CS. When processes are waiting, they may retry when another process exits CS by returning to req.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s145" style="padding-left: 50pt;text-indent: 0pt;text-align: right;">id== 0  x:= 0</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s149" style="padding-left: 12pt;text-indent: 0pt;line-height: 9pt;text-align: left;">req</p><p style="text-indent: 0pt;text-align: left;"><span><img width="142" height="109" alt="image" src="Docs_files/Image_127.png"/></span></p><p class="s149" style="padding-left: 25pt;text-indent: 0pt;line-height: 9pt;text-align: left;">x&lt;=k</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s145" style="padding-left: 50pt;text-indent: 0pt;text-align: right;">id:= 0</p><p class="s145" style="padding-top: 4pt;padding-left: 52pt;text-indent: 0pt;text-align: left;">x&lt;=k</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s145" style="padding-left: 52pt;text-indent: 0pt;text-align: left;">x:= 0,</p><p class="s145" style="padding-top: 1pt;padding-left: 52pt;text-indent: 0pt;text-align: left;">id:= pid</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s145" style="padding-left: 38pt;text-indent: 0pt;text-align: left;">x:= 0</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s145" style="padding-left: 38pt;text-indent: 0pt;text-align: left;">id== 0</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s152" style="padding-left: 50pt;text-indent: 0pt;text-align: right;">cs  <span class="s145">x&gt;k, id==pid</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s149" style="padding-left: 22pt;text-indent: 0pt;text-align: left;">wait</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s8" style="padding-top: 3pt;padding-left: 50pt;text-indent: 0pt;line-height: 106%;text-align: justify;">Fig. 17. Template of Fischer’s protocol. The parameter of the template is const pid. The template has the local declarations clock x; const k 2;.</p><p style="text-indent: 0pt;text-align: left;"><br/></p></li><li data-list-text="5.3"><p style="padding-left: 76pt;text-indent: -26pt;text-align: left;">Verification</p><p style="padding-top: 7pt;padding-left: 50pt;text-indent: 0pt;text-align: justify;">The safety property of the protocol is to check for mutual exclusion of the loca- tion CS: A[] P1.cs + P2.cs + P3.cs + P4.cs &lt;= 1. This property uses the trick that these tests evaluate to true or false, i.e., 0 or 1. We check that the system is deadlock-free with the property A[] not deadlock.</p><p style="padding-left: 50pt;text-indent: 15pt;text-align: justify;">The liveness properties are of the form P1.req --&gt; P1.wait and similarly for the other processes. They check that whenever a process tries to enter the critical section, it will always eventually enter the waiting location. Intuitively, the reader would also expect the property P1.req --&gt; P1.cs that similarly states that the critical section is eventually reachable. However, this property is violated. The interpretation is that the process is allowed to stay in wait for ever, thus there is a way to avoid the critical section.</p><p class="s94" style="padding-left: 50pt;text-indent: 15pt;text-align: justify;"><span class="p">Now, if we try to fix the model and add the invariant x &lt;= 2*k to the wait location, the property P1.req --&gt; P1.cs still does not hold because it is possible to reach a deadlock state where P1.wait is active, thus there is a path that does not lead to the critical section. The deadlock is as follows: P1.wait with 0 </span>≤ <span class="s93">x </span>≤ <span class="p">2 and P4.wait with 2 </span>≤ <span class="s93">x </span>≤ <span class="p">4. Delay is forbidden in this state, due to the invariant on P4.wait and P4.wait can not be left because </span><span class="s93">id </span><span class="p">== 1.</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p></li></ol></li><li data-list-text="6"><p class="s1" style="padding-top: 5pt;padding-left: 70pt;text-indent: -20pt;text-align: left;">Example 3: The Gossiping Girls</p><p style="text-indent: 0pt;text-align: left;"><br/></p><ol id="l30"><li data-list-text="6.1"><p style="padding-left: 76pt;text-indent: -26pt;text-align: left;">Description</p><p style="padding-top: 7pt;padding-left: 50pt;text-indent: 0pt;text-align: justify;">Let <span class="s93">n </span>girls have each a private secret they wish to share with each other. Every girl can call another girl and after a conversation, both girls know mutually all their secrets. The problem is to find out how many calls are necessary so that all the girls know all the secrets. A variant of the problem is to add time to conversations and ask how much time is necessary to exchange all the secrets, allowing concurrent calls.</p><p style="padding-left: 50pt;text-indent: 15pt;text-align: justify;">The basic formulation of the problem is not timed and is typically a combi- natorial problem with a string of <span class="s93">n </span>bits that may take (at most) 2<i>n</i><i> </i>values for</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s31" style="text-indent: 0pt;line-height: 4pt;text-align: right;">2</p><p style="padding-left: 50pt;text-indent: 0pt;line-height: 10pt;text-align: justify;">every girl. That means we have in total a string of <span class="s93">n</span><span class="s84">2</span> bits taking 2<i>n</i><i> </i>values (in</p><p style="padding-left: 50pt;text-indent: 0pt;text-align: justify;">product with other states of the system).</p><p style="text-indent: 0pt;text-align: left;"><br/></p></li><li data-list-text="6.2"><p style="padding-top: 8pt;padding-left: 76pt;text-indent: -26pt;text-align: left;">Modelling in Uppaal</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 50pt;text-indent: 0pt;text-align: justify;"><a href="http://www.cs.aau.dk/%7Eadavid/UPPAAL-tutorial/" class="s2" target="_blank">We face choices regarding the representation of the secrets and where to store them. One way is to use one integer and manually set or reset its bits using arithmetic operations. Although the size of the system is limited by the size of the integers, a quick complexity evaluation shows that the state-space explodes too quicly anyway so this is not really a limitation. Another way is to use an array of booleans. The solution with the integer sounds like hacking and in fact it is so specialized that we will have problem to refine the model later. The model with booleans is certainly more readable, which is desirable for formal verification. The second choice is where to store the messages: in one big shared table locally with every girl process. The referenced models are available at </a><a href="http://www.cs.aau.dk/%7Eadavid/UPPAAL-tutorial/" class="s153" target="_blank">http://www.cs.aau.dk/</a><a href="http://www.cs.aau.dk/%7Eadavid/UPPAAL-tutorial/" class="s2" target="_blank">~</a><a href="http://www.cs.aau.dk/%7Eadavid/UPPAAL-tutorial/" class="s153" target="_blank">adavid/UPPAAL-tutorial/</a><a href="http://www.cs.aau.dk/%7Eadavid/UPPAAL-tutorial/" class="s2" target="_blank">.</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s87" style="padding-left: 50pt;text-indent: 0pt;text-align: justify;">Generic Declarations <span class="p">The global declaration contains:</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 50pt;text-indent: 0pt;text-align: justify;">const int GIRLS = 4;</p><p style="padding-left: 50pt;text-indent: 0pt;text-align: left;">typedef int[0,GIRLS-1] girl_t; chan phone[girl_t], reply[girl_t];</p><p style="padding-top: 8pt;padding-left: 50pt;text-indent: 0pt;text-align: right;">This allows us to scale the model easily. Notice that it is possible to declare that arrays of channels are indexed by a given type, which implicitely gives them the right size. This is necessary to use symmetry reduction through <i>scalar </i>sets later.</p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Docs_files/Image_128.png"/></span></p><p style="padding-left: 50pt;text-indent: 15pt;text-align: justify;">The girl process is named Girl and has girl t id as parameter. Every girl has a different ID. The <i>system </i>declaration is simply: system Girl;. This makes use of the <i>auto-instantiation </i>feature of Uppaal. All instances of the template Girl ranging over its parameters are generated. The number of instances is controlled by the constant GIRLS.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s87" style="padding-left: 50pt;text-indent: 0pt;text-align: justify;">Flexible Modelling <span class="p">We declare three local functions to the template Girl. Notice that they have access to the parameter id. These functions are used to initialize the template (start()) with a unique secret and to send and receive secrets to other templates (talk() and listen()). We can change these functions but still keep the same model, which makes the model flexible.</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s87" style="padding-left: 50pt;text-indent: 0pt;text-align: left;">Integers <span class="p">The encoding with integers has meta int tmp; added to the global dec- larations and the following to the local declaration of the template Girl:</span></p><p style="padding-top: 9pt;padding-left: 50pt;text-indent: 0pt;text-align: left;">girl_t g; int secrets;</p><p style="padding-left: 50pt;text-indent: 0pt;text-align: left;">void start()  { secrets = 1 &lt;&lt; id; } void talk()  { tmp = secrets; } void listen() { secrets |= tmp; }</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-top: 3pt;padding-left: 50pt;text-indent: 0pt;text-align: justify;">Initialization is done by setting bit <i>id </i>to one. The initial committed location ensures all girls are initialized before they start to exchange secrets. Then we have a standard message passing using a shared variable with the receiver merging the secrets sent with her own (logical or). The shared variable is declared <i>meta</i>, which means it is a special temporary variable <i>not </i>part of the state, i.e., <i>never </i>refer to such a variable between two states. We assume that these functions are used with channel synchronization.</p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Docs_files/Image_129.png"/></span></p><p class="s87" style="padding-top: 8pt;padding-left: 50pt;text-indent: 0pt;text-align: justify;">Booleans <span class="p">The encoding with booleans has meta bool tmp[girl t]; added to the global declarations and the following to the local declarations of the template Girl:</span></p><p style="padding-top: 4pt;padding-left: 50pt;text-indent: 0pt;text-align: justify;">girl_t g;</p><p style="padding-left: 50pt;text-indent: 0pt;text-align: justify;">bool secrets[girl_t];</p><p style="padding-left: 50pt;text-indent: 0pt;text-align: justify;">void start()  { secrets[id] = true; } void talk()  { tmp = secrets; }</p><p style="padding-left: 50pt;text-indent: 0pt;line-height: 11pt;text-align: justify;">void listen() { for(i:girl_t) secrets[i] |= tmp[i]; }</p><p style="padding-top: 5pt;padding-left: 50pt;text-indent: 0pt;text-align: justify;">In this version we use assignment between arrays for talk(). The function listen() uses an iterator. The automaton for models gossip0.xml (with integers) and gossip1.xml (with booleans) is given in Fig. 18. This first attempt captures the fact that we want the model to be symmetric with respect to sending and receiv- ing and is quite natural with symmetric uses of talk() and listen(). The local variable g records which other girl is a given template communicating with. The sender selects its receiver and the receiver its sender.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="169" height="158" alt="image" src="Docs_files/Image_130.png"/></span></p><p class="s154" style="padding-left: 225pt;text-indent: 0pt;text-align: left;">start()</p><p class="s155" style="padding-top: 3pt;padding-left: 229pt;text-indent: 0pt;text-align: left;">Ringing</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s154" style="padding-top: 4pt;padding-left: 172pt;text-indent: 0pt;text-align: left;">j : girl_t</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s154" style="padding-left: 172pt;text-indent: 0pt;line-height: 8pt;text-align: left;">phone[j]?</p><p class="s154" style="padding-left: 172pt;text-indent: 0pt;line-height: 87%;text-align: left;">listen(), g = j</p><p class="s154" style="padding-top: 5pt;padding-left: 50pt;text-indent: 0pt;text-align: left;">j : girl_t id != j phone[j]! g = j, talk()</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s156" style="padding-left: 156pt;text-indent: 0pt;line-height: 10pt;text-align: left;">reply[g]! <span class="s155">Reply   Listen</span></p><p class="s154" style="padding-left: 156pt;text-indent: 0pt;line-height: 6pt;text-align: left;">talk()</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s154" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">reply[g]? listen()</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s8" style="padding-top: 3pt;padding-left: 111pt;text-indent: 0pt;text-align: left;">Fig. 18. First attempt for modelling the gossiping girls.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 65pt;text-indent: 0pt;text-align: left;">Let us first improve the model on three points:</p><ol id="l31"><li data-list-text="1."><p style="padding-top: 4pt;padding-left: 67pt;text-indent: -12pt;text-align: left;">The intermediate state Listen should be made committed otherwise all in- terleaving of half-started and complete calls will occur.</p></li><li data-list-text="2."><p style="padding-left: 67pt;text-indent: -12pt;line-height: 11pt;text-align: left;">One select is enough because we are modelling something else here, namely</p><p style="padding-left: 67pt;text-indent: 0pt;text-align: left;">girl id selects a channel j and <i>any other </i>girl that selects the same channel can communicate with id.</p><p style="text-indent: 0pt;text-align: left;"><br/></p></li><li data-list-text="3."><p style="padding-top: 3pt;padding-left: 67pt;text-indent: -12pt;text-align: justify;">The local variable g contributes badly to the state-space when its value is not relevant, i.e., the previous communication does not need to be kept. We can set it in a symmetric manner upon the start and reset it after communication to id.</p></li></ol><p style="padding-top: 8pt;padding-left: 50pt;text-indent: 0pt;text-align: left;">These are typical “optimizations” of a model: Avoid useless interleavings by using committed locations, make sure you model exactly what you need and not more,</p><p style="padding-left: 50pt;text-indent: 0pt;text-align: left;">and “active variable reduction”. The updated model (gossip2.xml/integers, gossip3.xml/booleans) is shown in Fig. 19. The template keeps as an invariant that the variable g is</p><p style="padding-left: 50pt;text-indent: 0pt;text-align: justify;">always equal to id whenever it is not sending. In addition, when a channel j is selected, then it corresponds to exactly girl j. Only one committed location is enough but it is a good practice to mark them both. It is more explicit when we read the model. Since the model performs better, we can now check with 5 girls instead of 4 within roughly the same time, which is a very good improvement considering the exponential complexity of the model.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="169" height="158" alt="image" src="Docs_files/Image_131.png"/></span></p><p class="s154" style="padding-left: 225pt;text-indent: 0pt;line-height: 87%;text-align: left;">start(), g = id</p><p class="s155" style="padding-top: 1pt;padding-left: 229pt;text-indent: 0pt;text-align: left;">Ringing</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s154" style="padding-left: 172pt;text-indent: 0pt;text-align: left;">phone[id]? listen()</p><p class="s154" style="padding-top: 5pt;padding-left: 46pt;text-indent: 0pt;text-align: left;">j : girl_t id != j phone[j]! g = j, talk()</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s156" style="padding-left: 156pt;text-indent: 0pt;line-height: 10pt;text-align: left;">reply[id]! <span class="s155">Reply   Listen</span></p><p class="s154" style="padding-left: 156pt;text-indent: 0pt;line-height: 6pt;text-align: left;">talk()</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s154" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">reply[g]?</p><p class="s154" style="padding-left: 5pt;text-indent: 0pt;line-height: 87%;text-align: left;">listen(), g = id</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s8" style="padding-top: 3pt;padding-left: 128pt;text-indent: 0pt;text-align: left;">Fig. 19. Improved model of the gossiping girls.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s87" style="padding-left: 50pt;text-indent: 0pt;text-align: right;">Optimizing Further <span class="p">We can abstract which communication line is used by declar- ing only one channel chan call. Since the semantics says that any pair of enabled edges (call!,call?) can be taken, we do not need to make an extra select. In addi- tion, processes cannot synchronize with themselves so we do not need this check either. The downside is that we lose the information on the receiver from the sender point of view. We do not need this in our case. We can get rid of the local variable g as well. We could use the sequence talk()-listen()-talk()-listen() with the old functions but we can simplify these by merging the middle listen()-talk() into one and simplifying listen() to a simple assignment since we know that the message already contains the secrets sent. The global declaration is updated with only chan call; for the channel. The updated automaton is depicted in Fig. 20. The </span>integer <span class="p">version of the model (gossip4.xml) has the following local func-</span></p><p style="padding-left: 50pt;text-indent: 0pt;text-align: left;">tions:</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="169" height="158" alt="image" src="Docs_files/Image_132.png"/></span></p><p class="s154" style="text-indent: 0pt;line-height: 8pt;text-align: left;">start()</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s155" style="padding-left: 4pt;text-indent: 0pt;line-height: 8pt;text-align: left;">Ringing</p><p style="text-indent: 0pt;text-align: left;"/><p class="s154" style="text-indent: 24pt;text-align: left;">call? exchange()</p><p style="text-indent: 0pt;text-align: left;"/><p class="s154" style="text-indent: 0pt;text-align: left;">call! talk()</p><p style="text-indent: 0pt;text-align: left;"/><p class="s155" style="text-indent: 0pt;line-height: 8pt;text-align: left;">Listen</p><p style="text-indent: 0pt;text-align: left;"/><p class="s154" style="text-indent: 0pt;line-height: 8pt;text-align: left;">listen()</p><p style="text-indent: 0pt;text-align: left;"/><p class="s8" style="padding-top: 3pt;padding-left: 126pt;text-indent: 0pt;text-align: left;">Fig. 20. Optimized model of the gossiping girls.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 50pt;text-indent: 0pt;text-align: left;">int secrets;</p><p style="padding-left: 50pt;text-indent: 0pt;text-align: left;">void start()   { secrets = 1 &lt;&lt; id; } void talk()   { tmp = secrets; }</p><p style="padding-left: 50pt;text-indent: 0pt;text-align: left;">void exchange() { secrets = (tmp |= secrets); } void listen()  { secrets = tmp; }</p><p style="padding-top: 8pt;padding-left: 65pt;text-indent: 0pt;text-align: left;">The <i>boolean </i>version of the model (gossip5.xml) is changed to:</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 50pt;text-indent: 0pt;text-align: left;">bool secrets[girl_t];</p><p style="padding-left: 50pt;text-indent: 0pt;text-align: left;">void start()   { secrets[id] = true; } void talk()   { tmp = secrets; }</p><p style="padding-left: 144pt;text-indent: -94pt;text-align: left;">void exchange() { for(i:girl_t) tmp[i] |= secrets[i]; secrets = tmp; }</p><p style="padding-left: 50pt;text-indent: 0pt;text-align: left;">void listen()  { secrets = tmp; }</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 50pt;text-indent: 0pt;text-align: left;">The exchange function could have been written as</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 50pt;text-indent: 0pt;text-align: left;">void exchange() {</p><p style="padding-left: 71pt;text-indent: 0pt;text-align: left;">for(i:girl_t) secrets[i] = (tmp[i] |= secrets[i]);</p><p style="padding-left: 50pt;text-indent: 0pt;text-align: left;">}</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 50pt;text-indent: 0pt;text-align: justify;">which is almost the same. The difference is that the number of interpreted in- structions is lower in the first case. A step further would be to inline these functions on the edges in the model but then we would lose readability to gain less than 5% in speed. It is possible to further optimize the model by having one parameterized shared table and avoid message passing all-together. We leave this as an exercise for the reader but we notice that this change destroys the nice design with the local secrets to each process.</p><p style="text-indent: 0pt;text-align: left;"><br/></p></li><li data-list-text="6.3"><p style="padding-top: 7pt;padding-left: 76pt;text-indent: -26pt;text-align: left;">Verification</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 50pt;text-indent: 0pt;text-align: justify;">We check the property that all girls know all secrets. For the integer version of the model, the property is:</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-top: 3pt;padding-left: 50pt;text-indent: 0pt;text-align: justify;">E&lt;&gt; forall(i:girl_t) forall(j:girl_t) (Girl(i).secrets &amp; (1 &lt;&lt; j))</p><p style="padding-top: 6pt;padding-left: 50pt;text-indent: 0pt;text-align: justify;">We can write a shorter but less obvious equivalent formula that takes advantage of the fact that 2<i>GIRLS</i><i> </i><span class="s94">− </span>1 generates a bit mask with the first GIRLS bits set to one:</p><p style="padding-top: 5pt;padding-left: 50pt;text-indent: 0pt;text-align: justify;">E&lt;&gt; forall(i:girl_t) Girl(i).secrets == ((1 &lt;&lt; GIRLS)-1)</p><p style="padding-top: 5pt;padding-left: 50pt;text-indent: 0pt;text-align: justify;">The formula for the boolean version is:</p><p style="padding-top: 5pt;padding-left: 50pt;text-indent: 0pt;text-align: justify;">E&lt;&gt; forall(i:girl_t) forall(j:girl_t) Girl(i).secrets[j]</p><p style="padding-top: 5pt;padding-left: 50pt;text-indent: 0pt;text-align: justify;">The formulas use the “for-all” construct, which gives compact formulas that automatically scale with the number of girls in the model. The version with the integers checks with a bit mask that the bits are set.</p><p style="padding-left: 50pt;text-indent: 15pt;text-align: justify;">Table 1 shows the resource consumption for the different models with different number of girls. Experiments are run on an AMD Opteron 2.2GHz with Uppaal rev. 2842. The results show how important it is to be careful with the model and</p><p style="text-indent: 0pt;text-align: left;"><br/></p><table style="border-collapse:collapse;margin-left:136.198pt" cellspacing="0"><tr style="height:11pt"><td style="width:32pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s157" style="padding-left: 1pt;text-indent: 0pt;line-height: 10pt;text-align: left;">Girls</p></td><td style="width:43pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s157" style="text-indent: 0pt;line-height: 10pt;text-align: center;">4</p></td><td style="width:52pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s157" style="text-indent: 0pt;line-height: 10pt;text-align: center;">5</p></td><td style="width:48pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s157" style="text-indent: 0pt;line-height: 10pt;text-align: center;">6</p></td></tr><tr style="height:11pt"><td style="width:32pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s157" style="padding-left: 1pt;text-indent: 0pt;line-height: 10pt;text-align: left;">gossip0</p></td><td style="width:43pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s157" style="text-indent: 0pt;line-height: 10pt;text-align: center;">0.6s/24M</p></td><td style="width:52pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s157" style="text-indent: 0pt;line-height: 10pt;text-align: center;">498s/3071M</p></td><td style="width:48pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s157" style="text-indent: 0pt;line-height: 10pt;text-align: center;">-</p></td></tr><tr style="height:11pt"><td style="width:32pt;border-left-style:solid;border-left-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s157" style="padding-left: 1pt;text-indent: 0pt;line-height: 10pt;text-align: left;">gossip1</p></td><td style="width:43pt;border-left-style:solid;border-left-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s157" style="text-indent: 0pt;line-height: 10pt;text-align: center;">1.0s/24M</p></td><td style="width:52pt;border-left-style:solid;border-left-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s157" style="text-indent: 0pt;line-height: 10pt;text-align: center;">809s/3153M</p></td><td style="width:48pt;border-left-style:solid;border-left-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s157" style="text-indent: 0pt;line-height: 10pt;text-align: center;">-</p></td></tr><tr style="height:11pt"><td style="width:32pt;border-left-style:solid;border-left-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s157" style="padding-left: 1pt;text-indent: 0pt;line-height: 10pt;text-align: left;">gossip2</p></td><td style="width:43pt;border-left-style:solid;border-left-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s157" style="text-indent: 0pt;line-height: 10pt;text-align: center;">0.1s/1.3M</p></td><td style="width:52pt;border-left-style:solid;border-left-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s157" style="text-indent: 0pt;line-height: 10pt;text-align: center;">0.3s/22M</p></td><td style="width:48pt;border-left-style:solid;border-left-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s157" style="text-indent: 0pt;line-height: 10pt;text-align: center;">71s/591M</p></td></tr><tr style="height:11pt"><td style="width:32pt;border-left-style:solid;border-left-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s157" style="padding-left: 1pt;text-indent: 0pt;line-height: 10pt;text-align: left;">gossip3</p></td><td style="width:43pt;border-left-style:solid;border-left-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s157" style="text-indent: 0pt;line-height: 10pt;text-align: center;">0.1s/1.3M</p></td><td style="width:52pt;border-left-style:solid;border-left-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s157" style="text-indent: 0pt;line-height: 10pt;text-align: center;">0.5s/22M</p></td><td style="width:48pt;border-left-style:solid;border-left-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s157" style="text-indent: 0pt;line-height: 10pt;text-align: center;">106s/607M</p></td></tr><tr style="height:11pt"><td style="width:32pt;border-left-style:solid;border-left-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s157" style="padding-left: 1pt;text-indent: 0pt;line-height: 10pt;text-align: left;">gossip4</p></td><td style="width:43pt;border-left-style:solid;border-left-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s157" style="text-indent: 0pt;line-height: 10pt;text-align: center;">0.1s/1.3M</p></td><td style="width:52pt;border-left-style:solid;border-left-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s157" style="text-indent: 0pt;line-height: 10pt;text-align: center;">0.2s/22M</p></td><td style="width:48pt;border-left-style:solid;border-left-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s157" style="text-indent: 0pt;line-height: 10pt;text-align: center;">37s/364M</p></td></tr><tr style="height:11pt"><td style="width:32pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s157" style="padding-left: 1pt;text-indent: 0pt;line-height: 10pt;text-align: left;">gossip5</p></td><td style="width:43pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s157" style="text-indent: 0pt;line-height: 10pt;text-align: center;">0.1s/1.3M</p></td><td style="width:52pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s157" style="text-indent: 0pt;line-height: 10pt;text-align: center;">0.3s/22M</p></td><td style="width:48pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s157" style="text-indent: 0pt;line-height: 10pt;text-align: center;">63s/381M</p></td></tr></table><p class="s8" style="padding-left: 50pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Table 1. Resource consumption for the different models with different number of girls.</p><p class="s8" style="padding-left: 50pt;text-indent: 0pt;text-align: left;">Results are in seconds/Mbytes.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 50pt;text-indent: 0pt;text-align: justify;">to optimize the model to reduce the state-space whenever possible. We notice that we do not even have time in this model. The model with integers is faster due to its simplicity but consumes marginally less memory.</p><p style="text-indent: 0pt;text-align: left;"><br/></p></li><li data-list-text="6.4"><p style="padding-left: 76pt;text-indent: -26pt;text-align: justify;">Improved Verification</p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Docs_files/Image_133.png"/></span></p><p style="padding-top: 5pt;padding-left: 50pt;text-indent: 0pt;text-align: justify;">Uppaal features two major techniques to improve verification. These techniques concern directly verification and are orthogonal to model optimization. The first is <i>symmetry reduction</i>. Since we designed our model to be symmetric from the start, taking advantage of this feature is done by using a <i>scalar set </i>for the type girl t. The second feature is the generalized <i>sweep-line </i>method. We need to define a progress measure to help the search. Furthermore, only the model with booleans is eligible for symmetry reduction since we cannot access individual bits in an integers in a symmetric manner (using scalars).</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s87" style="padding-left: 50pt;text-indent: 0pt;text-align: left;">Symmetry Reduction <span class="p">The only change required is for the definition of the type</span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Docs_files/Image_134.png"/></span></p><p style="padding-left: 50pt;text-indent: 0pt;text-align: left;">girl t. We use a scalar set for the new model (gossip6.xml):</p><p style="padding-top: 5pt;padding-left: 50pt;text-indent: 0pt;text-align: left;">typedef scalar[GIRLS] girl_t;</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s87" style="padding-top: 3pt;padding-left: 50pt;text-indent: 0pt;text-align: justify;">Sweep-line <span class="p">We need to define a progress measure that is cheap to compute and relevant to help the search. It is important that it is cheap to compute since it will be evaluated for every state. To do so, we add int m; to the global declarations, we add the progress measure definition </span>after <span class="p">the system declaration:</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 50pt;text-indent: 0pt;text-align: justify;">progress { m; }</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 50pt;text-indent: 0pt;text-align: justify;">Finally, we compute m in the exchange function as follows:</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 71pt;text-indent: -20pt;text-align: left;">void exchange() { m = 0;</p><p style="padding-left: 71pt;text-indent: 0pt;line-height: 11pt;text-align: left;">for(i:girl_t) {</p><p style="padding-left: 92pt;text-indent: 0pt;text-align: left;">m += tmp[i] ^ secrets[i]; tmp[i] |= secrets[i];</p><p style="padding-left: 71pt;text-indent: 0pt;text-align: left;">}</p><p style="padding-left: 50pt;text-indent: 0pt;text-align: left;">}</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-top: 3pt;padding-left: 50pt;text-indent: 0pt;text-align: left;">This measures counts the number of new messages exchanged per communica- tion.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><table style="border-collapse:collapse;margin-left:117.598pt" cellspacing="0"><tr style="height:11pt"><td style="width:32pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s157" style="padding-left: 1pt;text-indent: 0pt;line-height: 10pt;text-align: left;">Girls</p></td><td style="width:43pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s157" style="padding-left: 1pt;text-indent: 0pt;line-height: 10pt;text-align: center;">4</p></td><td style="width:44pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s157" style="padding-left: 1pt;text-indent: 0pt;line-height: 10pt;text-align: center;">5</p></td><td style="width:40pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s157" style="padding-left: 1pt;text-indent: 0pt;line-height: 10pt;text-align: center;">6</p></td><td style="width:53pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s157" style="padding-left: 1pt;text-indent: 0pt;line-height: 10pt;text-align: center;">7</p></td></tr><tr style="height:22pt"><td style="width:32pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s157" style="padding-left: 1pt;text-indent: 0pt;line-height: 10pt;text-align: left;">gossip6</p><p class="s157" style="padding-left: 1pt;text-indent: 0pt;text-align: left;">gossip7</p></td><td style="width:43pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s157" style="padding-left: 1pt;text-indent: 0pt;line-height: 10pt;text-align: left;">0.1s/1.3M</p><p class="s157" style="padding-left: 1pt;text-indent: 0pt;text-align: left;">0.1s/1.3M</p></td><td style="width:44pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s157" style="padding-left: 2pt;text-indent: 0pt;line-height: 10pt;text-align: left;">0.1s/1.3M</p><p class="s157" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">0.1s/1.3M</p></td><td style="width:40pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s157" style="padding-left: 1pt;text-indent: 0pt;line-height: 10pt;text-align: left;">3.4s/29M</p><p class="s157" style="padding-left: 1pt;text-indent: 0pt;text-align: left;">0.3s/21M</p></td><td style="width:53pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s157" style="padding-left: 1pt;text-indent: 0pt;line-height: 10pt;text-align: left;">399s/1115M</p><p class="s157" style="padding-left: 6pt;text-indent: 0pt;text-align: left;">29s/108M</p></td></tr></table><p class="s8" style="padding-left: 50pt;text-indent: 0pt;line-height: 10pt;text-align: left;">Table 2. Resource consumption using symmetry reduction (gossip6) combined with</p><p class="s8" style="padding-left: 50pt;text-indent: 0pt;text-align: left;">the sweep-line method (gossip7).</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-top: 5pt;padding-left: 50pt;text-indent: 15pt;text-align: justify;">Table 2 show that these features give gains with another order of magnitude both in speed and memory. The model still explodes exponentially but we cannot avoid it given its nature.</p><p style="text-indent: 0pt;text-align: left;"><br/></p></li></ol></li><li data-list-text="7"><p class="s1" style="padding-top: 8pt;padding-left: 70pt;text-indent: -20pt;text-align: left;">Modelling Patterns</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 50pt;text-indent: 0pt;text-align: justify;">In this section we present a number of useful modelling patterns for Uppaal. A modelling pattern is a form of designing a model with a clearly stated intent, motivation and structure. We observe that most of our Uppaal models use one or more of the following patterns and we propose that these patterns are imitated when designing new models.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><ol id="l32"><li data-list-text="7.1"><p style="padding-left: 50pt;text-indent: 0pt;line-height: 22pt;text-align: left;">Variable Reduction Intent</p><p style="padding-left: 50pt;text-indent: 0pt;text-align: left;">To reduce the size of the state space by explicitly resetting variables when they are not used, thus speeding up the verification.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-top: 3pt;padding-left: 50pt;text-indent: 0pt;text-align: left;">Motivation</p><p style="padding-left: 50pt;text-indent: 0pt;text-align: justify;">Although variables are persistent, it is sometimes clear from the way a model behaves, that the value of a variable does not matter in certain states, i.e., it is clear that two states that only differ in the values of such variables are in fact bisimilar. Resetting these variables to a known value will make these two states identical, thus reducing the state space.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 50pt;text-indent: 0pt;text-align: left;">Structure</p><p style="padding-left: 50pt;text-indent: 0pt;text-align: justify;">The pattern is most easily applied to local variables. Basically, a variable <span class="s93">v </span>is called inactive in a location <span class="s93">l</span>, if along all paths starting from <span class="s93">l</span>, <span class="s93">v </span>will be reset before it will be used. If a variable <span class="s93">v </span>is inactive in location <span class="s93">v</span>, one should reset <span class="s93">v </span>to the initial value on all incoming edges of <span class="s93">l</span>.</p><p style="padding-left: 50pt;text-indent: 15pt;text-align: justify;">The exception to this rule is when <span class="s93">v </span>is inactive in all source locations of the incoming edges to <span class="s93">l</span>. In this case, <span class="s93">v </span>has already been reset, and there is no need to reset it again. The pattern is also applicable to shared variables, although it can be harder to recognise the locations in which the variable will be inactive.</p><p style="padding-left: 50pt;text-indent: 15pt;text-align: justify;">For clocks, Uppaal automatically performs the analysis described above. This process is called active clock reduction. In some situations this analysis may fail, since Uppaal does not take the values of non-clock variables into account when analysing the activeness. In those situations, it <i>might </i>speed up the verification, if the clocks are reset to zero when it becomes inactive. A similar problem arises if you use arrays of clocks and use integer variables to index into those arrays. Then Uppaal will only be able to make a coarse approximation of when clocks in the array will be tested and reset, often causing the complete array to be marked active at all times. Manually resetting the clocks <i>might </i>speed up verification.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 50pt;text-indent: 0pt;text-align: left;">Sample</p><p style="padding-left: 50pt;text-indent: 0pt;text-align: justify;">The queue of the train gate example presented earlier in this tutorial uses the active variable pattern twice, see Fig. 21: When an element is removed, all the remaining elements of the list are shifted by one position. At the end of the loop in the Shiftdown location, the counter variable <span class="s93">i </span>is reset to 0, since its value is no longer of importance. Also the freed up element list[i] in the list is reset to zero, since its value will never be used again. For this example, the speedup in verification gained by using this pattern is approximately a factor of 5.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 50pt;text-indent: 0pt;text-align: left;">Known Uses</p><p style="padding-left: 50pt;text-indent: 0pt;text-align: left;">The pattern is used in most models of some complexity.</p><p style="text-indent: 0pt;text-align: left;"><br/></p></li><li data-list-text="7.2"><p style="padding-left: 50pt;text-indent: 0pt;line-height: 20pt;text-align: left;">Synchronous Value Passing Intent</p><p style="padding-left: 50pt;text-indent: 0pt;text-align: left;">To synchronously pass data between processes.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 50pt;text-indent: 0pt;text-align: left;">Motivation</p><p style="padding-left: 50pt;text-indent: 0pt;text-align: left;">Consider a model of a wireless network, where nodes in the network are modelled</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s10" style="padding-top: 6pt;padding-left: 152pt;text-indent: 4pt;line-height: 149%;text-align: left;">notempty! len&gt;0</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s10" style="text-indent: 0pt;text-align: right;">empty! len==0</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s10" style="padding-left: 21pt;text-indent: 0pt;text-align: left;">add?</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s10" style="padding-left: 12pt;text-indent: 0pt;line-height: 112%;text-align: left;">list[len]:=e, len++</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="122" height="165" alt="image" src="Docs_files/Image_135.png"/></span></p><p class="s151" style="padding-top: 5pt;padding-left: 12pt;text-indent: 0pt;text-align: left;">Start</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s10" style="padding-left: 5pt;text-indent: -4pt;line-height: 149%;text-align: left;">e:=list[0] hd?</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s10" style="padding-left: 160pt;text-indent: 0pt;text-align: left;">rem! len&gt;=1 len--,</p><p class="s10" style="padding-left: 160pt;text-indent: 0pt;text-align: left;">i := 0</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s10" style="padding-left: 62pt;text-indent: 0pt;line-height: 8pt;text-align: left;">len==i</p><p class="s10" style="padding-left: 62pt;text-indent: 0pt;line-height: 8pt;text-align: left;">list[i] := 0, i := 0</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s151" style="padding-top: 5pt;padding-left: 54pt;text-indent: 0pt;text-align: left;">Shiftdown</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s10" style="padding-left: 195pt;text-indent: 0pt;line-height: 112%;text-align: center;">i &lt; len list[i]:=list[i+1], i++</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s8" style="padding-top: 3pt;padding-left: 50pt;text-indent: 0pt;line-height: 106%;text-align: justify;">Fig. 21. The model of the queue in the train gate example uses active variable reduction twice. Both cases are on the edge from Shiftdown to Start: The freed element in the queue is reset to the initial value and so is the counter variable i.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 50pt;text-indent: 0pt;text-align: justify;">as processes. Neighbouring nodes must communicate to exchange, e.g., routing information. Assuming that the communication delay is insignificant, the hand- shake can be modelled as synchronisation via channels, but any data exchange must be modelled by other means.</p><p style="padding-left: 50pt;text-indent: 15pt;text-align: justify;">The general idea is that a sender and a receiver synchronise over shared binary channels and exchange data via shared variables. Since Uppaal evaluates the assignment of the sending synchronisation first, the sender can assign a value to the shared variable which the receiver can then access directly.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 50pt;text-indent: 0pt;text-align: left;">Structure</p><p style="padding-left: 50pt;text-indent: 0pt;text-align: justify;">There are four variations of the value passing pattern, see Fig. 22. They differ in whether data is passed <i>one-way </i>or <i>two-way </i>and whether the synchronisation is <i>unconditional </i>or <i>conditional</i>. In one-way value passing a value is transfered from one process to another, whereas two-way value passing transfers a value in each direction. In unconditional value passing, the receiver does not block the communication, whereas conditional value passing allows the receiver to reject the synchronisation based on the data that was passed.</p><p style="padding-left: 50pt;text-indent: 15pt;text-align: right;">In all four cases, the data is passed via the globally declared shared variable var and synchronisation is achieved via the global channels c and d. Each process has local variables in and out. Although communication via channels is always synchronous, we refer to a c! as a send-action and c? as a receive-action. Notice that the <i>variable reduction </i>pattern is used to reset the shared variable when it is no longer needed. Alternatively, the shared variable can be declared <i>meta</i>, in which case the reset is not necessary since the variable is not part of the state.</p><p style="padding-left: 50pt;text-indent: 0pt;text-align: right;">In one-way value passing only a single channel c and a shared variable var</p><p style="padding-left: 50pt;text-indent: 0pt;text-align: right;">is required. The sender writes the data to the shared variable and performs a</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><br/></p><table style="border-collapse:collapse;margin-left:99.708pt" cellspacing="0"><tr style="height:11pt"><td style="width:11pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p style="text-indent: 0pt;text-align: left;"><br/></p></td><td style="width:110pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt" colspan="3"><p class="s157" style="padding-left: 26pt;text-indent: 0pt;line-height: 10pt;text-align: left;">Unconditional</p></td><td style="width:127pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt" colspan="3"><p class="s157" style="padding-left: 39pt;text-indent: 0pt;line-height: 10pt;text-align: left;">Conditional</p></td></tr><tr style="height:16pt"><td style="width:11pt;border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt" rowspan="4"><p class="s157" style="padding-left: 14pt;text-indent: 0pt;line-height: 10pt;text-align: left;">One-way</p></td><td style="width:46pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt"><p style="text-indent: 0pt;text-align: left;"><br/></p></td><td style="width:19pt;border-top-style:solid;border-top-width:1pt"><p style="text-indent: 0pt;text-align: left;"><br/></p></td><td style="width:45pt;border-top-style:solid;border-top-width:1pt;border-right-style:solid;border-right-width:1pt"><p style="text-indent: 0pt;text-align: left;"><br/></p></td><td style="width:57pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt"><p style="text-indent: 0pt;text-align: left;"><br/></p></td><td style="width:19pt;border-top-style:solid;border-top-width:1pt"><p style="text-indent: 0pt;text-align: left;"><br/></p></td><td style="width:51pt;border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt" rowspan="4"><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s158" style="padding-left: 8pt;text-indent: 0pt;line-height: 7pt;text-align: left;">c?</p><p class="s158" style="padding-left: 8pt;padding-right: 19pt;text-indent: 0pt;line-height: 117%;text-align: left;">in := var, var := 0</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s159" style="padding-left: 15pt;text-indent: 0pt;text-align: left;">cond(in)</p></td></tr><tr style="height:16pt"><td style="width:46pt;border-left-style:solid;border-left-width:1pt"><p class="s158" style="padding-top: 2pt;padding-left: 15pt;text-indent: 0pt;line-height: 7pt;text-align: left;">c!</p><p class="s158" style="padding-left: 15pt;text-indent: 0pt;line-height: 6pt;text-align: left;">var := out</p></td><td style="width:19pt"><p class="s160" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;">‚</p></td><td style="width:45pt;border-right-style:solid;border-right-width:1pt"><p class="s158" style="padding-top: 2pt;padding-left: 8pt;text-indent: 0pt;line-height: 7pt;text-align: left;">c?</p><p class="s158" style="padding-left: 8pt;text-indent: 0pt;line-height: 6pt;text-align: left;">in := var,</p></td><td style="width:57pt;border-left-style:solid;border-left-width:1pt"><p class="s158" style="padding-top: 2pt;padding-left: 15pt;text-indent: 0pt;line-height: 7pt;text-align: left;">c!</p><p class="s158" style="padding-left: 15pt;text-indent: 0pt;line-height: 6pt;text-align: left;">var := out</p></td><td style="width:19pt"><p class="s160" style="padding-right: 3pt;text-indent: 0pt;line-height: 9pt;text-align: center;">‚</p></td></tr><tr style="height:14pt"><td style="width:46pt;border-left-style:solid;border-left-width:1pt"><p style="text-indent: 0pt;text-align: left;"><br/></p></td><td style="width:19pt"><p class="s160" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;">‚</p></td><td style="width:45pt;border-right-style:solid;border-right-width:1pt"><p class="s158" style="padding-left: 8pt;text-indent: 0pt;text-align: left;">var := 0</p></td><td style="width:57pt;border-left-style:solid;border-left-width:1pt"><p style="text-indent: 0pt;text-align: left;"><br/></p></td><td style="width:19pt"><p class="s160" style="padding-right: 3pt;text-indent: 0pt;line-height: 9pt;text-align: center;">‚</p></td></tr><tr style="height:22pt"><td style="width:46pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p style="text-indent: 0pt;text-align: left;"><br/></p></td><td style="width:19pt;border-bottom-style:solid;border-bottom-width:1pt"><p style="text-indent: 0pt;text-align: left;"><br/></p></td><td style="width:45pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p style="text-indent: 0pt;text-align: left;"><br/></p></td><td style="width:57pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p style="text-indent: 0pt;text-align: left;"><br/></p></td><td style="width:19pt;border-bottom-style:solid;border-bottom-width:1pt"><p style="text-indent: 0pt;text-align: left;"><br/></p></td></tr><tr style="height:18pt"><td style="width:11pt;border-top-style:solid;border-top-width:1pt;border-right-style:solid;border-right-width:1pt" rowspan="6"><p class="s157" style="padding-left: 3pt;text-indent: 0pt;line-height: 10pt;text-align: left;">Asymmetric two-way</p></td><td style="width:46pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt"><p style="text-indent: 0pt;text-align: left;"><br/></p></td><td style="width:19pt;border-top-style:solid;border-top-width:1pt"><p style="text-indent: 0pt;text-align: left;"><br/></p></td><td style="width:45pt;border-top-style:solid;border-top-width:1pt;border-right-style:solid;border-right-width:1pt"><p style="text-indent: 0pt;text-align: left;"><br/></p></td><td style="width:57pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt" rowspan="6"><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s158" style="padding-left: 15pt;text-indent: 0pt;line-height: 7pt;text-align: left;">c!</p><p class="s158" style="padding-left: 15pt;text-indent: 0pt;line-height: 7pt;text-align: left;">var := out</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s159" style="padding-left: 22pt;text-indent: 0pt;text-align: left;">cond1(var)</p><p class="s158" style="padding-top: 4pt;padding-left: 15pt;text-indent: 0pt;line-height: 7pt;text-align: left;">d?</p><p class="s158" style="padding-left: 15pt;padding-right: 18pt;text-indent: 0pt;line-height: 117%;text-align: left;">in := var, var :=0</p></td><td style="width:19pt;border-top-style:solid;border-top-width:1pt"><p style="text-indent: 0pt;text-align: left;"><br/></p></td><td style="width:51pt;border-top-style:solid;border-top-width:1pt" rowspan="6"><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s158" style="padding-left: 8pt;text-indent: 0pt;line-height: 7pt;text-align: left;">c?</p><p class="s158" style="padding-left: 8pt;padding-right: 18pt;text-indent: 0pt;line-height: 117%;text-align: left;">in := var, var := out</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s159" style="padding-left: 15pt;text-indent: 0pt;text-align: left;">cond2(in)</p><p class="s158" style="padding-top: 4pt;padding-left: 8pt;text-indent: 0pt;text-align: left;">d!</p></td></tr><tr style="height:19pt"><td style="width:46pt;border-left-style:solid;border-left-width:1pt"><p class="s158" style="padding-top: 1pt;padding-left: 15pt;text-indent: 0pt;line-height: 7pt;text-align: left;">c!</p><p class="s158" style="padding-left: 15pt;text-indent: 0pt;line-height: 7pt;text-align: left;">var := out</p></td><td style="width:19pt"><p style="text-indent: 0pt;text-align: left;"><br/></p></td><td style="width:45pt;border-right-style:solid;border-right-width:1pt"><p class="s158" style="padding-top: 1pt;padding-left: 8pt;text-indent: 0pt;line-height: 7pt;text-align: left;">c?</p><p class="s158" style="padding-left: 8pt;text-indent: 0pt;line-height: 7pt;text-align: left;">in := var</p></td><td style="width:19pt"><p style="text-indent: 0pt;text-align: left;"><br/></p></td></tr><tr style="height:18pt"><td style="width:46pt;border-left-style:solid;border-left-width:1pt"><p style="text-indent: 0pt;text-align: left;"><br/></p></td><td style="width:19pt"><p class="s160" style="padding-top: 2pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">‚</p></td><td style="width:45pt;border-right-style:solid;border-right-width:1pt"><p style="text-indent: 0pt;text-align: left;"><br/></p></td><td style="width:19pt"><p class="s160" style="padding-top: 2pt;padding-right: 3pt;text-indent: 0pt;text-align: center;">‚</p></td></tr><tr style="height:22pt"><td style="width:46pt;border-left-style:solid;border-left-width:1pt"><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s158" style="padding-left: 15pt;text-indent: 0pt;line-height: 7pt;text-align: left;">d?</p><p class="s158" style="padding-left: 15pt;text-indent: 0pt;line-height: 6pt;text-align: left;">in := var,</p></td><td style="width:19pt"><p class="s160" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">‚</p></td><td style="width:45pt;border-right-style:solid;border-right-width:1pt"><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s158" style="padding-left: 8pt;text-indent: 0pt;line-height: 7pt;text-align: left;">d!</p><p class="s158" style="padding-left: 8pt;text-indent: 0pt;line-height: 6pt;text-align: left;">var := out</p></td><td style="width:19pt"><p class="s160" style="padding-right: 3pt;text-indent: 0pt;text-align: center;">‚</p></td></tr><tr style="height:12pt"><td style="width:46pt;border-left-style:solid;border-left-width:1pt"><p class="s158" style="padding-left: 15pt;text-indent: 0pt;text-align: left;">var :=0</p></td><td style="width:19pt"><p style="text-indent: 0pt;text-align: left;"><br/></p></td><td style="width:45pt;border-right-style:solid;border-right-width:1pt"><p style="text-indent: 0pt;text-align: left;"><br/></p></td><td style="width:19pt"><p style="text-indent: 0pt;text-align: left;"><br/></p></td></tr><tr style="height:24pt"><td style="width:46pt;border-left-style:solid;border-left-width:1pt"><p style="text-indent: 0pt;text-align: left;"><br/></p></td><td style="width:19pt"><p style="text-indent: 0pt;text-align: left;"><br/></p></td><td style="width:45pt;border-right-style:solid;border-right-width:1pt"><p style="text-indent: 0pt;text-align: left;"><br/></p></td><td style="width:19pt"><p style="text-indent: 0pt;text-align: left;"><br/></p></td></tr></table><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="15" height="73" alt="image" src="Docs_files/Image_136.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="15" height="73" alt="image" src="Docs_files/Image_137.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="15" height="73" alt="image" src="Docs_files/Image_138.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="15" height="73" alt="image" src="Docs_files/Image_139.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="15" height="131" alt="image" src="Docs_files/Image_140.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="15" height="131" alt="image" src="Docs_files/Image_141.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="15" height="131" alt="image" src="Docs_files/Image_142.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="15" height="131" alt="image" src="Docs_files/Image_143.png"/></span></p><p class="s8" style="padding-top: 3pt;padding-left: 50pt;text-indent: 0pt;line-height: 107%;text-align: justify;">Fig. 22. The are essentially four combinations of conditional, unconditional, one-way and two-way synchronous value passing.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 50pt;text-indent: 0pt;text-align: justify;">send-action. The receiver performs the co-action, thereby synchronising with the sender. Since the update on the edge with send-action is always evaluated before the update of the edge with the receive-action, the receiver can access the data written by the sender in the same transition. In the conditional case, the receiver can block the synchronisation according to some predicate cond(in) involving the value passed by the sender. The intuitive placement of this predicate is on the guard of the receiving edge. Unfortunately, this will not work as expected, since the guards of the edges are evaluated before the updates are executed, i.e., before the receiver has access to the value. The solution is to place the predicate on the invariant of the target location.</p><p style="padding-top: 1pt;padding-left: 50pt;text-indent: 15pt;text-align: justify;">Two-way value passing can be modelled with two one-way value passing pat- tern with intermediate committed locations. The committed locations enforce that the synchronisation is atomic. Notice the use of two channels: Although not strictly necessary in the two-process case, the two channel encoding scales to the case with many processes that non-deterministically choose to synchro- nise. In the conditional case each process has a predicate involving the value passed by the other process. The predicates are placed on the invariants of the committed locations and therefore assignment to the shared variable in the sec- ond process must be moved to the first edge. It might be tempting to encoding conditional two-way value passing directly with two one-way conditional value passing pattern, i.e., to place the predicate of the first process on the third location. Unfortunately, this will introduce spurious deadlocks into the model.</p><p style="padding-top: 1pt;padding-left: 50pt;text-indent: 15pt;text-align: justify;">If the above asymmetric encoding of two-way value passing is undesirable, the symmetric encoding in Fig. 23 can be used instead. Basically, a process can non- deterministically choose to act as either the sender or the receiver. Like before,</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-top: 3pt;padding-left: 50pt;text-indent: 0pt;text-align: justify;">committed locations guarantee atomicity. If the synchronisation is conditional, the predicates are placed on the committed locations to avoid deadlocks. Notice that the symmetric encoding is more expensive: Even though the two paths lead to the same result, two extra successors will be generated.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s10" style="padding-left: 174pt;text-indent: 0pt;line-height: 8pt;text-align: left;">c!</p><p class="s10" style="padding-left: 174pt;text-indent: 0pt;line-height: 8pt;text-align: left;">var := out</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s10" style="padding-left: 34pt;text-indent: 0pt;line-height: 8pt;text-align: left;">c?</p><p style="text-indent: 0pt;text-align: left;"><span><img width="38" height="145" alt="image" src="Docs_files/Image_144.png"/></span></p><p class="s10" style="padding-left: 34pt;text-indent: 0pt;line-height: 112%;text-align: left;">in := var, var := out</p><p class="s151" style="padding-top: 5pt;padding-left: 59pt;text-indent: 0pt;text-align: center;">cond(var)     cond(in)</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s10" style="padding-left: 174pt;text-indent: 0pt;line-height: 8pt;text-align: left;">d?        d!</p><p class="s10" style="padding-left: 174pt;text-indent: 0pt;line-height: 112%;text-align: left;">in := var, var := 0</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s8" style="padding-left: 50pt;text-indent: 0pt;line-height: 106%;text-align: justify;">Fig. 23. In contrast to the two-way encoding shown in Fig 22, this encoding is sym- metric in the sense that both automata use the exact same encoding. The symmetry comes at the cost of a slightly larger state space.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 50pt;text-indent: 0pt;text-align: left;">Sample</p><p style="padding-left: 50pt;text-indent: 0pt;text-align: justify;">The train gate example of this tutorial uses synchronous one-way unconditional value passing between the trains and the gate, and between the gate and the queue. In fact, the value passing actually happens between the trains and the queue and the gate only act as a mediator to decouple the trains from the queue.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 50pt;text-indent: 0pt;text-align: justify;">Known Uses</p><p class="s87" style="padding-left: 50pt;text-indent: 0pt;text-align: justify;">Lamport’s Distributed Leader Election Protocol. <span class="p">Nodes in this leader election protocol broadcast topology information to surrounding nodes. The communi- cation is not instantaneous, so an intermediate process is used to model the message. The nodes and the message exchange data via synchronous one-way unconditional value passing.</span></p><p class="s87" style="padding-top: 4pt;padding-left: 50pt;text-indent: 0pt;text-align: justify;">Lynch’s Distributed Clock Synchronisation Protocol. <span class="p">This distributed protocol synchronises drifting clocks of nodes in a network. There is a fair amount of non-determinism on when exactly the clocks are synchronised, since the proto- col only required this to happen within some time window. When two nodes synchronise non-deterministically, both need to know the other nodes identity. As an extra constraint, the synchronisation should only happen if it has not happened before in the current cycle. Here the asymmetric two-way conditional value passing pattern is used. The asymmetric pattern suffices since each node has been split into two processes, one of them being dedicated to synchronising with the neighbours.</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p></li><li data-list-text="7.3"><p style="padding-top: 3pt;padding-left: 76pt;text-indent: -26pt;text-align: left;">Synchronous Value Passing (bis)</p><p style="padding-top: 6pt;padding-left: 50pt;text-indent: 0pt;text-align: left;">Intent</p><p style="padding-left: 50pt;text-indent: 0pt;text-align: left;">To synchronously pass integers with a small range between processes.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 50pt;text-indent: 0pt;text-align: left;">Motivation</p><p style="padding-left: 50pt;text-indent: 0pt;text-align: justify;">Similarly to the previous value passing pattern, it is useful to send values between processes. However, this pattern is specialized to integers with small ranges, which gives us the benefit to avoid using a shared variable for the communica- tion.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 50pt;text-indent: 0pt;text-align: left;">Structure</p><p style="padding-left: 50pt;text-indent: 0pt;text-align: justify;">The idea is to use arrays of channels to pass specific integers. The pattern is given for the general case of passing an integer value between <i>MIN </i>and <i>MAX</i>. Declare the array <i>chan send[MAX-MIN+1] </i>with <i>MAX </i>and <i>MIN </i>being either constants or the actual value of the desired range. Figure 7.3 shows the pattern. As an example the sender is sending the values 2, 3, or a randomly chosen value. The receiver is using the <i>select </i>feature of Uppaal 3.6 to find the right value. Notice that this is expensive for the model-checker if the range is large and will degrade performance. Two-way value passing can be modeled similarly to the previous pattern with the shared variable removed. Conditional value passing works for one-way only.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="103" height="54" alt="image" src="Docs_files/Image_145.png"/></span></p><p class="s161" style="padding-top: 4pt;padding-left: 73pt;text-indent: 0pt;text-align: left;">send[3-MIN]!</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s161" style="padding-top: 4pt;padding-left: 50pt;text-indent: 0pt;text-align: right;">send[2-MIN]!</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s161" style="padding-left: 23pt;text-indent: 0pt;text-align: left;">random:int[MIN,MAX] send[random-MIN]!</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s22" style="padding-left: 40pt;text-indent: 0pt;text-align: left;">‚</p><p style="text-indent: 0pt;text-align: left;"><span><img width="15" height="54" alt="image" src="Docs_files/Image_146.png"/></span></p><p class="s22" style="text-indent: 0pt;line-height: 9pt;text-align: left;">‚</p><p style="text-indent: 0pt;text-align: left;"/><p class="s161" style="padding-top: 1pt;padding-left: 99pt;text-indent: 0pt;text-align: left;">i:int[MIN,MAX]</p><p class="s161" style="padding-left: 99pt;text-indent: 0pt;text-align: left;">send[i-MIN]? value=i</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s162" style="padding-top: 4pt;padding-left: 134pt;text-indent: 0pt;text-align: left;">sent                     received</p><p class="s8" style="padding-top: 1pt;padding-left: 136pt;text-indent: 0pt;text-align: left;">(a) Sender.              (b) Receiver.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s8" style="padding-left: 122pt;text-indent: 0pt;text-align: left;">Fig. 24. Value passing using an array of channels.</p><p style="text-indent: 0pt;text-align: left;"><br/></p></li><li data-list-text="7.4"><p style="padding-left: 50pt;text-indent: 0pt;line-height: 18pt;text-align: left;">Multicast Intent</p><p style="padding-left: 50pt;text-indent: 0pt;text-align: left;">To encode multicast to at least <span class="s93">N </span>receivers (or similarly exactly <span class="s93">N </span>).</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 50pt;text-indent: 0pt;text-align: left;">Motivation</p><p style="padding-left: 50pt;text-indent: 0pt;text-align: justify;">Uppaal provides pair-wise synchronisation via regular channels (<i>chan</i>) and broadcast synchronisation via broadcast channels (<i>broadcast chan</i>). In some models it is useful to ensure there are at least <span class="s93">N </span>receivers available and have the multicast behaviour, typically for communication protocols.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 50pt;text-indent: 0pt;text-align: left;">Structure</p><p style="padding-left: 50pt;text-indent: 0pt;text-align: left;">Use a shared variable (e.g. <i>ready</i>) that is incremented on the edges leading to a</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-top: 3pt;padding-left: 50pt;text-indent: 0pt;text-align: justify;">location where it is possible to receive and decrement this variable on the edges that leave this location. In addition, add the constraint in the sender process on the required number of receiver (e.g. <span class="s93">ready &gt;</span>= <span class="s93">N </span>). Figure 7.4 illustrates the patter.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="15" height="111" alt="image" src="Docs_files/Image_147.png"/></span></p><p class="s162" style="padding-top: 4pt;padding-left: 171pt;text-indent: 0pt;text-align: center;">doSomething</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="15" height="73" alt="image" src="Docs_files/Image_148.png"/></span></p><p class="s162" style="padding-left: 147pt;text-indent: 0pt;text-align: left;">waitN   <span class="s163">‚</span></p><p class="s22" style="text-indent: 0pt;text-align: right;">‚</p><p class="s22" style="text-indent: 0pt;line-height: 9pt;text-align: left;">‚</p><p style="text-indent: 0pt;text-align: left;"/><p class="s161" style="padding-left: 143pt;text-indent: 0pt;text-align: left;">ready &gt;= 3 multisend!</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s161" style="padding-left: 42pt;text-indent: 0pt;text-align: left;">ready++</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s162" style="padding-left: 45pt;text-indent: 0pt;text-align: left;">waiting</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s161" style="padding-top: 6pt;padding-left: 42pt;text-indent: 0pt;text-align: left;">multisend? ready--</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s162" style="padding-left: 147pt;text-indent: 0pt;text-align: left;">sentN             received</p><p class="s8" style="padding-top: 8pt;padding-left: 147pt;text-indent: 0pt;text-align: left;">(a) Sender.     (b) Receiver.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s8" style="padding-left: 65pt;text-indent: 0pt;text-align: left;">Fig. 25. Multicast from one sender to at least <span class="s20">N </span>receivers (3 in this example).</p><p style="text-indent: 0pt;text-align: left;"><br/></p></li><li data-list-text="7.5"><p style="padding-left: 50pt;text-indent: 0pt;line-height: 20pt;text-align: left;">Atomicity Intent</p><p style="padding-left: 50pt;text-indent: 0pt;text-align: left;">To reduce the size of the state space by reducing interleaving using committed locations, thus speeding up the verification.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 50pt;text-indent: 0pt;text-align: left;">Motivation</p><p style="padding-left: 50pt;text-indent: 0pt;text-align: justify;">Uppaal uses an asynchronous execution model, i.e., edges from different au- tomata can interleave, and Uppaal will explore all possible interleavings. Partial order reduction is an automatic technique for eliminating unnecessary interleav- ings, but Uppaal does not support partial order reduction. In many situations, unnecessary interleavings can be identified and eliminated by making part of the model execute in atomic steps.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 50pt;text-indent: 0pt;text-align: left;">Structure</p><p style="padding-left: 50pt;text-indent: 0pt;text-align: justify;">Committed locations are the key to achieving atomicity. When any of the pro- cesses is in a committed location, then time cannot pass and at least one of these processes must take part in the next transition. Notice that this does not rule out interleaving when several processes are in a committed location. On the other hand, if only one process is in a committed location, then that process must take part in the next transition. Therefore, several edges can be executed atomically by marking intermediate locations as committed and avoiding syn- chronisations with other processes in the part that must be executed atomically, thus guaranteeing that the process is the only one in a committed location.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 50pt;text-indent: 0pt;text-align: left;">Sample</p><p style="padding-left: 50pt;text-indent: 0pt;text-align: left;">The pattern is used in the Queue process of the train gate example, see Fig. 26.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s10" style="padding-top: 6pt;padding-left: 152pt;text-indent: 4pt;line-height: 149%;text-align: left;">notempty! len&gt;0</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s10" style="text-indent: 0pt;text-align: right;">empty! len==0</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s10" style="padding-left: 21pt;text-indent: 0pt;text-align: left;">add?</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s10" style="padding-left: 12pt;text-indent: 0pt;line-height: 112%;text-align: left;">list[len]:=e, len++</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="122" height="165" alt="image" src="Docs_files/Image_149.png"/></span></p><p class="s151" style="padding-top: 5pt;padding-left: 12pt;text-indent: 0pt;text-align: left;">Start</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s10" style="padding-left: 5pt;text-indent: -4pt;line-height: 149%;text-align: left;">e:=list[0] hd?</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s10" style="padding-left: 160pt;text-indent: 0pt;text-align: left;">rem! len&gt;=1 len--,</p><p class="s10" style="padding-left: 160pt;text-indent: 0pt;text-align: left;">i := 0</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s10" style="padding-left: 62pt;text-indent: 0pt;line-height: 8pt;text-align: left;">len==i</p><p class="s10" style="padding-left: 62pt;text-indent: 0pt;line-height: 8pt;text-align: left;">list[i] := 0, i := 0</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s151" style="padding-top: 5pt;padding-left: 54pt;text-indent: 0pt;text-align: left;">Shiftdown</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s10" style="padding-left: 195pt;text-indent: 0pt;line-height: 112%;text-align: center;">i &lt; len list[i]:=list[i+1], i++</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s8" style="padding-top: 3pt;padding-left: 50pt;text-indent: 0pt;line-height: 106%;text-align: justify;">Fig. 26. When removing the front element from the queue, all other elements must be shifted down. This is done in the loop in the Shiftdown location. To avoid unnec- essary interleavings, the location is marked committed. Notice that the edge entering Shiftdown synchronises over the rem channel. It is important that target locations of edges synchronising over rem in other processes are not marked committed.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 50pt;text-indent: 0pt;text-align: justify;">Known Uses</p><p class="s87" style="padding-left: 50pt;text-indent: 0pt;text-align: justify;">Encoding of control structure <span class="p">A very common use is when encoding control struc- tures (like the encoding of a for-loop used in the IntQueue process of the train- gate example): In these cases the interleaving semantics is often undesirable.</span></p><p class="s87" style="padding-top: 5pt;padding-left: 50pt;text-indent: 0pt;text-align: justify;">Multi-casting <span class="p">Another common use is for complex synchronisation patterns. The standard synchronisation mechanism in Uppaal only supports binary or broad- cast synchronisation, but by using committed locations it is possible to atomi- cally synchronise with several processes. One example of this is in the train-gate example: Here the Gate process acts as a mediator between the trains and the queue, first synchronising with one and then the other – using an intermediate committed location to ensure atomicity.</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p></li><li data-list-text="7.6"><p style="padding-left: 50pt;text-indent: 0pt;line-height: 18pt;text-align: left;">Urgent Edges Intent</p><p style="padding-left: 50pt;text-indent: 0pt;text-align: left;">To guarantee that an edge is taken without delay as soon as it becomes enabled.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 50pt;text-indent: 0pt;text-align: left;">Motivation</p><p style="padding-left: 50pt;text-indent: 0pt;text-align: justify;">Uppaal provides urgent locations as a means of saying that a location must be left without delay. Uppaal provides urgent channels as a means of saying that a synchronisation must be executed as soon as the guards of the edges involved are enabled. There is no way of directly expressing that an edge without synchronisation should be taken without delay. This pattern provides a way of encoding this behaviour.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-top: 3pt;padding-left: 50pt;text-indent: 0pt;text-align: left;">Structure</p><p style="padding-left: 50pt;text-indent: 0pt;text-align: justify;">The encoding of urgent edges introduces an extra process with a single location and a self loop (see Fig. 27 left). The self loop synchronises on the <i>urgent </i>channel go. An edge can now be made urgent by performing the complimentary action (see Fig. 27 right). The edge can have discrete guards and arbitrary updates, but no guards over clocks.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s10" style="padding-top: 4pt;padding-left: 50pt;text-indent: 0pt;line-height: 6pt;text-align: right;">go!</p><p style="text-indent: 0pt;text-align: left;"><span><img width="30" height="30" alt="image" src="Docs_files/Image_150.png"/></span></p><p class="s22" style="padding-left: 224pt;text-indent: 0pt;line-height: 8pt;text-align: left;">‚</p><p class="s22" style="padding-top: 5pt;padding-left: 224pt;text-indent: 0pt;text-align: left;">‚</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s10" style="padding-top: 6pt;padding-left: 27pt;text-indent: 0pt;text-align: left;">go?</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="17" height="92" alt="image" src="Docs_files/Image_151.png"/></span></p><p class="s8" style="padding-top: 3pt;padding-left: 82pt;text-indent: 0pt;text-align: left;">Fig. 27. Encoding of urgent edges. The go channel is declared urgent.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 50pt;text-indent: 0pt;text-align: left;">Sample</p><p style="padding-left: 50pt;text-indent: 0pt;text-align: justify;"><a href="http://www.cs.auc/" class="s2" target="_blank">This pattern is used in a model of a box sorting plant (see http://www.cs.auc</a>. dk/<span class="s164">∼</span>behrmann/esv03/exercises/index.html#sorter): Boxes are moved on a belt, registered at a sensor station and then sorted by a sorting station (a piston that can kick some of the boxes of the belt). Since it takes some time to move the boxes from the sensor station to the sorting station, a timer process is used to delay the sorting action. Figure 28 shows the timer (this is obviously not the only encoding of a timer – this particular encoding happens to match the one used in the control program of the plant). The timer is activated by setting a shared variable active to true. The timer should then move urgently from the passive location to the wait location. This is achieved by synchronising over the urgent channel go.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="145" height="43" alt="image" src="Docs_files/Image_152.png"/></span></p><p class="s151" style="text-indent: 0pt;line-height: 8pt;text-align: left;">wait</p><p style="text-indent: 0pt;text-align: left;"/><p class="s151" style="text-indent: 0pt;line-height: 8pt;text-align: left;">passive</p><p style="text-indent: 0pt;text-align: left;"/><p class="s10" style="padding-bottom: 3pt;padding-left: 59pt;text-indent: 0pt;text-align: center;">x==ctime  eject!  active:=false</p><p class="s151" style="padding-left: 50pt;text-indent: 0pt;line-height: 8pt;text-align: right;">x&lt;=ctime</p><p class="s10" style="padding-top: 3pt;padding-left: 6pt;text-indent: 0pt;text-align: left;">active==true  go?</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s8" style="padding-top: 3pt;padding-left: 88pt;text-indent: 0pt;text-align: left;">Fig. 28. Sample of a timer using an urgent edge during activation.</p><p style="text-indent: 0pt;text-align: left;"><br/></p></li><li data-list-text="7.7"><p style="padding-top: 3pt;padding-left: 76pt;text-indent: -26pt;text-align: justify;">Timers</p><p style="padding-top: 7pt;padding-left: 50pt;text-indent: 0pt;text-align: left;">Intent</p><p style="padding-left: 50pt;text-indent: 0pt;text-align: left;">To emulate a timer where, in principle, time decreases until it reaches zero, at which point the timer is said to time-out.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 50pt;text-indent: 0pt;text-align: left;">Motivation</p><p style="padding-left: 50pt;text-indent: 0pt;text-align: justify;">Although clocks are powerful enough to model timing mechanisms, some systems are more naturally modelled using timers, in particular event based models. In such models, a timer is started, may be restarted, and counts down until a time-out event is generated.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 50pt;text-indent: 0pt;text-align: left;">Structure</p><p style="padding-left: 50pt;text-indent: 0pt;text-align: justify;">The pattern gives an equivalent of a timer object mapped on a process in Up- paal. We define the following operations for a timer object t:</p><ul id="l33"><li data-list-text="–"><p style="padding-top: 6pt;padding-left: 67pt;text-indent: -10pt;text-align: justify;">void set(TO): this function starts or restarts the timer with a time-out value of TO. The timer will count down for TO time units. TO is an integer.</p></li><li data-list-text="–"><p style="padding-left: 67pt;text-indent: -10pt;text-align: justify;">bool expired(): this function returns <i>true </i>if the timer has expired, <i>false </i>otherwise. When the timer has not been started yet, it is said to have expired. This function may be called at any time to test the timer.</p><p style="padding-top: 6pt;padding-left: 50pt;text-indent: 0pt;text-align: justify;">We map the above defined timer as a process in Uppaal. When a timer t is to be used in the model, its functions are mapped as follows:</p></li><li data-list-text="–"><p style="padding-top: 6pt;padding-left: 67pt;text-indent: -10pt;text-align: justify;">t.set(v) where v is an integer variable is mapped to the synchronisation set! and the assignment value := v, where the channel set and the integer value are the parameters of the timer template.</p></li><li data-list-text="–"><p style="padding-left: 67pt;text-indent: -10pt;text-align: justify;">t.expired() is mapped to the guard value == 0, where value is a param- eter of the timer template.</p><p style="padding-top: 6pt;padding-left: 50pt;text-indent: 0pt;text-align: justify;">As a variant of this basic timer model, it is possible to generate a time-out synchronisation, urgent or not depending on the needs, by using the pattern to encode urgent edges shown in Fig. 27. If the time-out value is a constant, we can optimise the coding to:</p></li><li data-list-text="–"><p style="padding-top: 6pt;padding-left: 67pt;text-indent: -10pt;text-align: left;">t.set() (no argument since the time-out is a constant) is mapped to set!.</p></li><li data-list-text="–"><p style="padding-left: 67pt;text-indent: -10pt;text-align: justify;">t.expired() is mapped to active == false where active is a parameter of the template.</p></li></ul><p style="padding-top: 7pt;padding-left: 50pt;text-indent: 0pt;text-align: justify;">The templates are shown in Fig. 29. The two states correspond to the timer hav- ing expired (timer inactive) and waiting to time-out (timer active). The template</p><p style="padding-left: 50pt;text-indent: 0pt;text-align: justify;">(a) makes use of a feature of Uppaal to mix integers and clocks in clock con- straints. The constraint is dynamic and depends on the value of the integer. When returning to the state Expired, the timer resets its value, which has the effect to (1) use variable reduction (see pattern 7.1) and (2) to provide a simple way to test for a time-out. The template (b) is simpler in the sense that a con- stant is used in the clock constraints. Testing for the time-out is equivalent to test on the boolean variable active.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s148" style="padding-left: 50pt;text-indent: 0pt;text-align: right;">Expired</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s147" style="padding-top: 4pt;padding-left: 20pt;text-indent: 0pt;text-align: left;">set? x:=0</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s148" style="padding-left: 37pt;text-indent: 0pt;text-align: left;">Waiting x&lt;=value</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s148" style="padding-left: 17pt;text-indent: 0pt;text-align: left;">Expired</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s147" style="padding-top: 4pt;padding-left: 59pt;text-indent: 0pt;line-height: 7pt;text-align: center;">set?</p><p style="text-indent: 0pt;text-align: left;"><span><img width="126" height="40" alt="image" src="Docs_files/Image_153.png"/></span></p><p class="s147" style="padding-left: 59pt;text-indent: 0pt;line-height: 7pt;text-align: center;">x:=0, active:=true</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s148" style="padding-left: 14pt;text-indent: 0pt;text-align: left;">Waiting x&lt;=TO</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="126" height="40" alt="image" src="Docs_files/Image_154.png"/></span></p><p class="s147" style="padding-top: 5pt;padding-left: 50pt;text-indent: 0pt;text-align: right;">x==value value:=0</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s147" style="padding-left: 50pt;text-indent: 0pt;text-align: right;">set? x:=0</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s147" style="padding-top: 5pt;padding-left: 53pt;text-indent: 0pt;line-height: 7pt;text-align: left;">x==TO</p><p class="s147" style="padding-left: 53pt;text-indent: 0pt;line-height: 7pt;text-align: left;">active:=false</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s147" style="padding-left: 38pt;text-indent: 0pt;text-align: left;">set? x:=0</p><p class="s8" style="padding-top: 6pt;padding-left: 85pt;text-indent: 0pt;text-align: left;">(a) Timer with variable time-out. (b) Timer with constant time-out.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s8" style="padding-left: 50pt;text-indent: 0pt;line-height: 106%;text-align: justify;">Fig. 29. Template of the timer pattern. Template (a) has int value; chan set as parameters and template (b) has bool active; chan set; const TO as parameters. Both templates have the local declaration clock x.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 50pt;text-indent: 0pt;text-align: justify;">Known Uses</p><p style="padding-left: 50pt;text-indent: 0pt;text-align: justify;">A variation of the timer pattern is used in the box sorting machine of the previous pattern (for educational purposes reconstructed in Lego): A timer is activated when a coloured brick passes a light sensor. When the timer times out a piston kicks the brick from the transport belt.</p><p style="text-indent: 0pt;text-align: left;"><br/></p></li><li data-list-text="7.8"><p style="padding-left: 50pt;text-indent: 0pt;line-height: 19pt;text-align: justify;">Bounded Liveness Checking Intent</p><p style="padding-left: 50pt;text-indent: 0pt;text-align: justify;">To check bounded liveness properties, i.e., properties that are guaranteed not only to hold eventually but within some specified upper time-bound. Time- bounded liveness properties are essentially safety properties and hence often computationally easier to verify. Thus moving from (unconditional) liveness properties to a time-bounded versions will not only provide additional infor- mation — i.e., if one can provide a valid bound — but will also lead to more efficient verification.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 50pt;text-indent: 0pt;text-align: left;">Motivation</p><p style="padding-left: 50pt;text-indent: 0pt;text-align: justify;">For real-time systems general liveness properties are often not sufficiently ex- pressive to ensure correctness: the fact that a particular property is guaranteed to hold <i>eventually </i>is inadequate in case hard real-time deadlines must be ob- served. What is really needed is to establish that the property in question will hold within a certain upper time-limit.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 50pt;text-indent: 0pt;text-align: left;">Structure</p><p style="padding-left: 50pt;text-indent: 0pt;text-align: justify;">We consider two variations of the pattern for a <i>time-bounded leads-to </i>operator <span class="s93">ϕ </span><span class="s96">,-,_  </span><span class="s99">≤</span><i>t</i><i> </i><span class="s93">ψ </span>expressing that whenever the state property <span class="s93">ϕ </span>holds then the state property <span class="s93">ψ </span>must hold within at most <span class="s93">t </span>time-units thereafter.</p><p class="s93" style="padding-left: 50pt;text-indent: 15pt;text-align: justify;"><span class="p">In the first version of the pattern we use a simple reduction for unbounded leads-to. First the model under investigation is extended with an additional clock </span>z <span class="p">which is reset whenever </span>ϕ <span class="p">starts to hold. The time-bounded leads-to property </span>ϕ <span class="s96">,-,_  </span><span class="s99">≤</span><span class="s97">t</span><span class="s87"> </span>ψ <span class="p">is now simply obtained by verifying </span>ϕ <span class="s96">,-,_   </span><span class="p">(</span>ψ <span class="s94">∧ </span>z <span class="s94">≤ </span>t<span class="p">).</span></p><p style="padding-left: 50pt;text-indent: 15pt;text-align: justify;">In the second — and more efficient version — of the pattern we use the method proposed in [54] in which time-bounded leads-to properties are reduced</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-top: 3pt;padding-left: 50pt;text-indent: 0pt;text-align: justify;">to simple safety properties. First the model under investigation is extended with a boolean variable <span class="s93">b </span>and an additional clock <span class="s93">z</span>. The boolean variable <span class="s93">b </span>must be initialised to <i>false</i>. Whenever <span class="s93">ϕ </span>starts to hold <span class="s93">b </span>is set to <i>true </i>and the clock <span class="s93">z </span>is reset. When <span class="s93">ψ </span>commences to hold <span class="s93">b </span>is set to <i>false</i>. Thus the truth-value of <span class="s93">b </span>indicates whether there is an obligation of <span class="s93">ψ </span>to hold in the future and <span class="s93">z </span>measures the accumulated time since this unfulfilled obligation started. The time-bounded leads-to property <span class="s93">ϕ </span><span class="s96">&quot;0</span><span class="s99">≤</span><i>t</i><i> </i><span class="s93">ψ </span>is simply obtained by verifying the safety property</p><p class="s93" style="padding-left: 50pt;text-indent: 0pt;line-height: 12pt;text-align: justify;">A<span class="s96">□</span><span class="p">(</span>b <span class="p">=</span><span class="s94">⇒ </span>z <span class="s94">≤ </span>t<span class="p">).</span></p><p style="padding-left: 50pt;text-indent: 15pt;text-align: justify;">A third method not reported is based on augmenting the model under inves- tigation with a so-called test-automata, see [2,1].</p><p class="s93" style="padding-left: 50pt;text-indent: 15pt;text-align: justify;"><span class="p">We have deliberately been somewhat vague about the exact nature of the required augmentation of the model. The most simple case is when the (state) properties </span>ϕ <span class="p">and </span>ψ <span class="p">are simple locations </span>l <span class="p">and </span>l<span class="s100">′</span> <span class="p">of component automata. In this simple case the settings of </span>z <span class="p">and </span>b <span class="p">are to be added as assignments of the edges entering </span>l <span class="p">and </span>l<span class="s100">′</span><span class="p">.</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 50pt;text-indent: 0pt;text-align: left;">Sample</p><p style="padding-left: 50pt;text-indent: 0pt;text-align: justify;">In the train gate example presented earlier in this tutorial a natural requirement is that a train is granted access to the crossing within a certain upper time- bound (say 100) after having signalled that it is approaching. In fact, not only is the gate responsible for avoiding collisions on the crossing but also for ensuring a fair and timely handling of requests. In Fig. 30 the Train template has been augmented with a local boolean b and a local clock z. b (to be initialised to 0) is set to 1 on the transition to location Appr and set to 0 on the two transitions to Cross. The clock z is reset on the transition to Appr. On the augmented model we now check the safety property A[](Train1.b==1 imply Train1.z&lt;=100) which establishes that the bounded liveness property holds for Train1. In fact — due to obvious symmetries in the model — it suffices to establish the property for one train, Train1 say. In this case it would have been advantageous for Train1 to be singleton template in order to avoid augmenting <i>all </i>trains. In particular, the state-space will be substantially smaller in this way.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 50pt;text-indent: 0pt;text-align: justify;">Known Uses</p><p style="padding-left: 50pt;text-indent: 0pt;text-align: justify;">Almost any real-time system will have a number of liveness properties where information as to the time-bounds is vital for the correctness of the systems. The Gearbox Controller of [54] offers an excellent example where a long list of time- bounded liveness properties are directly obtained from requirements specified by the company Mecel AB.</p><p style="text-indent: 0pt;text-align: left;"><br/></p></li><li data-list-text="7.9"><p style="padding-left: 50pt;text-indent: 0pt;line-height: 19pt;text-align: justify;">Abstraction and Simulation Intent</p><p style="padding-left: 50pt;text-indent: 0pt;text-align: justify;">The goal of abstraction is to replace the problem of verifying a very large, in- feasible concrete system with a smaller, and hopefully feasible abstract system. In particular, the method could be applied in a <i>compositional </i>manner to sub- systems, i.e., various concrete subsystems are replaced by suitable abstractions,</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="145" height="209" alt="image" src="Docs_files/Image_155.png"/></span></p><p class="s151" style="text-indent: 0pt;line-height: 8pt;text-align: left;">Safe</p><p style="text-indent: 0pt;text-align: left;"/><p class="s10" style="text-indent: 0pt;line-height: 8pt;text-align: left;">x:=0</p><p style="text-indent: 0pt;text-align: left;"/><p class="s10" style="text-indent: 0pt;line-height: 8pt;text-align: left;">x&gt;=3</p><p style="text-indent: 0pt;text-align: left;"/><p class="s10" style="text-indent: 0pt;line-height: 8pt;text-align: left;">leave!</p><p style="text-indent: 0pt;text-align: left;"/><p class="s151" style="text-indent: 2pt;text-align: left;">Cro x&lt;=</p><p style="text-indent: 0pt;text-align: left;"/><p class="s10" style="text-indent: 0pt;line-height: 8pt;text-align: left;">appr!</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s10" style="text-indent: 0pt;text-align: left;">e:=id,</p><p class="s10" style="text-indent: 0pt;text-align: left;">x:=0,</p><p class="s10" style="text-indent: 0pt;line-height: 112%;text-align: left;">z:=0, b:=1</p><p style="text-indent: 0pt;text-align: left;"/><p class="s10" style="text-indent: 0pt;line-height: 112%;text-align: left;">x:=0, b:=0</p><p style="text-indent: 0pt;text-align: left;"/><p class="s10" style="text-indent: 0pt;line-height: 112%;text-align: left;">x:=0, b:=0</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s10" style="text-indent: 0pt;text-align: left;">x&gt;=7</p><p style="text-indent: 0pt;text-align: left;"/><p class="s10" style="text-indent: 0pt;line-height: 8pt;text-align: left;">x&gt;=10</p><p style="text-indent: 0pt;text-align: left;"/><p class="s151" style="padding-left: 3pt;text-indent: 0pt;line-height: 8pt;text-align: left;">ppr</p><p class="s151" style="padding-top: 3pt;text-indent: 0pt;line-height: 7pt;text-align: left;">&lt;=20</p><p class="s10" style="padding-left: 10pt;text-indent: 0pt;line-height: 7pt;text-align: left;">x&lt;=10,</p><p class="s10" style="padding-left: 10pt;text-indent: 0pt;text-align: left;">e==id</p><p style="text-indent: 0pt;text-align: left;"/><p class="s151" style="padding-left: 13pt;text-indent: -1pt;line-height: 149%;text-align: left;">Star x&lt;=</p><p class="s10" style="text-indent: 0pt;text-align: left;">x:=0</p><p style="text-indent: 0pt;text-align: left;"/><p class="s10" style="text-indent: 0pt;line-height: 12pt;text-align: left;">stop?        <span class="s6">go?</span></p><p class="s10" style="padding-top: 5pt;padding-left: 68pt;text-indent: 0pt;line-height: 7pt;text-align: left;">e==id</p><p class="s10" style="padding-left: 16pt;text-indent: 0pt;line-height: 7pt;text-align: left;">x:=0</p><p style="text-indent: 0pt;text-align: left;"/><p class="s10" style="padding-left: 193pt;text-indent: 0pt;text-align: left;">e:=id,</p><p class="s151" style="padding-top: 3pt;padding-left: 290pt;text-indent: 2pt;text-align: left;">ss 5</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s151" style="padding-top: 4pt;padding-left: 145pt;text-indent: 0pt;text-align: left;">A                    t</p><p class="s151" style="padding-top: 3pt;padding-left: 142pt;text-indent: 0pt;text-align: left;">x                     15</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s151" style="padding-left: 59pt;text-indent: 0pt;text-align: center;">Stop</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s8" style="padding-top: 3pt;padding-left: 64pt;text-indent: 0pt;text-align: left;">Fig. 30. The Train-Gate augmented to enable time-bounded liveness checking.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 50pt;text-indent: 0pt;text-align: justify;">and the verification effort is conducted on the composition of these abstract subsystems.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 50pt;text-indent: 0pt;text-align: left;">Motivation</p><p style="padding-left: 50pt;text-indent: 0pt;text-align: justify;">Despite enormous improvement in the verification capabilities of Uppaal over the past years — and undoubtedly also for the years to come — state-space ex- plosion is an ever existing problem that will be solved by algorithmic advances.<span class="s84">9</span> However, in verifying specific properties of a systems it is often only part of the behaviour of the various components which is relevant. Often the designer will have a good intuition about what these relevant parts are, in which case (s)he is able to provide abstractions for the various components, which are still concrete enough that the given property holds, yet are abstract (and small) enough that the verification effort becomes feasible. To give a sound methodology two re- quirements should be satisfied. Firstly, the notion of abstraction applied should preserve the properties of interest, i.e., once a property has been shown to hold for the abstraction it should be guaranteed to also hold for the concrete system. Secondly, the abstraction relation should be preserved under composition of sys- tems. In [46,45] we have put forward the notion of (ready) timed simulation preserving safety properties while being a pre-congruence w.r.t. composition. Moreover, for (suggested) abstractions being deterministic and with no inter- nal transitions, timed simulation may be established using simple reachability checking (and hence by using Uppaal).</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 50pt;text-indent: 0pt;text-align: left;">Structure</p><p style="padding-left: 50pt;text-indent: 0pt;text-align: left;">Let <span class="s93">A </span>be a timed automaton suggested as an abstraction for some (sub)system</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 50pt;text-indent: 0pt;line-height: 1pt;text-align: left;"><span><img width="76" height="1" alt="image" src="Docs_files/Image_156.png"/></span></p><p class="s42" style="padding-top: 1pt;padding-left: 53pt;text-indent: 0pt;text-align: left;">9<span class="s8"> unless we succeed in showing P=PSPACE</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s93" style="padding-top: 3pt;padding-left: 50pt;text-indent: 0pt;text-align: justify;">S <span class="p">(possibly a network of timed automata). We assume that </span>A <span class="p">is deterministic (i.e., no location with outgoing edges having overlapping guards) and without any internal transitions. For simplicity we shall assume all channels to be non- urgent and no shared variables exist between </span>S <span class="p">and the remaining system. The extension of the technique to allow for urgency and shared variables can be found in [46]. To show that </span>A <span class="p">is indeed an abstraction of </span>S <span class="p">in the sense that </span>A <span class="p">(ready) timed simulates </span>S <span class="p">a test-automata </span>T<span class="s97">A</span><span class="s87"> </span><span class="p">is constructed in the following manner: </span>T<span class="s97">A</span><span class="s87"> </span><span class="p">has </span>A <span class="p">as a skeleton but with the direction of actions (input/output) reversed. A distinguished new location </span>bad <span class="p">is added and from all locations </span>l <span class="p">and all actions</span></p><p class="s93" style="padding-left: 50pt;text-indent: 0pt;line-height: 12pt;text-align: left;">a <span class="p">an </span>a<span class="p">-labelled edge from </span>l <span class="p">to </span>bad <span class="p">is inserted with guard </span><span class="s94">¬</span><span class="p">(</span>g<span class="s95">1</span><span class="p"> </span><span class="s94">∨ </span>. . . <span class="s94">∨ </span>g<span class="s97">n</span><span class="p">) where</span></p><p class="s93" style="padding-left: 50pt;text-indent: 0pt;line-height: 12pt;text-align: left;">g<span class="s95">1</span><span class="p"> </span>. . . g<span class="s97">n</span><span class="s87"> </span><span class="p">is the full set of guards of </span>a<span class="p">-labelled edges out of </span>l <span class="p">in the skeleton. Now</span></p><p class="s93" style="padding-left: 50pt;text-indent: 0pt;line-height: 11pt;text-align: left;">S <span class="p">is (ready) timed simulated by </span>A <span class="p">— and hence </span>A <span class="p">is a valid abstraction of </span>S</p><p class="s93" style="padding-left: 50pt;text-indent: 0pt;text-align: left;"><span class="p">— precisely if the location </span>bad <span class="p">is unreachable in the composite system </span>S<span class="s94">1</span>T<span class="s97">A</span><span class="p">. Essentially, </span>T<span class="s97">A</span><span class="s87"> </span><span class="p">observes that all behaviour of </span>S <span class="p">is matchable by </span>A<span class="p">.</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 50pt;text-indent: 0pt;text-align: left;">Sample</p><p style="padding-left: 50pt;text-indent: 0pt;text-align: justify;">Consider the Uppaal model in Fig. 31 consisting of a Sender a Receiver and four pipelining processes Pi. Each pipeline process Pi has the obligation of re- acting to a stimulus from its predecessor on channel ai and pass it on to its successor on channel ai+1. A local clock is used to model that each pipeline process adds a minimum delay of 2. After having completed the passing on, the pipeline process engages in some internal computation (the small cycle S2, S3, S4). Now assume that we want to verify that the Receiver will have received its stimulus no sooner than after 8 time-units, or in general 2<span class="s93">n </span>in a system with <span class="s93">n </span>pipeline processes. Obviously, the system we are looking at is subject to an enormous state-space explosion when we increase the number of pipeline ele-</p><p style="padding-left: 50pt;text-indent: 0pt;text-align: justify;">ments. However, for establishing the property in question we need only little information about the various subsystems. For P1<span class="s94">1</span>P2 we essentially only need to know that the time from reacting to the initial stimulus from the Sender to passing this stimulus on to P3 is at least 4. We do not need to worry about the internal computation nor the precise moment in time when the stimulus was passed from P1 to P2. In particular we should be able to replace P1<span class="s94">1</span>P2 with the much simpler automaton P1P2. To show that this is a valid substitution we sim- ply show that the BAD location is unreachable for the system P1<span class="s94">1</span>P2<span class="s94">1</span>TestP1P2, where TestP1P2 is the test automaton for P1P2. A similar abstraction P3P4 may obviously be given for the subsystem P3<span class="s94">1</span>P4 and the desired property may now be established for the “much” simpler system P1P2<span class="s94">1</span>P3P4, rather than the original system.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 50pt;text-indent: 0pt;text-align: justify;">Known Uses</p><p style="padding-left: 50pt;text-indent: 0pt;text-align: justify;">The described technique can be found in full details in the Ph.D. thesis of Jensen [45]. In [46] the technique has been successfully applied to the verification of a protocol for controlling the switching between power on/off states in audio/video components described in [48].</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s8" style="padding-top: 3pt;padding-left: 69pt;text-indent: 0pt;text-align: left;">Sender    P1       P2       P3       P4    Receiver</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s165" style="padding-left: 117pt;text-indent: 0pt;text-align: left;">S0         S0         S0         S0</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="13" height="62" alt="image" src="Docs_files/Image_157.png"/></span></p><p class="s166" style="text-indent: 0pt;text-align: right;">S0</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s77" style="padding-top: 4pt;padding-left: 50pt;text-indent: 0pt;text-align: right;">a1!</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s166" style="padding-left: 50pt;text-indent: 0pt;text-align: right;">S1</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s165" style="padding-left: 50pt;text-indent: 0pt;line-height: 4pt;text-align: right;">S1</p><p class="s22" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">‚</p><p class="s167" style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">‚ <span class="s165">S2</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s139" style="padding-left: 4pt;text-indent: 0pt;line-height: 151%;text-align: left;">a1? x:=0</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="47" height="115" alt="image" src="Docs_files/Image_158.png"/></span></p><p class="s139" style="padding-left: 4pt;text-indent: 0pt;text-align: left;">x&gt;=2</p><p class="s139" style="padding-top: 3pt;padding-left: 4pt;text-indent: 0pt;text-align: left;">a2!</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s165" style="padding-left: 50pt;text-indent: 0pt;line-height: 4pt;text-align: right;">S1</p><p class="s22" style="padding-left: 20pt;text-indent: 0pt;line-height: 8pt;text-align: left;">‚</p><p class="s167" style="padding-top: 5pt;padding-left: 20pt;text-indent: 0pt;text-align: left;">‚ <span class="s165">S2</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s139" style="padding-left: 4pt;text-indent: 0pt;text-align: left;">a2?</p><p style="text-indent: 0pt;text-align: left;"><span><img width="47" height="115" alt="image" src="Docs_files/Image_159.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="47" height="115" alt="image" src="Docs_files/Image_160.png"/></span></p><p class="s22" style="text-indent: 0pt;line-height: 9pt;text-align: left;">‚</p><p class="s22" style="text-indent: 0pt;text-align: left;">‚</p><p style="text-indent: 0pt;text-align: left;"/><p class="s139" style="padding-left: 12pt;text-indent: 0pt;line-height: 6pt;text-align: left;">a3?</p><p class="s168" style="padding-top: 3pt;text-indent: 0pt;text-align: left;">S1 <span class="s139">x:=0</span></p><p class="s139" style="padding-top: 6pt;padding-left: 12pt;text-indent: 0pt;text-align: left;">x&gt;=2</p><p style="text-indent: 0pt;text-align: left;"/><p class="s22" style="text-indent: 0pt;line-height: 83%;text-align: left;">‚ <span class="s168">S2 </span><span class="s139">a4!</span></p><p style="text-indent: 0pt;text-align: left;"/><p class="s165" style="text-indent: 0pt;line-height: 6pt;text-align: left;">S3</p><p style="text-indent: 0pt;text-align: left;"/><p class="s165" style="text-indent: 0pt;line-height: 6pt;text-align: left;">S4</p><p style="text-indent: 0pt;text-align: left;"/><p style="text-indent: 0pt;text-align: left;"><span><img width="47" height="115" alt="image" src="Docs_files/Image_161.png"/></span></p><p class="s22" style="text-indent: 0pt;line-height: 9pt;text-align: left;">‚</p><p class="s22" style="text-indent: 0pt;text-align: left;">‚</p><p style="text-indent: 0pt;text-align: left;"/><p class="s139" style="padding-left: 12pt;text-indent: 0pt;line-height: 6pt;text-align: left;">a4?</p><p class="s168" style="padding-top: 3pt;text-indent: 0pt;text-align: left;">S1 <span class="s139">x:=0</span></p><p class="s139" style="padding-top: 6pt;padding-left: 12pt;text-indent: 0pt;text-align: left;">x&gt;=2</p><p style="text-indent: 0pt;text-align: left;"/><p class="s22" style="text-indent: 0pt;line-height: 83%;text-align: left;">‚ <span class="s168">S2 </span><span class="s139">a5!</span></p><p style="text-indent: 0pt;text-align: left;"/><p class="s165" style="text-indent: 0pt;line-height: 6pt;text-align: left;">S3</p><p style="text-indent: 0pt;text-align: left;"/><p class="s165" style="text-indent: 0pt;line-height: 6pt;text-align: left;">S4</p><p style="text-indent: 0pt;text-align: left;"/><p style="text-indent: 0pt;text-align: left;"><span><img width="13" height="60" alt="image" src="Docs_files/Image_162.png"/></span></p><p class="s22" style="text-indent: 0pt;line-height: 9pt;text-align: left;">‚</p><p class="s22" style="padding-top: 5pt;text-indent: 0pt;text-align: left;">‚</p><p style="text-indent: 0pt;text-align: left;"/><p class="s77" style="text-indent: 0pt;line-height: 6pt;text-align: left;">a5?</p><p style="text-indent: 0pt;text-align: left;"/><p class="s166" style="text-indent: 0pt;line-height: 6pt;text-align: left;">S1</p><p style="text-indent: 0pt;text-align: left;"/><p class="s139" style="padding-left: 4pt;text-indent: 0pt;text-align: left;">x:=0                          <span class="s169">S0</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s139" style="padding-left: 4pt;text-indent: 0pt;text-align: left;">x&gt;=2</p><p class="s139" style="padding-top: 3pt;padding-left: 4pt;text-indent: 0pt;text-align: left;">a3!</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s170" style="padding-top: 4pt;padding-left: 111pt;text-indent: 0pt;text-align: left;">S3    <span class="s165">S4    </span>S3    <span class="s165">S4</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s8" style="padding-top: 3pt;padding-left: 152pt;text-indent: 0pt;text-align: left;">Fig. 31. A small pipelining system.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s8" style="padding-left: 155pt;text-indent: 0pt;text-align: left;">P1P2      TestP1P2</p><p class="s151" style="padding-top: 6pt;padding-left: 59pt;text-indent: 0pt;text-align: center;">S0</p><p style="text-indent: 0pt;text-align: left;"><span><img width="81" height="145" alt="image" src="Docs_files/Image_163.png"/></span></p><p class="s10" style="text-indent: 0pt;line-height: 149%;text-align: left;">a1! x:=0</p><p class="s151" style="padding-left: 3pt;text-indent: 0pt;line-height: 8pt;text-align: left;">S1</p><p style="text-indent: 0pt;text-align: left;"/><p class="s10" style="text-indent: 0pt;line-height: 8pt;text-align: left;">a3?</p><p style="text-indent: 0pt;text-align: left;"/><p class="s10" style="text-indent: 0pt;line-height: 8pt;text-align: left;">x&lt;4 a3?</p><p style="text-indent: 0pt;text-align: left;"/><p class="s10" style="text-indent: 0pt;line-height: 8pt;text-align: left;">&gt;=4</p><p style="text-indent: 0pt;text-align: left;"/><p class="s10" style="text-indent: 0pt;line-height: 8pt;text-align: left;">a3?</p><p style="text-indent: 0pt;text-align: left;"/><p class="s10" style="text-indent: 0pt;line-height: 8pt;text-align: left;">a1!</p><p style="text-indent: 0pt;text-align: left;"/><p class="s151" style="text-indent: 0pt;line-height: 8pt;text-align: left;">S2</p><p style="text-indent: 0pt;text-align: left;"/><p class="s10" style="text-indent: 0pt;line-height: 8pt;text-align: left;">a3?</p><p style="text-indent: 0pt;text-align: left;"/><p class="s143" style="padding-top: 4pt;padding-left: 156pt;text-indent: 0pt;text-align: left;">S0</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="15" height="130" alt="image" src="Docs_files/Image_164.png"/></span></p><p class="s131" style="padding-top: 5pt;padding-left: 164pt;text-indent: 0pt;text-align: left;">a1?</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s171" style="padding-left: 150pt;text-indent: 0pt;text-align: left;">S1 <span class="s131">x:=0</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s131" style="padding-left: 164pt;text-indent: 0pt;text-align: left;">x&gt;=4</p><p class="s131" style="padding-top: 3pt;padding-left: 164pt;text-indent: 0pt;text-align: left;">a3!</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s143" style="padding-left: 150pt;text-indent: 0pt;text-align: left;">S2</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s22" style="padding-left: 9pt;text-indent: 0pt;text-align: left;">‚</p><p class="s22" style="padding-top: 5pt;padding-left: 9pt;text-indent: 0pt;text-align: left;">‚ <span class="s47">x</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s151" style="padding-left: 74pt;text-indent: 0pt;text-align: left;">BAD</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s8" style="padding-top: 3pt;padding-left: 59pt;text-indent: 0pt;text-align: center;">Fig. 32. A suggested abstraction and its test automaton.</p><p style="text-indent: 0pt;text-align: left;"><br/></p></li></ol></li><li data-list-text="8"><p class="s1" style="padding-left: 70pt;text-indent: -20pt;text-align: left;">Conclusion</p></li></ol><p style="padding-top: 9pt;padding-left: 50pt;text-indent: 0pt;text-align: justify;"><a href="http://www.uppaal.com/" class="s2" target="_blank">Uppaal is a research tool available for free at http://www.uppaal.com</a>/ that features an intuitive graphical interface. It has been ported to different platforms and it is in constant development. There are different development branches and tools that make use of Uppaal:</p><p style="padding-top: 5pt;padding-left: 67pt;text-indent: -16pt;text-align: justify;"><a href="http://www.cs.auc.dk/" class="s2" target="_blank">Cost–UPPAAL supports cost annotations of the model and can do minimal cost reachability analysis [51]. This version also has features for guiding the search. This version can be downloaded from http://www.cs.auc.dk/</a></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Docs_files/Image_165.png"/></span></p><p class="s164" style="padding-left: 67pt;text-indent: 0pt;line-height: 11pt;text-align: justify;">∼<span class="p">behrmann/ guiding/.</span></p><p style="padding-left: 67pt;text-indent: -16pt;text-align: justify;">Distributed–UPPAAL runs on multi-processors and clusters using the com- bined memory and CPU capacity of the system [17,9].</p><p style="padding-left: 50pt;text-indent: 0pt;line-height: 11pt;text-align: justify;">T–UPPAAL test case generator for black-box conformance testing, see http:</p><p style="padding-left: 67pt;text-indent: 0pt;line-height: 11pt;text-align: left;"><a href="http://www.cs.auc.dk/" class="s2" target="_blank">//www.cs.auc.dk</a>/<span class="s164">∼</span>marius/tuppaal/.</p><p style="padding-left: 50pt;text-indent: 0pt;text-align: center;">Times is a tool set for modelling, schedulability analysis, and synthesis of (op- timal) schedules and executable code. The verification uses Uppaal [6].</p><p style="padding-top: 6pt;padding-left: 50pt;text-indent: 0pt;text-align: center;">On-going work on the model-checker includes support for hierarchical timed automata, symmetry reduction, U-Code (Uppaal code, large subset of C), im-</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-top: 3pt;padding-left: 50pt;text-indent: 0pt;text-align: left;">proved memory management, etc. The tool has been successfully applied to case studies ranging from communication protocols to multimedia applications:</p><p style="padding-top: 7pt;padding-left: 67pt;text-indent: -16pt;text-align: left;">Bang &amp; Olufsen audio/video protocol. An error trace with more than 2000 transition steps was found [35].</p><p style="padding-left: 50pt;text-indent: 0pt;line-height: 11pt;text-align: left;">TDMA Protocol Start-Up Mechanism was verified in [55].</p><p style="padding-left: 50pt;text-indent: 0pt;text-align: left;">Bounded retransmission protocol over a lossy channels was verified in [24].</p><p style="padding-left: 50pt;text-indent: 0pt;text-align: left;">Lip synchronisation algorithm was verified in [23].</p><p style="padding-left: 67pt;text-indent: -16pt;text-align: justify;">Power-down controller in an audio/video component was designed and ver- ified in collaboration with Bang &amp; Olufsen in [34].</p><p style="padding-left: 67pt;text-indent: -16pt;text-align: justify;">Guided synthesis of control programs for a steel production plant was done in [43]. The final control programs were compiled to run on a Lego model of the real plant.</p><p style="padding-left: 50pt;text-indent: 0pt;text-align: left;">Gearbox controller was formally designed and analysed in [54].</p><p style="padding-left: 50pt;text-indent: 0pt;text-align: left;">Lego Mindstorm programs written in “Not Quite C” have been verified in [44].</p><p style="padding-left: 50pt;text-indent: 0pt;text-align: left;">Field bus protocol was modelled and analysed in [30].</p><p style="padding-left: 50pt;text-indent: 0pt;text-align: left;">Bi-phase Mark Protocol was modelled and analysed in [59] with Uppaal</p><p style="padding-left: 67pt;text-indent: 0pt;text-align: left;">and PVS.</p><p style="padding-left: 50pt;text-indent: 0pt;text-align: left;">Controller for a wafer scanner was designed with the aid of Uppaal in [37].</p><p style="padding-left: 50pt;text-indent: 0pt;text-align: left;">Car supervision system was formally modelled and analysed in [33].</p><p style="padding-left: 50pt;text-indent: 0pt;text-align: left;">IEEE1394a root contention protocol was modelled and verified in [58].</p><p style="padding-top: 8pt;padding-left: 50pt;text-indent: 0pt;text-align: left;">Uppaal is also used in a number of courses on real-time systems and formal verification:</p><ul id="l34"><li data-list-text="–"><p style="padding-top: 7pt;padding-left: 67pt;text-indent: -10pt;text-align: left;"><a href="http://user.it.uu.se/" class="s2" target="_blank">http://user.it.uu.se</a>/<span class="s164">∼</span>paupet/#teaching</p><p style="padding-left: 67pt;text-indent: 0pt;text-align: left;">Real-time and formal method courses at Uppsala University.</p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Docs_files/Image_166.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Docs_files/Image_167.png"/></span></p></li><li data-list-text="–"><p style="padding-left: 67pt;text-indent: -10pt;text-align: left;"><a href="http://csd.informatik.uni-oldenburg.de/teaching/fp" class="s2" target="_blank">http://csd.informatik.uni-oldenburg.de/teaching/f</a>p realzeitsys ws0001/ result/eindex.html</p><p style="padding-left: 67pt;text-indent: 0pt;line-height: 11pt;text-align: left;">Practical course “Real-Time Systems” at the University of Oldenburg.</p></li><li data-list-text="–"><p style="padding-left: 67pt;text-indent: -10pt;text-align: left;"><a href="http://fmt.cs.utwente.nl/courses/systemvalidation/" class="s2" target="_blank">http://fmt.cs.utwente.nl/courses/systemvalidation/</a></p><p style="padding-left: 67pt;text-indent: 0pt;text-align: left;">System Validation (using Model Checking) at the University of Twente.</p></li><li data-list-text="–"><p style="padding-left: 67pt;text-indent: -10pt;text-align: left;"><a href="http://www.cs.auc.dk/" class="s2" target="_blank">http://www.cs.auc.dk</a>/<span class="s164">∼</span>behrmann/esv03/</p><p style="padding-left: 67pt;text-indent: 0pt;text-align: left;">Embedded Systems Validation at Aalborg University.</p></li><li data-list-text="–"><p style="padding-left: 67pt;text-indent: -10pt;text-align: left;"><a href="http://www.cs.auc.dk/" class="s2" target="_blank">http://www.cs.auc.dk</a>/<span class="s164">∼</span>kgl/TOV04/Plan.html</p><p style="padding-left: 67pt;text-indent: 0pt;text-align: left;">Test and Verification at Aalborg University.</p></li><li data-list-text="–"><p style="padding-left: 67pt;text-indent: -10pt;text-align: left;"><a href="http://www.seas.upenn.edu/" class="s2" target="_blank">http://www.seas.upenn.edu</a>/<span class="s164">∼</span>pappasg/EE601/F03/</p><p style="padding-left: 67pt;text-indent: 0pt;text-align: left;">Hybrid Systems at the University of Pennsylvania.</p></li><li data-list-text="–"><p style="padding-left: 67pt;text-indent: -10pt;text-align: left;"><a href="http://www.it.uu.se/edu/course/homepage/proalgebra" class="s2" target="_blank">http://www.it.uu.se/edu/course/homepage/proalgebra</a></p><p style="padding-left: 67pt;text-indent: 0pt;text-align: left;">Process Algebra at Uppsala University.</p></li><li data-list-text="–"><p style="padding-left: 67pt;text-indent: -10pt;text-align: left;"><a href="http://www.cs.auc.dk/" class="s2" target="_blank">http://www.cs.auc.dk</a>/<span class="s164">∼</span>luca/SV/</p><p style="padding-left: 67pt;text-indent: 0pt;text-align: left;">Semantics and Verification.</p></li><li data-list-text="–"><p style="padding-left: 67pt;text-indent: -10pt;text-align: left;"><a href="http://www.cs.depaul.edu/programs/courses.asp?subject=SE&amp;courseid=533" class="s19" target="_blank">http://www.cs.depaul.edu/programs/courses.asp?subject=SE&amp;courseid=533</a></p><p style="padding-left: 56pt;text-indent: 10pt;text-align: left;">Software Validation and Verification at DePaul University.</p></li><li data-list-text="–"><p style="padding-left: 67pt;text-indent: -10pt;text-align: left;"><a href="http://www.cs.bham.ac.uk/" class="s2" target="_blank">http://www.cs.bham.ac.uk</a>/<span class="s164">∼</span>mzk/courses/SafetyCrit/</p><p style="padding-left: 67pt;text-indent: 0pt;text-align: left;">Safety Critical Systems and Software Reliability at the University of Birm- ingham.</p><p style="text-indent: 0pt;text-align: left;"><br/></p></li><li data-list-text="–"><p style="padding-top: 3pt;padding-left: 67pt;text-indent: -10pt;text-align: left;"><a href="http://fmt.cs.utwente.nl/courses/sysontomg/" class="s2" target="_blank">http://fmt.cs.utwente.nl/courses/sysontomg/</a></p><p style="padding-left: 67pt;text-indent: 0pt;text-align: left;">Systeem-ontwikkelomgevingen at the University of Twente.</p></li><li data-list-text="–"><p style="padding-left: 67pt;text-indent: -10pt;text-align: left;"><a href="http://www.niii.ru.nl/F.Vaandrager/PV/" class="s2" target="_blank">http://www.niii.ru.nl/F.Vaandrager/PV/</a></p><p style="padding-left: 67pt;text-indent: 0pt;text-align: left;">Protocol Validation at the Radboud University of Nijmegen.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 50pt;text-indent: 0pt;text-align: left;">Finally the following books have parts devoted to Uppaal:</p></li><li data-list-text="–"><p class="s87" style="padding-top: 9pt;padding-left: 67pt;text-indent: -10pt;text-align: left;">Concepts, Algorithms and Tools for Model-Checking <span class="p">[47]: Lecture notes in its current form. It treats both Spin and Uppaal.</span></p></li><li data-list-text="–"><p class="s87" style="padding-left: 67pt;text-indent: -10pt;text-align: left;">Systems and Software Verification: Model-checking Techniques and Tools <span class="p">[22]: This book identifies 6 important tools and has a chapter on Uppaal.</span></p></li></ul><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s1" style="padding-left: 50pt;text-indent: 0pt;text-align: left;">References</p><p style="text-indent: 0pt;text-align: left;"><br/></p><ol id="l35"><li data-list-text="1."><p class="s8" style="padding-left: 67pt;text-indent: -12pt;line-height: 106%;text-align: justify;">Luca Aceto, Patricia Bouyer, Augusto Burguen˜o, and Kim Guldstrand Larsen. The power of reachability testing for timed automata. <i>Theoretical Computer Science</i>, 1–3(300):411–475, 2003.</p></li><li data-list-text="2."><p class="s8" style="padding-left: 67pt;text-indent: -12pt;line-height: 106%;text-align: justify;">Luca Aceto, Augusto Burguen˜o, and Kim G. Larsen. Model checking via reachabil- ity testing for timed automata. In Bernhard Steffen, editor, <i>Tools and Algorithms for Construction and Analysis of Systems, 4th International Conference, TACAS ’98</i>, volume 1384 of <i>Lecture Notes in Computer Science</i>, pages 263–280. Springer– Verlag, April 1998.</p></li><li data-list-text="3."><p class="s8" style="padding-left: 67pt;text-indent: -12pt;line-height: 106%;text-align: justify;">Rajeev Alur, Costas Courcoubetis, and David L. Dill. Model-checking for real- time systems. In <i>5th Symposium on Logic in Computer Science (LICS’90)</i>, pages 414–425, 1990.</p></li><li data-list-text="4."><p class="s8" style="padding-left: 67pt;text-indent: -12pt;line-height: 106%;text-align: justify;">Rajeev Alur and David L. Dill. Automata for modeling real-time systems. In <i>Proc. of Int. Colloquium on Algorithms, Languages, and Programming</i>, volume 443 of <i>LNCS</i>, pages 322–335, 1990.</p></li><li data-list-text="5."><p class="s8" style="padding-left: 67pt;text-indent: -12pt;line-height: 106%;text-align: justify;">Tobias Amnell, Gerd Behrmann, Johan Bengtsson, Pedro R. D’Argenio, Alexan- dre David, Ansgar Fehnker, Thomas Hune, Bertrand Jeannet, Kim G. Larsen,</p><p class="s8" style="padding-left: 67pt;text-indent: 0pt;line-height: 106%;text-align: justify;">M. Oliver M¨oller, Paul Pettersson, Carsten Weise, and Wang Yi. Uppaal - Now, Next, and Future. In F. Cassez, C. Jard, B. Rozoy, and M. Ryan, editors, <i>Modelling and Verification of Parallel Processes</i>, number 2067 in Lecture Notes in Computer Science Tutorial, pages 100–125. Springer–Verlag, 2001.</p></li><li data-list-text="6."><p class="s8" style="padding-left: 67pt;text-indent: -12pt;line-height: 106%;text-align: justify;">Tobias Amnell, Elena Fersman, Leonid Mokrushin, Paul Pettersson, and Wang Yi. Times – a tool for modelling and implementation of embedded systems. In <i>TACAS 2002</i>, volume 2280 of <i>Lecture Notes in Computer Science</i>, pages 460–464. Springer–Verlag, April 2002.</p></li><li data-list-text="7."><p class="s8" style="padding-left: 67pt;text-indent: -12pt;line-height: 107%;text-align: justify;">Felice Balarin. Approximate reachability analysis of timed automata. In <i>17th IEEE Real-Time Systems Symposium</i>. IEEE Computer Society Press, 1996.</p></li><li data-list-text="8."><p class="s8" style="padding-left: 67pt;text-indent: -12pt;line-height: 106%;text-align: justify;">Gerd Behrmann. <i>Data Structures and Algorithms for the Analysis of Real Time Systems</i>. PhD thesis, Aalborg University, 2003.</p></li><li data-list-text="9."><p class="s8" style="padding-left: 67pt;text-indent: -12pt;line-height: 106%;text-align: justify;">Gerd Behrmann. Distributed reachability analysis in timed automata. <i>Software Tool For Technology Transfer (STTT)</i>, 2004. Currently available in the Online First edition of STTT.</p></li><li data-list-text="10."><p class="s8" style="padding-left: 67pt;text-indent: -16pt;line-height: 106%;text-align: justify;">Gerd Behrmann, Johan Bengtsson, Alexandre David, Kim G. Larsen, Paul Petters- son, and Wang Yi. Uppaal implementation secrets. In <i>Proc. of 7</i>th <i>International Symposium on Formal Techniques in Real-Time and Fault Tolerant Systems</i>, 2002.</p><p style="text-indent: 0pt;text-align: left;"><br/></p></li><li data-list-text="11."><p class="s8" style="padding-top: 3pt;padding-left: 67pt;text-indent: -16pt;line-height: 106%;text-align: justify;">Gerd Behrmann, Patricia Bouyer, Kim G. Larsen, and Radek Pel¡E1¿nek. Lower and upper bounds in zone-based abstractions of timed automata. <i>International Journal on Software Tools for Technology Transfer</i>, September 2005.</p></li><li data-list-text="12."><p class="s8" style="padding-left: 67pt;text-indent: -16pt;line-height: 106%;text-align: justify;">Gerd Behrmann, Alexandre David, Kim G. Larsen, John H˚akansson, Paul Pet- tersson, Wang Yi, and Martijn Hendriks. UPPAAL 4.0. In <i>Proceedings of the 3rd International Conference on the Quantitative Evaluation of SysTems (QEST) 2006</i>, IEEE Computer Society, pages 125–126, 2006.</p></li><li data-list-text="13."><p class="s8" style="padding-left: 67pt;text-indent: -16pt;line-height: 106%;text-align: justify;">Gerd Behrmann, Alexandre David, Kim G. Larsen, M. Oliver M¨oller, Paul Petters- son, and Wang Yi. Uppaal - present and future. In <i>Proc. of 40</i>th <i>IEEE Conference on Decision and Control</i>. IEEE Computer Society Press, 2001.</p></li><li data-list-text="14."><p class="s8" style="padding-left: 67pt;text-indent: -16pt;line-height: 106%;text-align: justify;">Gerd Behrmann, Alexandre David, Kim G. Larsen, and Wang Yi. Unification &amp; sharing in timed automata verification. In <i>SPIN Workshop 03</i>, volume 2648 of <i>LNCS</i>, pages 225–229, 2003.</p></li><li data-list-text="15."><p class="s8" style="padding-left: 67pt;text-indent: -16pt;line-height: 106%;text-align: justify;">Gerd Behrmann, Ansgar Fehnker, Thomas Hune, Kim G. Larsen, Paul Petters- son, and Judi Romijn. Efficient guiding towards cost-optimality in uppaal. In</p><p class="s8" style="padding-left: 67pt;text-indent: 0pt;line-height: 106%;text-align: justify;">T. Margaria and W. Yi, editors, <i>Proceedings of the 7th International Conference on Tools and Algorithms for the Construction and Analysis of Systems</i>, number 2031 in Lecture Notes in Computer Science, pages 174–188. Springer–Verlag, 2001.</p></li><li data-list-text="16."><p class="s8" style="padding-left: 67pt;text-indent: -16pt;line-height: 106%;text-align: justify;">Gerd Behrmann, Ansgar Fehnker, Thomas Hune, Kim G. Larsen, Paul Pettersson, Judi Romijn, and Frits Vaandrager. Minimum-cost reachability for priced timed automata. In Maria Domenica Di Benedetto and Alberto Sangiovanni-Vincentelli, editors, <i>Proceedings of the 4th International Workshop on Hybrid Systems: Com- putation and Control</i>, number 2034 in Lecture Notes in Computer Sciences, pages 147–161. Springer–Verlag, 2001.</p></li><li data-list-text="17."><p class="s8" style="padding-left: 67pt;text-indent: -16pt;line-height: 106%;text-align: justify;">Gerd Behrmann, Thomas Hune, and Frits Vaandrager. Distributed timed model checking - How the search order matters. In <i>Proc. of 12th International Conference on Computer Aided Verification</i>, Lecture Notes in Computer Science, Chicago, Juli 2000. Springer–Verlag.</p></li><li data-list-text="18."><p class="s8" style="padding-left: 67pt;text-indent: -16pt;line-height: 106%;text-align: justify;">Gerd Behrmann, Kim G. Larsen, Justin Pearson, Carsten Weise, and Wang Yi. Efficient timed reachability analysis using clock difference diagrams. In <i>Proceedings of the 12th Int. Conf. on Computer Aided Verification</i>, volume 1633 of <i>Lecture Notes in Computer Science</i>. Springer–Verlag, 1999.</p></li><li data-list-text="19."><p class="s8" style="padding-left: 67pt;text-indent: -16pt;line-height: 107%;text-align: justify;">Johan Bengtsson. <i>Clocks, DBMs and States in Timed Systems</i>. PhD thesis, Upp- sala University, 2002.</p></li><li data-list-text="20."><p class="s8" style="padding-left: 67pt;text-indent: -16pt;line-height: 106%;text-align: justify;">Johan Bengtsson, Bengt Jonsson, Johan Lilius, and Wang Yi. Partial order re- ductions for timed systems. In <i>Proceedings of the 9th International Conference on Concurrency Theory</i>, September 1998.</p></li><li data-list-text="21."><p class="s8" style="padding-left: 67pt;text-indent: -16pt;line-height: 106%;text-align: justify;">Johan Bengtsson, Kim G. Larsen, Fredrik Larsson, Paul Pettersson, Yi Wang, and Carsten Weise. New generation of uppaal. In <i>Int. Workshop on Software Tools for Technology Transfer</i>, June 1998.</p></li><li data-list-text="22."><p class="s8" style="padding-left: 67pt;text-indent: -16pt;line-height: 106%;text-align: justify;">Beatrice Berard, Michel Bidoit, Alain Finkel, Francois Laroussinie, Antoine Petit, Laure Petrucci, Philippe Schnoebelen, and Pierre McKenzie. <i>Systems and Software Verification: Model-Checking Techniques and Tools</i>. Springer–Verlag, 2001.</p></li><li data-list-text="23."><p class="s8" style="padding-left: 67pt;text-indent: -16pt;line-height: 106%;text-align: justify;">Howard Bowman, Giorgio P. Faconti, Joost-Pieter Katoen, Diego Latella, and Mieke Massink. Automatic verification of a lip synchronisation algorithm using uppaal. In Bas Luttik Jan Friso Groote and Jos van Wamel, editors, <i>In Proceed- ings of the 3rd International Workshop on Formal Methods for Industrial Critical Systems. Amsterdam , The Netherlands</i>, 1998.</p></li><li data-list-text="24."><p class="s8" style="padding-left: 67pt;text-indent: -16pt;line-height: 106%;text-align: justify;">Pedro .R. D’Argenio, Joost-Pieter. Katoen, Theo C. Ruys, and Jan Tretmans. The bounded retransmission protocol must be on time! In <i>In Proceedings of the</i></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s7" style="padding-top: 3pt;padding-left: 67pt;text-indent: 0pt;line-height: 106%;text-align: justify;">3rd International Workshop on Tools and Algorithms for the Construction and Analysis of Systems<span class="s8">, volume 1217 of </span>LNCS<span class="s8">, pages 416–431. Springer–Verlag, April 1997.</span></p></li><li data-list-text="25."><p class="s8" style="padding-left: 67pt;text-indent: -16pt;line-height: 10pt;text-align: justify;">Alexandre David. <i>Hierarchical Modeling and Analysis of Timed Systems</i>. PhD</p><p class="s8" style="padding-left: 67pt;text-indent: 0pt;line-height: 10pt;text-align: justify;">thesis, Uppsala University, November 2003.</p></li><li data-list-text="26."><p class="s8" style="padding-left: 67pt;text-indent: -16pt;line-height: 106%;text-align: justify;">Alexandre David, Gerd Behrmann, Kim G. Larsen, and Wang Yi. New uppaal architecture. In Paul Pettersson and Wang Yi, editors, <i>Workshop on Real-Time Tools</i>, Uppsala University Technical Report Series, 2002.</p></li><li data-list-text="27."><p class="s8" style="padding-left: 67pt;text-indent: -16pt;line-height: 10pt;text-align: justify;">Alexandre David, Gerd Behrmann, Kim G. Larsen, and Wang Yi. A tool architec-</p><p class="s8" style="padding-left: 65pt;text-indent: 0pt;line-height: 107%;text-align: right;">ture for the next generation of uppaal. In <i>10th Anniversary Colloquium. Formal Methods at the Cross Roads: From Panacea to Foundational Support</i>, LNCS, 2003.</p></li><li data-list-text="28."><p class="s8" style="padding-left: 16pt;text-indent: -16pt;line-height: 9pt;text-align: right;">Alexandre David, John H˚akansson, Kim G. Larsen, and Paul Pettersson. Model</p><p class="s8" style="padding-left: 67pt;text-indent: 0pt;line-height: 106%;text-align: justify;">checking timed automata with priorities using dbm subtraction. In <i>Proceedings of the 4th International Conference on Formal Modelling and Analysis of Timed Systems (FORMATS’06)</i>, volume 4202 of <i>LNCS</i>, pages 128–142, 2006.</p></li><li data-list-text="29."><p class="s8" style="padding-left: 67pt;text-indent: -16pt;line-height: 10pt;text-align: justify;">Alexandre David, M. Oliver M¨oller, and Wang Yi. Formal verification of UML</p><p class="s8" style="padding-left: 67pt;text-indent: 0pt;line-height: 106%;text-align: justify;">statecharts with real-time extensions. In Ralf-Detlef Kutsche and Herbert We- ber, editors, <i>Fundamental Approaches to Software Engineering, 5th International Conference, FASE 2002</i>, volume 2306 of <i>LNCS</i>, pages 218–232. Springer–Verlag, 2002.</p></li><li data-list-text="30."><p class="s8" style="padding-left: 67pt;text-indent: -16pt;line-height: 10pt;text-align: justify;">Alexandre David and Wang Yi. Modelling and analysis of a commercial field bus</p><p class="s8" style="padding-left: 67pt;text-indent: 0pt;line-height: 106%;text-align: justify;">protocol. In <i>Proceedings of the 12th Euromicro Conference on Real Time Systems</i>, pages 165–172. IEEE Computer Society, 2000.</p></li><li data-list-text="31."><p class="s8" style="padding-left: 67pt;text-indent: -16pt;line-height: 10pt;text-align: left;">Ansgar Fehnker. <i>Citius, Vilius, Melius: Guiding and Cost-Optimality in Model</i></p><p class="s7" style="padding-left: 67pt;text-indent: 0pt;line-height: 106%;text-align: left;">Checking of Timed and Hybrid Systems<span class="s8">. PhD thesis, University of Nijmegen, April 2002.</span></p></li><li data-list-text="32."><p class="s8" style="padding-left: 67pt;text-indent: -16pt;line-height: 10pt;text-align: left;">Elena Fersman. <i>A Generic Approach to Schedulability Analysis of Real-Time Sys-</i></p><p class="s7" style="padding-left: 67pt;text-indent: 0pt;line-height: 10pt;text-align: left;">tems<span class="s8">. PhD thesis, Uppsala University, November 2003.</span></p></li><li data-list-text="33."><p class="s8" style="padding-left: 67pt;text-indent: -16pt;line-height: 106%;text-align: justify;">B. Gebremichael, T. Krilavicius, and Y.S. Usenko. A formal analysis of a car periphery supervision system. Technical Report NIII-R0418, Radboud University of Nijmegen, 2004.</p></li><li data-list-text="34."><p class="s8" style="padding-left: 67pt;text-indent: -16pt;line-height: 10pt;text-align: justify;">Klaus Havelund, Kim G. Larsen, and Arne Skou.  Formal verification of a</p><p class="s8" style="padding-left: 67pt;text-indent: 0pt;line-height: 106%;text-align: justify;"><a href="http://www.uppaal.co/" class="s19" target="_blank">power controller using the real-time model checker uppaal.  5th Interna- tional AMAST Workshop on Real-Time and Probabilistic Systems, available at </a>http://www.uppaal.co m, 1999.</p></li><li data-list-text="35."><p class="s8" style="padding-left: 67pt;text-indent: -16pt;line-height: 10pt;text-align: justify;">Klaus Havelund, Arne Skou, Kim G. Larsen, and Kristian Lund. Formal modelling</p><p class="s8" style="padding-left: 67pt;text-indent: 0pt;line-height: 106%;text-align: justify;">and analysis of an audio/video protocol: An industrial case study using uppaal. In <i>Proceedings of the 18th IEEE Real-Time Systems Symposium</i>, pages 2–13, De- cember 1997.</p></li><li data-list-text="36."><p class="s8" style="padding-left: 67pt;text-indent: -16pt;line-height: 10pt;text-align: justify;">M. Hendriks, G. Behrmann, K.G. Larsen, P. Niebert, and F.W. Vaandrager.</p><p class="s8" style="padding-left: 67pt;text-indent: 0pt;line-height: 106%;text-align: justify;">Adding symmetry reduction to uppaal. In <i>Proceedings First International Work- shop on Formal Modeling and Analysis of Timed Systems (FORMATS 2003)</i>, vol- ume 2791 of <i>Lecture Notes in Computer Science</i>, 2003.</p></li><li data-list-text="37."><p class="s8" style="padding-left: 67pt;text-indent: -16pt;line-height: 10pt;text-align: left;">M. Hendriks, N.J.M. van den Nieuwelaar, and F.W. Vaandrager. Model checker</p><p class="s8" style="padding-left: 67pt;text-indent: 0pt;line-height: 107%;text-align: left;">aided design of a controller for a wafer scanner. Technical Report NIII-R0430, Radboud University of Nijmegen, 2004.</p></li><li data-list-text="38."><p class="s8" style="padding-left: 67pt;text-indent: -16pt;line-height: 9pt;text-align: left;">Martijn Hendriks and Kim G. Larsen. Exact acceleration of real-time model check-</p><p class="s8" style="padding-left: 67pt;text-indent: 0pt;line-height: 107%;text-align: left;">ing. In E. Asarin, O. Maler, and S. Yovine, editors, <i>Electronic Notes in Theoretical Computer Science</i>, volume 65. Elsevier Science Publishers, April 2002.</p></li><li data-list-text="39."><p class="s8" style="padding-left: 67pt;text-indent: -16pt;line-height: 9pt;text-align: left;">Thomas A. Henzinger. Symbolic model checking for real-time systems. <i>Information</i></p><p class="s7" style="padding-left: 67pt;text-indent: 0pt;text-align: left;">and Computation<span class="s8">, 111:193–244, 1994.</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p></li><li data-list-text="40."><p class="s8" style="padding-top: 3pt;padding-left: 67pt;text-indent: -16pt;line-height: 107%;text-align: justify;">Gerard J. Holzmann. <i>Design and Validation of Computer Protocols</i>. Prentice-Hall, 1991.</p></li><li data-list-text="41."><p class="s8" style="padding-left: 67pt;text-indent: -16pt;line-height: 9pt;text-align: justify;">Gerard J. Holzmann. An analysis of bitstate hashing. <i>Formal Methods in System</i></p><p class="s7" style="padding-left: 67pt;text-indent: 0pt;line-height: 10pt;text-align: justify;">Design<span class="s8">, 13:289–307, 1998.</span></p></li><li data-list-text="42."><p class="s8" style="padding-left: 67pt;text-indent: -16pt;line-height: 106%;text-align: justify;">John E. Hopcroft and Jeffrey D. Ullman. <i>Introduction of Automata Theory, Lan- guages, and Computation</i>. Addison Wesley, 2001.</p></li><li data-list-text="43."><p class="s8" style="padding-left: 67pt;text-indent: -16pt;line-height: 10pt;text-align: justify;">Thomas Hune, Kim G. Larsen, and Paul Pettersson. Guided synthesis of control</p><p class="s8" style="padding-left: 67pt;text-indent: 0pt;line-height: 106%;text-align: justify;">programs using uppaal. In Ten H. Lai, editor, <i>Proc. of the IEEE ICDCS In- ternational Workshop on Distributed Systems Verification and Validation</i>, pages E15–E22. IEEE Computer Society Press, April 2000.</p></li><li data-list-text="44."><p class="s8" style="padding-left: 67pt;text-indent: -16pt;line-height: 10pt;text-align: justify;">Torsten K. Iversen, K˚are J. Kristoffersen, Kim G. Larsen, Morten Laursen, Rune G.</p><p class="s8" style="padding-left: 67pt;text-indent: 0pt;line-height: 106%;text-align: justify;">Madsen, Steffen K. Mortensen, Paul Pettersson, and Chris B. Thomasen. Model- checking real-time control programs — Verifying LEGO mindstorms systems using uppaal. In <i>Proc. of 12</i>th <i>Euromicro Conference on Real-Time Systems</i>, pages 147–</p><p class="s8" style="padding-left: 67pt;text-indent: 0pt;line-height: 10pt;text-align: justify;">155. IEEE Computer Society Press, June 2000.</p></li><li data-list-text="45."><p class="s8" style="padding-left: 67pt;text-indent: -16pt;line-height: 106%;text-align: justify;">Henrik Ejersbo Jensen. <i>Abstraction-Based Verification of Distributed Systems</i>. PhD thesis, Aalborg University, June 1999.</p></li><li data-list-text="46."><p class="s8" style="padding-left: 67pt;text-indent: -16pt;line-height: 10pt;text-align: justify;">Henrik Ejersbo Jensen, Kim Guldstrand Larsen, and Arne Skou. Scaling up uppaal</p><p class="s8" style="padding-left: 67pt;text-indent: 0pt;line-height: 106%;text-align: justify;">automatic verification of real-time systems using compositionality and abstraction. In Mathai Joseph, editor, <i>Formal Techniques in Real-Time and Fault-Tolerant Sys- tems, 6th International Symposium, FTRTFT 2000</i>, volume 1926 of <i>Lecture Notes in Computer Science</i>, pages 19–20. Springer–Verlag, 2000.</p></li><li data-list-text="47."><p class="s8" style="padding-left: 67pt;text-indent: -16pt;line-height: 10pt;text-align: justify;">Joost-Pieter Katoen.  <i>Concepts, Algorithms, and Tools for Model Checking</i>.</p><p class="s8" style="padding-left: 67pt;text-indent: 0pt;line-height: 10pt;text-align: justify;">http://www.it-c.dk/people/hra/mcpa/katoen.ps, 1999.</p></li><li data-list-text="48."><p class="s8" style="padding-left: 67pt;text-indent: -16pt;line-height: 106%;text-align: justify;">Arne Skou Klaus Havelund, Kim Guldstrand Larsen. Formal verification of a power controller using the real-time model checker Uppaal. In <i>5th Int. AMAST Workshop on Real-Time and Probabilistic Systems</i>, volume 1601 of <i>Lecture Notes in Computer Science</i>, pages 277–298. Springer–Verlag, 1999.</p></li><li data-list-text="49."><p class="s8" style="padding-left: 67pt;text-indent: -16pt;line-height: 10pt;text-align: justify;">L.M. Kristensen and T. Mailund. A Generalised Sweep-Line Method for Safety</p><p class="s8" style="padding-left: 67pt;text-indent: 0pt;line-height: 106%;text-align: justify;">Properties. In <i>Proc. of FME’02</i>, volume 2391 of <i>LNCS</i>, pages 549–567. Springer- Verlag, 2002.</p></li><li data-list-text="50."><p class="s8" style="padding-left: 67pt;text-indent: -16pt;line-height: 10pt;text-align: left;">K˚are  J.  Kristoffersen.    <i>Compositional  Verification  of  Concur-</i></p><p class="s7" style="padding-left: 67pt;text-indent: 0pt;line-height: 106%;text-align: left;">rent  Systems<a href="http://www.itu.dk/people/kjk/publications.html" class="s19" target="_blank">.    PhD  thesis,  Aalborg  University,  August  1998. http://www.itu.dk/people/kjk/publications.html.</a></p></li><li data-list-text="51."><p class="s8" style="padding-left: 67pt;text-indent: -16pt;line-height: 10pt;text-align: left;">Kim G. Larsen, Gerd Behrmann, Ed Brinksma, Ansgar Fehnker, Thomas Hune,</p><p class="s8" style="padding-left: 67pt;text-indent: 0pt;line-height: 106%;text-align: justify;">Paul Pettersson, and Judi Romijn. As cheap as possible: Efficient cost-optimal reachability for priced timed automata. In G. Berry, H. Comon, and A. Finkel, editors, <i>Proceedings of CAV 2001</i>, number 2102 in Lecture Notes in Computer Science, pages 493–505. Springer–Verlag, 2001.</p></li><li data-list-text="52."><p class="s8" style="padding-left: 67pt;text-indent: -16pt;line-height: 10pt;text-align: left;">Kim G. Larsen, Paul Pettersson, and Wang Yi. Uppaal in a nutshell. <i>Int. Journal</i></p><p class="s7" style="padding-left: 67pt;text-indent: 0pt;line-height: 10pt;text-align: justify;">on Software Tools for Technology Transfer<span class="s8">, 1(1–2):134–152, October 1997.</span></p></li><li data-list-text="53."><p class="s8" style="padding-left: 67pt;text-indent: -16pt;line-height: 106%;text-align: justify;">Fredrik Larsson, Kim G. Larsen, Paul Pettersson, and Wang Yi. Efficient verifi- cation of real-time systems: Compact data structures and state-space reduction. In <i>Proc. of the 18</i>th <i>IEEE Real-Time Systems Symposium</i>, pages 14–24. IEEE Computer Society Press, December 1997.</p></li><li data-list-text="54."><p class="s8" style="padding-left: 67pt;text-indent: -16pt;line-height: 10pt;text-align: justify;">Magnus Lindahl, Paul Pettersson, and Wang Yi. Formal design and analysis of a</p><p class="s8" style="padding-left: 67pt;text-indent: 0pt;line-height: 106%;text-align: justify;">gearbox controller. <i>Springer International Journal of Software Tools for Technology Transfer (STTT)</i>, 3(3):353–368, 2001.</p></li><li data-list-text="55."><p class="s8" style="padding-left: 67pt;text-indent: -16pt;line-height: 10pt;text-align: justify;">Henrik L¨onn and Paul Pettersson. Formal verification of a TDMA protocol startup</p><p class="s8" style="padding-left: 67pt;text-indent: 0pt;line-height: 106%;text-align: justify;">mechanism. In <i>Proc. of the Pacific Rim Int. Symp. on Fault-Tolerant Systems</i>, pages 235–242, December 1997.</p><p style="text-indent: 0pt;text-align: left;"><br/></p></li><li data-list-text="56."><p class="s8" style="padding-top: 3pt;padding-left: 67pt;text-indent: -16pt;line-height: 107%;text-align: justify;">Brian Nielsen. <i>Specification and Test of Real-Time Systems</i>. PhD thesis, Aalborg University, 2000.</p></li><li data-list-text="57."><p class="s8" style="padding-left: 67pt;text-indent: -16pt;line-height: 106%;text-align: justify;">Paul Pettersson. <i>Modelling and Verification of Real-time Systems Using Timed Automata: Theory and Practice</i>. PhD thesis, Uppsala University, 1999.</p></li><li data-list-text="58."><p class="s8" style="padding-left: 67pt;text-indent: -16pt;line-height: 106%;text-align: justify;">D.P.L. Simons and M.I.A. Stoelinga. Mechanical verification of the IEEE 1394a root contention protocol using Uppaal2k. <i>Springer International Journal of Soft- ware Tools for Technology Transfer</i>, pages 469–485, 2001.</p></li><li data-list-text="59."><p class="s8" style="padding-left: 67pt;text-indent: -16pt;line-height: 106%;text-align: justify;">F.W. Vaandrager and A.L. de Groot. Analysis of a biphase mark protocol with Uppaal and PVS. Technical Report NIII-R0445, Radboud University of Nijmegen, 2004.</p></li><li data-list-text="60."><p class="s8" style="padding-left: 67pt;text-indent: -16pt;line-height: 106%;text-align: justify;">Wang Yi, Paul Petterson, and Mats Daniels. Automatic verification of real-time communicating systems by constraint-solving. In <i>Seventh International Conference on Formal Description Techniques</i>, pages 223–238, 1994.</p></li></ol><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s1" style="padding-top: 7pt;padding-left: 50pt;text-indent: 0pt;text-align: left;">Appendix</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s85" style="padding-left: 108pt;text-indent: 0pt;text-align: left;"><span class="s7">Expression </span>→ <span class="s8">ID </span>| <span class="s8">NAT</span></p><p class="s7" style="padding-left: 158pt;text-indent: 0pt;text-align: left;"><span class="s85">| </span>Expression <span class="s8">’[’ </span>Expression <span class="s8">’]’</span></p><p class="s8" style="padding-left: 158pt;text-indent: 0pt;text-align: left;"><span class="s85">| </span>’(’ <i>Expression </i>’)’</p><p class="s85" style="padding-left: 158pt;text-indent: 0pt;text-align: left;">| <span class="s7">Expression </span><span class="s8">’++’ </span>| <span class="s8">’++’ </span><span class="s7">Expression</span></p><p class="s85" style="padding-left: 158pt;text-indent: 0pt;text-align: left;">| <span class="s7">Expression </span><span class="s8">’--’ </span>| <span class="s8">’--’ </span><span class="s7">Expression</span></p><p class="s85" style="padding-left: 158pt;text-indent: 0pt;text-align: left;">| <span class="s7">Expression AssignOp Expression</span></p><p class="s85" style="padding-left: 158pt;text-indent: 0pt;text-align: left;">| <span class="s7">UnaryOp Expression</span></p><p class="s85" style="padding-left: 158pt;text-indent: 0pt;text-align: left;">| <span class="s7">Expression BinaryOp Expression</span></p><p class="s7" style="padding-left: 158pt;text-indent: 0pt;text-align: left;"><span class="s85">| </span>Expression <span class="s8">’?’ </span>Expression <span class="s8">’:’ </span>Expression</p><p class="s85" style="padding-left: 158pt;text-indent: 0pt;text-align: left;">| <span class="s7">Expression </span><span class="s8">’.’ ID</span></p><p class="s85" style="padding-left: 108pt;text-indent: 0pt;text-align: left;"><span class="s7">UnaryOp  </span>→ <span class="s8">’-’ </span>| <span class="s8">’!’ </span>| <span class="s8">’not’</span></p><p class="s85" style="padding-left: 108pt;text-indent: 0pt;text-align: left;"><span class="s7">BinaryOp </span>→ <span class="s8">’&lt;’ </span>| <span class="s8">’&lt;=’ </span>| <span class="s8">’==’ </span>| <span class="s8">’!=’ </span>| <span class="s8">’&gt;=’ </span>| <span class="s8">’&gt;’</span></p><p class="s85" style="padding-left: 158pt;text-indent: 0pt;text-align: left;">| <span class="s8">’+’ </span>| <span class="s8">’-’ </span>| <span class="s8">’*’ </span>| <span class="s8">’/’ </span>| <span class="s8">’%’ </span>| <span class="s8">’&amp;’</span></p><p class="s85" style="padding-left: 158pt;text-indent: 0pt;text-align: left;">| <span class="s8">’</span>|<span class="s8">’ </span>| <span class="s8">’^’ </span>| <span class="s8">’&lt;&lt;’ </span>| <span class="s8">’&gt;&gt;’ </span>| <span class="s8">’&amp;&amp;’ </span>| <span class="s8">’</span>||<span class="s8">’</span></p><p class="s85" style="padding-left: 158pt;text-indent: 0pt;text-align: left;">| <span class="s8">’&lt;?’ </span>| <span class="s8">’&gt;?’ </span>| <span class="s8">’and’ </span>| <span class="s8">’or’ </span>| <span class="s8">’imply’</span></p><p class="s85" style="padding-left: 108pt;text-indent: 0pt;text-align: left;"><span class="s7">AssignOp </span>→ <span class="s8">’:=’ </span>| <span class="s8">’+=’ </span>| <span class="s8">’-=’ </span>| <span class="s8">’*=’ </span>| <span class="s8">’/=’ </span>| <span class="s8">’%=’</span></p><p class="s85" style="padding-left: 158pt;text-indent: 0pt;text-align: left;">| <span class="s8">’</span>|<span class="s8">=’ </span>| <span class="s8">’&amp;=’ </span>| <span class="s8">’^=’ </span>| <span class="s8">’&lt;&lt;=’ </span>| <span class="s8">’&gt;&gt;=’</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s8" style="padding-left: 144pt;text-indent: 0pt;text-align: left;">Fig. 33. Syntax of expressions in BNF.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s8" style="padding-top: 3pt;padding-left: 50pt;text-indent: 0pt;text-align: left;">Table 3. Options of verifyta and the corresponding options in the GUI. Defaults of</p><p class="s8" style="padding-left: 50pt;text-indent: 0pt;text-align: left;">verifyta are shown in boldface.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s8" style="padding-top: 3pt;padding-left: 59pt;text-indent: 0pt;text-align: center;">State Space Representation</p><p class="s8" style="padding-left: 57pt;text-indent: 0pt;text-align: left;">-C <span class="s22">DBM</span></p><p class="s8" style="padding-left: 78pt;text-indent: 0pt;line-height: 106%;text-align: justify;">Use DBMs rather than a minimal constrain graph [53] in the state represen- tation used to store reachable states. This increases the memory usage (more so in models with many clocks), but is often faster.</p><p class="s8" style="padding-left: 57pt;text-indent: 0pt;line-height: 10pt;text-align: left;">-A <span class="s22">Over approximation</span></p><p class="s8" style="padding-left: 78pt;text-indent: 0pt;line-height: 107%;text-align: justify;">Use convex hull over-approximation [7]. For timed systems, this can drastically increase verification speed. For untimed systems, this has no effect.</p><p class="s8" style="padding-left: 57pt;text-indent: 0pt;line-height: 10pt;text-align: left;">-Z  <span class="s22">Under approximation</span></p><p class="s8" style="padding-left: 78pt;text-indent: 0pt;line-height: 106%;text-align: justify;">Use bit-state hashing under-approximation. This reduces memory consump- tion to a more of less fixed amount. The precision of the approximation is controlled by changing the hash table size. Known as <i>super-trace </i>in [40,41].</p><p class="s8" style="padding-left: 57pt;text-indent: 0pt;line-height: 10pt;text-align: left;">-T <span class="s22">Reuse</span></p><p class="s8" style="padding-left: 78pt;text-indent: 0pt;line-height: 106%;text-align: justify;">Speed up verification by reusing the generated state-space when possible. For some combinations of properties this option can <i>possibly </i>lead to a larger state- space representation, thus nullifying the speedup.</p><p class="s8" style="padding-left: 78pt;text-indent: -20pt;line-height: 106%;text-align: justify;">-U  When representing states with minimal constraint graphs, this option changes how states are compared. It reduces the memory consumption at the expense of a more time consuming comparison operator. The reduced memory usage might cancel out the overhead. In the GUI, this is always on.</p><p class="s8" style="padding-left: 78pt;text-indent: -20pt;line-height: 106%;text-align: justify;">-H  Change the size of hash tables used during verification. Can give a speedup for large systems.</p><p class="s8" style="padding-left: 59pt;text-indent: 0pt;line-height: 10pt;text-align: center;">State Space Reduction</p><p class="s8" style="padding-left: 57pt;text-indent: 0pt;line-height: 10pt;text-align: left;">-S0 <span class="s22">None</span></p><p class="s8" style="padding-left: 78pt;text-indent: 0pt;line-height: 106%;text-align: justify;">Store all reachable states. Uses most memory, but avoids that any state is explored more than once.</p><p class="s8" style="padding-left: 57pt;text-indent: 0pt;line-height: 10pt;text-align: left;">-S1 <span class="s22">Conservative</span></p><p class="s8" style="padding-left: 78pt;text-indent: 0pt;line-height: 106%;text-align: justify;">Store all non-committed states. Less memory when committed locations are used, and for most models states are only explored once.</p><p class="s8" style="padding-left: 57pt;text-indent: 0pt;line-height: 10pt;text-align: left;">-S2 <span class="s22">Aggressive</span></p><p class="s8" style="padding-left: 78pt;text-indent: 0pt;line-height: 106%;text-align: justify;">Try hard to reduce the number of states stored. Uses much less memory, but might take much more time. Do not combine this option with depth first search, as the running time increases drastically.</p><p class="s8" style="padding-top: 2pt;padding-left: 192pt;text-indent: 0pt;line-height: 10pt;text-align: justify;">Search Order</p><p class="s8" style="padding-left: 57pt;text-indent: 0pt;line-height: 9pt;text-align: left;">-b <span class="s22">Breadth First</span></p><p class="s8" style="padding-left: 78pt;text-indent: 0pt;text-align: left;">Search the state space using a breadth first strategy.</p><p class="s8" style="padding-left: 57pt;text-indent: 0pt;text-align: left;">-d  <span class="s22">Depth First</span></p><p class="s8" style="padding-left: 78pt;text-indent: 0pt;text-align: left;">Search the state space using a depth first strategy.</p><p class="s8" style="padding-top: 3pt;padding-left: 59pt;text-indent: 0pt;text-align: center;">Trace Options</p><p class="s8" style="padding-left: 57pt;text-indent: 0pt;line-height: 10pt;text-align: left;">-t0 <span class="s22">Some Trace</span></p><p class="s8" style="padding-left: 78pt;text-indent: 0pt;text-align: left;">Generate some diagnostic trace.</p><p class="s8" style="padding-left: 57pt;text-indent: 0pt;text-align: left;">-t1 <span class="s22">Shortest Trace</span></p><p class="s8" style="padding-left: 78pt;text-indent: 0pt;text-align: left;">Generate the shortest (in number of steps) trace.</p><p class="s8" style="padding-left: 57pt;text-indent: 0pt;text-align: left;">-t2 <span class="s22">Fastest Trace</span></p><p class="s8" style="padding-left: 78pt;text-indent: 0pt;text-align: left;">Generate the fastest (smallest time delay) trace.</p><p class="s8" style="padding-left: 57pt;text-indent: 0pt;text-align: left;">-f  Write traces to XTR trace files (which can be read by the GUI).</p><p class="s8" style="padding-left: 78pt;text-indent: -20pt;line-height: 106%;text-align: left;">-y  By default concrete traces (showing both delay and control transitions) are produced. This option produces symbolic traces like those shown in the GUI.</p><p style="padding-left: 336pt;text-indent: 0pt;text-align: left;"><a name="bookmark83"><span><img width="19" height="28" alt="image" src="Docs_files/Image_168.jpg"/></span></a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s172" style="padding-top: 7pt;padding-left: 25pt;text-indent: 0pt;text-align: left;"><a name="bookmark82">On-the-fly solving of railway games             </a><span class="s173">Ha</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s22" style="padding-left: 25pt;text-indent: 0pt;text-align: left;">Michael R. Hansen</p><p style="text-indent: 0pt;text-align: left;"><span><img width="438" height="160" alt="image" src="Docs_files/Image_169.png"/></span></p><p class="s22" style="padding-top: 1pt;padding-left: 25pt;text-indent: 0pt;text-align: left;">based on joint work with Patrick Kasting and Steen Vester</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s173" style="padding-top: 6pt;text-indent: 0pt;text-align: right;">Ha</p><p class="s22" style="padding-top: 5pt;padding-left: 25pt;text-indent: 0pt;text-align: left;">From speakers in an S-train:</p><p class="s174" style="padding-top: 8pt;padding-left: 58pt;text-indent: 0pt;text-align: left;">Line E is now driving according to a changed plan</p><p style="text-indent: 0pt;text-align: left;"><br/></p><ul id="l36"><li data-list-text="•"><p class="s22" style="padding-top: 9pt;padding-left: 43pt;text-indent: -8pt;text-align: left;">Application area: Railway network</p><ul id="l37"><li data-list-text="•"><p class="s18" style="padding-top: 3pt;padding-left: 62pt;text-indent: -8pt;text-align: left;">Desire: Generate correct control programs automatically when unusual situations occur, like broken signals, points, ect.</p></li></ul></li><li data-list-text="•"><p class="s22" style="padding-top: 2pt;padding-left: 43pt;text-indent: -8pt;text-align: left;">Domain modelling: understanding the application area</p><ul id="l38"><li data-list-text="•"><p class="s18" style="padding-top: 1pt;padding-left: 62pt;text-indent: -8pt;text-align: left;">Make the models suitable for computations</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="173" height="82" alt="image" src="Docs_files/Image_170.png"/></span></p><p class="s31" style="text-indent: 0pt;text-align: right;">t1</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s31" style="padding-top: 5pt;text-indent: 0pt;text-align: right;">sss222000</p><p style="text-indent: 0pt;text-align: left;"/><p class="s31" style="text-indent: 0pt;text-align: left;">t2</p><p style="text-indent: 0pt;text-align: left;"/><p style="text-indent: 0pt;text-align: left;"><span><img width="174" height="82" alt="image" src="Docs_files/Image_171.png"/></span></p><p class="s31" style="padding-left: 2pt;text-indent: 0pt;line-height: 6pt;text-align: left;">sss222000</p><p class="s31" style="padding-top: 2pt;text-indent: 0pt;text-align: left;">t2</p><p style="text-indent: 0pt;text-align: left;"/><p class="s31" style="text-indent: 0pt;text-align: left;">t1</p><p style="text-indent: 0pt;text-align: left;"/><p class="s173" style="padding-top: 6pt;text-indent: 0pt;text-align: right;">Ha</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s31" style="padding-top: 4pt;text-indent: 0pt;text-align: right;">ss1100</p><p class="s31" style="padding-top: 4pt;padding-left: 134pt;text-indent: 0pt;text-align: center;">s11</p><p class="s22" style="padding-top: 1pt;padding-left: 134pt;text-indent: 0pt;text-align: center;">Initial positions</p><p class="s31" style="padding-top: 4pt;padding-left: 6pt;text-indent: 0pt;text-align: left;">s12</p><p class="s31" style="padding-top: 4pt;text-indent: 0pt;text-align: right;">s10</p><p class="s31" style="padding-top: 4pt;padding-left: 134pt;text-indent: 0pt;text-align: center;">s11</p><p class="s22" style="padding-top: 1pt;padding-left: 134pt;text-indent: 0pt;text-align: center;">Destinations</p><p class="s31" style="padding-top: 4pt;padding-left: 11pt;text-indent: 0pt;text-align: left;">s12</p><p style="text-indent: 0pt;text-align: left;"><br/></p></li></ul></li><li data-list-text="•"><p class="s175" style="padding-top: 6pt;padding-left: 43pt;text-indent: -8pt;text-align: left;">Signaling plan<span style=" color: #000;">: Mapping from train positions to configurations of points and signals</span></p></li><li data-list-text="•"><p class="s175" style="padding-top: 9pt;padding-left: 43pt;text-indent: -8pt;text-align: left;">The problem<span style=" color: #000;">: Synthesis of a signaling plan that safely guides trains from their initial positions to their destinations</span></p></li><li data-list-text="•"><p class="s175" style="padding-top: 9pt;padding-left: 43pt;text-indent: -8pt;text-align: left;">The challenge: <span style=" color: #000;">How big is the state space of this example?</span></p><ul id="l39"><li data-list-text="•"><p class="s18" style="padding-top: 3pt;padding-left: 62pt;text-indent: -8pt;text-align: left;">grows exponentially in number of trains, signals and points unless ...</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s175" style="padding-left: 110pt;text-indent: 0pt;text-align: left;">Examples and figures originate from [Kasting16]</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s177" style="padding-top: 6pt;padding-left: 51pt;text-indent: -25pt;text-align: left;"><span class="s176">Goal: </span>Synthesis of <span style=" color: #B72D05;">correct-by-construction </span>control programs for railway networks using reachability games</p><p class="s173" style="padding-top: 2pt;text-indent: 0pt;text-align: right;">Ha</p><p class="s22" style="padding-top: 8pt;padding-left: 25pt;text-indent: 0pt;text-align: left;">BSc. thesis by Patrick Kasting and subsequent publication:</p></li></ul></li><li data-list-text="•"><p class="s22" style="padding-top: 3pt;padding-left: 43pt;text-indent: -8pt;text-align: left;">Synthesis of signalling plans for railway networks using reachability games, P. Kasting, Bsc. thesis DTU, 2016</p></li><li data-list-text="•"><p class="s22" style="padding-top: 3pt;padding-left: 43pt;text-indent: -8pt;text-align: left;">Synthesis of Railway-signalling plans using reachability games, P. Kasting, M.R. Hansen, S. Vester. 28th Symposium on the Implementation and Application of Functional Programming Languages, IEEE 2017</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s22" style="padding-left: 25pt;text-indent: 0pt;text-align: left;">Ongoing work: <span style=" color: #0000B2;">On-the-fly solving </span>of railway games</p></li><li data-list-text="•"><p class="s22" style="padding-top: 3pt;padding-left: 43pt;text-indent: -8pt;text-align: left;">First prototype, Michael R. Hansen</p></li><li data-list-text="•"><p class="s22" style="padding-top: 3pt;padding-left: 43pt;text-indent: -8pt;text-align: left;">MSc. thesis Sune Bartels, finished 2018</p></li><li data-list-text="•"><p class="s22" style="padding-top: 3pt;padding-left: 43pt;text-indent: -8pt;text-align: left;">Msc. thesis Mathias Kok, finished 2019</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s175" style="padding-left: 25pt;text-indent: 0pt;text-align: left;">Many examples and figures originates from the BSc thesis of P. Kasting</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s22" style="padding-top: 6pt;padding-left: 25pt;text-indent: 0pt;text-align: left;">A control system plays against an evil super train driver:</p></li><li data-list-text="•"><p class="s175" style="padding-top: 3pt;padding-left: 43pt;text-indent: -8pt;text-align: left;">control system <span style=" color: #000;">is in charge of points and signals</span></p></li><li data-list-text="•"><p class="s175" style="padding-top: 3pt;padding-left: 43pt;text-indent: -8pt;line-height: 9pt;text-align: left;">vicious &quot;super train driver&quot; <span style=" color: #000;">controls movements of all trains         </span><span class="s178">Ha</span></p><p class="s22" style="padding-top: 1pt;padding-left: 43pt;text-indent: 0pt;text-align: left;">(obeying the signals)</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s22" style="padding-left: 25pt;text-indent: 0pt;text-align: left;">The rules of the <span style=" color: #B72D05;">turn-based </span>game:</p></li><li data-list-text="•"><p class="s22" style="padding-top: 3pt;padding-left: 43pt;text-indent: -8pt;text-align: left;">When the super train driver has the turn, she selects one train that moves to the next linear section (if possible).</p></li><li data-list-text="•"><p class="s22" style="padding-top: 3pt;padding-left: 43pt;text-indent: -8pt;text-align: left;">When the control system has the turn, it sets points and signals (without moving the trains)</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s22" style="padding-left: 25pt;text-indent: 0pt;text-align: left;">The super train driver wins a play if the <span style=" color: #B72D05;">destinations are NOT reached</span></p><p class="s22" style="padding-top: 6pt;padding-left: 25pt;text-indent: 0pt;text-align: left;">The control system wins a play if <span style=" color: #B72D05;">all trains safely moves from their initial positions to their destinations</span></p><p class="s22" style="padding-top: 6pt;padding-left: 25pt;text-indent: 0pt;text-align: left;">A <span style=" color: #B72D05;">strategy is winning </span>for the control system if it safely brings the trains from their initial positions to their destination, no matter what the opponent does        <span style=" color: #0000B2;">&quot;winning strategy = control program&quot;</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="365" height="226" alt="image" src="Docs_files/Image_172.png"/></span></p><p class="s59" style="text-indent: 0pt;text-align: left;">t1</p><p style="text-indent: 0pt;text-align: left;"/><p class="s31" style="text-indent: 0pt;text-align: left;">v5</p><p style="text-indent: 0pt;text-align: left;"/><p class="s59" style="text-indent: 0pt;line-height: 4pt;text-align: left;">s20</p><p style="text-indent: 0pt;text-align: left;"/><p class="s59" style="text-indent: 0pt;text-align: left;">t2</p><p style="text-indent: 0pt;text-align: left;"/><p class="s59" style="text-indent: 0pt;line-height: 4pt;text-align: left;">s10</p><p style="text-indent: 0pt;text-align: left;"/><p class="s59" style="text-indent: 0pt;line-height: 4pt;text-align: left;">s11</p><p style="text-indent: 0pt;text-align: left;"/><p class="s59" style="text-indent: 0pt;line-height: 4pt;text-align: left;">s12</p><p style="text-indent: 0pt;text-align: left;"/><p class="s59" style="text-indent: 0pt;text-align: left;">t1</p><p style="text-indent: 0pt;text-align: left;"/><p class="s31" style="text-indent: 8pt;text-align: left;">v1 initial</p><p style="text-indent: 0pt;text-align: left;"/><p class="s59" style="text-indent: 0pt;line-height: 4pt;text-align: left;">s20</p><p style="text-indent: 0pt;text-align: left;"/><p class="s59" style="text-indent: 0pt;text-align: left;">t2</p><p style="text-indent: 0pt;text-align: left;"/><p class="s59" style="text-indent: 0pt;line-height: 4pt;text-align: left;">s10</p><p style="text-indent: 0pt;text-align: left;"/><p class="s59" style="text-indent: 0pt;line-height: 4pt;text-align: left;">s11</p><p style="text-indent: 0pt;text-align: left;"/><p class="s59" style="text-indent: 0pt;line-height: 4pt;text-align: left;">s12</p><p style="text-indent: 0pt;text-align: left;"/><p class="s59" style="text-indent: 0pt;text-align: left;">t1</p><p style="text-indent: 0pt;text-align: left;"/><p class="s31" style="text-indent: 0pt;text-align: left;">v6</p><p style="text-indent: 0pt;text-align: left;"/><p class="s59" style="padding-left: 1pt;text-indent: 0pt;line-height: 4pt;text-align: left;">s20</p><p class="s59" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">t2</p><p style="text-indent: 0pt;text-align: left;"/><p class="s59" style="text-indent: 0pt;line-height: 4pt;text-align: left;">s10</p><p style="text-indent: 0pt;text-align: left;"/><p class="s59" style="text-indent: 0pt;line-height: 4pt;text-align: left;">s11</p><p style="text-indent: 0pt;text-align: left;"/><p class="s59" style="text-indent: 0pt;line-height: 4pt;text-align: left;">s12</p><p style="text-indent: 0pt;text-align: left;"/><p class="s31" style="text-indent: 0pt;text-align: left;">v7</p><p style="text-indent: 0pt;text-align: left;"/><p class="s31" style="text-indent: 0pt;text-align: left;">v8</p><p style="text-indent: 0pt;text-align: left;"/><p class="s59" style="text-indent: 0pt;line-height: 4pt;text-align: left;">s20</p><p style="text-indent: 0pt;text-align: left;"/><p class="s59" style="padding-left: 1pt;text-indent: 0pt;line-height: 4pt;text-align: left;">s20</p><p class="s59" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">t2</p><p style="text-indent: 0pt;text-align: left;"/><p class="s59" style="text-indent: 0pt;text-align: left;">t1</p><p style="text-indent: 0pt;text-align: left;"/><p class="s59" style="text-indent: 0pt;line-height: 4pt;text-align: left;">s10</p><p style="text-indent: 0pt;text-align: left;"/><p class="s59" style="text-indent: 0pt;line-height: 4pt;text-align: left;">s11</p><p style="text-indent: 0pt;text-align: left;"/><p class="s59" style="text-indent: 0pt;line-height: 4pt;text-align: left;">s12</p><p style="text-indent: 0pt;text-align: left;"/><p class="s59" style="text-indent: 0pt;line-height: 4pt;text-align: left;">s10</p><p style="text-indent: 0pt;text-align: left;"/><p class="s59" style="text-indent: 0pt;line-height: 4pt;text-align: left;">s11</p><p style="text-indent: 0pt;text-align: left;"/><p class="s59" style="text-indent: 0pt;line-height: 4pt;text-align: left;">s12</p><p style="text-indent: 0pt;text-align: left;"/><p class="s59" style="text-indent: 0pt;line-height: 4pt;text-align: left;">s12</p><p style="text-indent: 0pt;text-align: left;"/><p class="s59" style="text-indent: 0pt;line-height: 4pt;text-align: left;">s11</p><p style="text-indent: 0pt;text-align: left;"/><p class="s59" style="text-indent: 0pt;line-height: 4pt;text-align: left;">s10</p><p style="text-indent: 0pt;text-align: left;"/><p class="s59" style="padding-left: 1pt;text-indent: 0pt;line-height: 4pt;text-align: left;">s20</p><p class="s59" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">t2</p><p style="text-indent: 0pt;text-align: left;"/><p class="s31" style="text-indent: 0pt;text-align: left;">v9</p><p style="text-indent: 0pt;text-align: left;"/><p class="s59" style="text-indent: 0pt;text-align: left;">t1</p><p style="text-indent: 0pt;text-align: left;"/><p class="s59" style="text-indent: 0pt;line-height: 4pt;text-align: left;">s12</p><p style="text-indent: 0pt;text-align: left;"/><p class="s59" style="text-indent: 0pt;line-height: 4pt;text-align: left;">s11</p><p style="text-indent: 0pt;text-align: left;"/><p class="s59" style="text-indent: 0pt;line-height: 4pt;text-align: left;">s10</p><p style="text-indent: 0pt;text-align: left;"/><p class="s59" style="text-indent: 0pt;text-align: left;">t2</p><p style="text-indent: 0pt;text-align: left;"/><p class="s59" style="text-indent: 0pt;line-height: 4pt;text-align: left;">s20</p><p style="text-indent: 0pt;text-align: left;"/><p class="s31" style="text-indent: 0pt;text-align: left;">v4</p><p style="text-indent: 0pt;text-align: left;"/><p class="s59" style="text-indent: 0pt;text-align: left;">t1</p><p style="text-indent: 0pt;text-align: left;"/><p class="s59" style="text-indent: 0pt;line-height: 4pt;text-align: left;">s12</p><p style="text-indent: 0pt;text-align: left;"/><p class="s59" style="text-indent: 0pt;line-height: 4pt;text-align: left;">s11</p><p style="text-indent: 0pt;text-align: left;"/><p class="s59" style="text-indent: 0pt;line-height: 4pt;text-align: left;">s10</p><p style="text-indent: 0pt;text-align: left;"/><p class="s59" style="padding-left: 1pt;text-indent: 0pt;line-height: 4pt;text-align: left;">s20</p><p class="s59" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">t2</p><p style="text-indent: 0pt;text-align: left;"/><p class="s31" style="text-indent: 0pt;text-align: left;">v3</p><p style="text-indent: 0pt;text-align: left;"/><p class="s59" style="text-indent: 0pt;text-align: left;">t1</p><p style="text-indent: 0pt;text-align: left;"/><p class="s59" style="text-indent: 0pt;line-height: 4pt;text-align: left;">s12</p><p style="text-indent: 0pt;text-align: left;"/><p class="s59" style="text-indent: 0pt;line-height: 4pt;text-align: left;">s11</p><p style="text-indent: 0pt;text-align: left;"/><p class="s59" style="text-indent: 0pt;line-height: 4pt;text-align: left;">s10</p><p style="text-indent: 0pt;text-align: left;"/><p class="s59" style="text-indent: 0pt;text-align: left;">t2</p><p style="text-indent: 0pt;text-align: left;"/><p class="s59" style="text-indent: 0pt;line-height: 4pt;text-align: left;">s20</p><p style="text-indent: 0pt;text-align: left;"/><p class="s31" style="text-indent: 0pt;text-align: left;">v2</p><p style="text-indent: 0pt;text-align: left;"/><p class="s59" style="text-indent: 0pt;text-align: left;">t1</p><p style="text-indent: 0pt;text-align: left;"/><p class="s173" style="padding-top: 6pt;text-indent: 0pt;text-align: right;">Ha</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s22" style="padding-top: 6pt;padding-left: 232pt;text-indent: 0pt;text-align: left;">From [Kasting16]</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s173" style="padding-top: 6pt;text-indent: 0pt;text-align: right;">Ha</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s22" style="padding-top: 6pt;padding-left: 25pt;text-indent: 0pt;text-align: left;">The first solver implemented (by Kasting) is based on [Berwanger13]:</p></li><li data-list-text="•"><p class="s22" style="padding-top: 3pt;padding-left: 43pt;text-indent: -8pt;text-align: left;">It computes the &quot;complete&quot; winning areas for the control system and for the super train driver</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s22" style="padding-left: 25pt;text-indent: 0pt;text-align: left;">The challenge is to tame the size of the railway game graph:</p></li><li data-list-text="•"><p class="s22" style="padding-top: 3pt;padding-left: 43pt;text-indent: -8pt;text-align: left;">the number of states is exponential in the number of trains, <i>. . .</i></p></li><li data-list-text="•"><p class="s22" style="padding-top: 3pt;padding-left: 43pt;text-indent: -8pt;text-align: left;">the number of transitions leaving a control state is <i>. . .</i></p><p class="s22" style="padding-top: 10pt;padding-left: 25pt;text-indent: 0pt;text-align: left;">Some observations:</p></li><li data-list-text="•"><p class="s22" style="padding-top: 2pt;padding-left: 43pt;text-indent: -8pt;text-align: left;">Only signals and points in front of trains are relevant</p></li><li data-list-text="•"><p class="s22" style="padding-top: 2pt;padding-left: 43pt;text-indent: -8pt;line-height: 9pt;text-align: left;">The control system may choose to allow at most one signal to be      <span class="s179">Ha</span></p><p class="s22" style="padding-top: 1pt;padding-left: 43pt;text-indent: 0pt;text-align: left;">green</p><p class="s22" style="padding-top: 2pt;padding-left: 25pt;text-indent: 0pt;text-align: left;">The game graph is exponential in the number of trains &quot;only&quot;</p><p class="s22" style="padding-top: 10pt;padding-left: 25pt;text-indent: 0pt;text-align: left;">Extract of results:                    [Kasting16]</p><p style="text-indent: 0pt;text-align: left;"><br/></p><table style="border-collapse:collapse;margin-left:41.6007pt" cellspacing="0"><tr style="height:10pt"><td style="width:137pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt" colspan="2"><p style="text-indent: 0pt;text-align: left;"><br/></p></td><td style="width:24pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s180" style="padding-left: 3pt;padding-right: 3pt;text-indent: 0pt;line-height: 8pt;text-align: center;">Toy</p></td><td style="width:40pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s180" style="padding-left: 7pt;padding-right: 6pt;text-indent: 0pt;line-height: 8pt;text-align: center;">Lyngby</p></td><td style="width:40pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s180" style="padding-left: 6pt;text-indent: 0pt;line-height: 8pt;text-align: left;">Florence</p></td></tr><tr style="height:8pt"><td style="width:77pt;border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt" rowspan="3"><p class="s180" style="padding-top: 8pt;padding-left: 4pt;text-indent: 0pt;text-align: left;">ignore points/signals</p></td><td style="width:60pt;border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt" rowspan="2"><p class="s181" style="padding-top: 1pt;padding-left: 39pt;text-indent: 0pt;line-height: 43%;text-align: left;">V <span class="s182">2</span></p><p class="s183" style="padding-right: 5pt;text-indent: 0pt;line-height: 4pt;text-align: right;">max</p><p class="s180" style="padding-left: 25pt;text-indent: 0pt;line-height: 8pt;text-align: left;">#vertices</p></td><td style="width:24pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt"><p class="s180" style="padding-left: 3pt;padding-right: 3pt;text-indent: 0pt;line-height: 6pt;text-align: center;">135</p></td><td style="width:40pt;border-top-style:solid;border-top-width:1pt"><p class="s180" style="padding-left: 5pt;text-indent: 0pt;line-height: 6pt;text-align: left;">4<i>.</i>3 <span class="s73">× </span>10<span class="s185">7</span></p></td><td style="width:40pt;border-top-style:solid;border-top-width:1pt"><p class="s180" style="padding-left: 5pt;text-indent: 0pt;line-height: 6pt;text-align: left;">2<i>.</i>0 <span class="s73">× </span>10<span class="s185">9</span></p></td></tr><tr style="height:10pt"><td style="width:24pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s180" style="padding-left: 3pt;padding-right: 3pt;text-indent: 0pt;line-height: 8pt;text-align: center;">18</p></td><td style="width:40pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s180" style="padding-left: 7pt;padding-right: 6pt;text-indent: 0pt;line-height: 8pt;text-align: center;">78530</p></td><td style="width:40pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s180" style="padding-left: 8pt;text-indent: 0pt;line-height: 8pt;text-align: left;">253063</p></td></tr><tr style="height:9pt"><td style="width:60pt;border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s180" style="padding-left: 5pt;text-indent: 0pt;line-height: 7pt;text-align: left;">running time [s]</p></td><td style="width:24pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s180" style="padding-left: 3pt;padding-right: 3pt;text-indent: 0pt;line-height: 7pt;text-align: center;">0.19</p></td><td style="width:40pt;border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s180" style="padding-left: 7pt;padding-right: 6pt;text-indent: 0pt;line-height: 7pt;text-align: center;">2.6</p></td><td style="width:40pt;border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s180" style="padding-left: 14pt;padding-right: 13pt;text-indent: 0pt;line-height: 7pt;text-align: center;">12</p></td></tr><tr style="height:8pt"><td style="width:77pt;border-top-style:solid;border-top-width:1pt" rowspan="2"><p class="s180" style="padding-top: 8pt;padding-left: 15pt;text-indent: 0pt;text-align: left;">ignore Eve moves</p></td><td style="width:60pt;border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt" rowspan="2"><p class="s181" style="padding-top: 1pt;padding-left: 39pt;text-indent: 0pt;line-height: 43%;text-align: left;">V <span class="s182">3</span></p><p class="s183" style="padding-right: 5pt;text-indent: 0pt;line-height: 4pt;text-align: right;">max</p><p class="s180" style="padding-left: 25pt;text-indent: 0pt;line-height: 8pt;text-align: left;">#vertices</p></td><td style="width:24pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt"><p class="s180" style="padding-left: 3pt;padding-right: 3pt;text-indent: 0pt;line-height: 7pt;text-align: center;">105</p></td><td style="width:40pt;border-top-style:solid;border-top-width:1pt"><p class="s180" style="padding-left: 5pt;text-indent: 0pt;line-height: 7pt;text-align: left;">8<i>.</i>5 <span class="s73">× </span>10<span class="s185">6</span></p></td><td style="width:40pt;border-top-style:solid;border-top-width:1pt"><p class="s180" style="padding-left: 5pt;text-indent: 0pt;line-height: 7pt;text-align: left;">6<i>.</i>0 <span class="s73">× </span>10<span class="s185">8</span></p></td></tr><tr style="height:11pt"><td style="width:24pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s180" style="padding-left: 3pt;padding-right: 3pt;text-indent: 0pt;text-align: center;">15</p></td><td style="width:40pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s180" style="padding-left: 7pt;padding-right: 6pt;text-indent: 0pt;text-align: center;">25467</p></td><td style="width:40pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s180" style="padding-left: 8pt;text-indent: 0pt;text-align: left;">220733</p></td></tr><tr style="height:9pt"><td style="width:137pt;border-right-style:solid;border-right-width:1pt" colspan="2"><p class="s180" style="padding-left: 81pt;text-indent: 0pt;line-height: 8pt;text-align: left;">running time [s]</p></td><td style="width:24pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt"><p class="s180" style="padding-left: 3pt;padding-right: 3pt;text-indent: 0pt;line-height: 8pt;text-align: center;">0.19</p></td><td style="width:40pt;border-top-style:solid;border-top-width:1pt"><p class="s180" style="padding-left: 7pt;padding-right: 6pt;text-indent: 0pt;line-height: 8pt;text-align: center;">0.67</p></td><td style="width:40pt;border-top-style:solid;border-top-width:1pt"><p class="s180" style="padding-left: 14pt;padding-right: 13pt;text-indent: 0pt;line-height: 8pt;text-align: center;">8.1</p></td></tr></table></li><li data-list-text="•"><p class="s22" style="padding-top: 8pt;padding-left: 43pt;text-indent: -8pt;text-align: left;">Lyngby Station: 11 linear sections, 6 points, 14 signals, 5 trains</p></li><li data-list-text="•"><p class="s22" style="padding-top: 2pt;padding-left: 43pt;text-indent: -8pt;text-align: left;">Florence Station: 69 linear sections, 23 points, 46 signals, 4 trains</p></li><li data-list-text="•"><p class="s22" style="padding-top: 2pt;padding-left: 43pt;text-indent: -8pt;text-align: left;">Florence Station with 5 trains —- out-of-memory</p></li></ul><p class="s177" style="padding-top: 6pt;padding-left: 26pt;text-indent: 0pt;text-align: left;">Encouraging result on the basis of a simple, <span style=" color: #B72D05;">global </span>game-based setting</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="365" height="167" alt="image" src="Docs_files/Image_173.png"/></span></p><p class="s186" style="text-indent: 0pt;text-align: left;">t4</p><p style="text-indent: 0pt;text-align: left;"/><p class="s186" style="text-indent: 0pt;text-align: left;">t5</p><p style="text-indent: 0pt;text-align: left;"/><p class="s59" style="text-indent: 0pt;text-align: left;">s30</p><p style="text-indent: 0pt;text-align: left;"/><p class="s59" style="text-indent: 0pt;text-align: left;">s31</p><p style="text-indent: 0pt;text-align: left;"/><p class="s59" style="text-indent: 0pt;text-align: left;">s32</p><p style="text-indent: 0pt;text-align: left;"/><p class="s59" style="text-indent: 0pt;text-align: left;">s33</p><p style="text-indent: 0pt;text-align: left;"/><p class="s59" style="text-indent: 0pt;text-align: left;">s34</p><p style="text-indent: 0pt;text-align: left;"/><p class="s59" style="text-indent: 0pt;text-align: left;">s22m</p><p style="text-indent: 0pt;text-align: left;"/><p class="s59" style="text-indent: 0pt;text-align: left;">s20p</p><p style="text-indent: 0pt;text-align: left;"/><p class="s59" style="text-indent: 0pt;text-align: left;">s20</p><p style="text-indent: 0pt;text-align: left;"/><p class="s59" style="text-indent: 0pt;text-align: left;">s21</p><p style="text-indent: 0pt;text-align: left;"/><p class="s59" style="text-indent: 0pt;text-align: left;">s22</p><p style="text-indent: 0pt;text-align: left;"/><p class="s59" style="text-indent: 0pt;text-align: left;">s22p</p><p style="text-indent: 0pt;text-align: left;"/><p class="s59" style="text-indent: 0pt;text-align: left;">s20m</p><p style="text-indent: 0pt;text-align: left;"/><p class="s186" style="text-indent: 0pt;text-align: left;">t1</p><p style="text-indent: 0pt;text-align: left;"/><p class="s186" style="text-indent: 0pt;text-align: left;">t3</p><p style="text-indent: 0pt;text-align: left;"/><p class="s186" style="text-indent: 0pt;text-align: left;">t2</p><p style="text-indent: 0pt;text-align: left;"/><p class="s173" style="padding-top: 6pt;text-indent: 0pt;text-align: right;">Ha</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s59" style="text-indent: 0pt;text-align: right;">s10</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s59" style="text-indent: 0pt;text-align: right;">s11</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s59" style="text-indent: 0pt;text-align: right;">s12</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s59" style="text-indent: 0pt;text-align: right;">s13</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s59" style="padding-left: 25pt;text-indent: 0pt;text-align: left;">s14</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s22" style="padding-top: 6pt;padding-left: 232pt;text-indent: 0pt;text-align: left;">From [Kasting16]</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="328" height="187" alt="image" src="Docs_files/Image_174.jpg"/></span></p><p class="s173" style="padding-top: 6pt;text-indent: 0pt;text-align: right;">Ha</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s18" style="padding-left: 25pt;text-indent: 0pt;text-align: left;">Figure: Roughly a quarter of Florence Station. Each blue square represents a signal. This figure was kindly provided by Alessandro Fantechi.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s22" style="padding-top: 6pt;padding-left: 25pt;text-indent: 0pt;text-align: left;">Using game-based techniques for railway networks:</p><ul id="l40"><li data-list-text="•"><p class="s22" style="padding-top: 3pt;padding-left: 43pt;text-indent: -8pt;line-height: 12pt;text-align: left;">a correct-by-construction control program can be synthesized        <span class="s187">Ha</span></p></li><li data-list-text="•"><p class="s22" style="padding-top: 1pt;padding-left: 43pt;text-indent: -8pt;text-align: left;">online generation of control programs (for irregular situations) may be within reach</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s175" style="padding-left: 25pt;text-indent: 0pt;text-align: left;">New ideas:</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s22" style="padding-left: 25pt;text-indent: 0pt;text-align: left;">Use local game solving</p><p class="s22" style="text-indent: 0pt;text-align: right;">Simple linear-time algorithms for minimal fixed points</p><p class="s22" style="text-indent: 0pt;text-align: right;">Liu and Smolka 1998</p></li><li data-list-text="•"><p class="s177" style="padding-top: 3pt;padding-left: 43pt;text-indent: -8pt;text-align: left;">Local<span style=" color: #000;">: determines the winning status of the initial state (and ...)</span></p><p class="s22" style="padding-left: 43pt;text-indent: 0pt;text-align: left;">— does not (necessarily) solve the complete game</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s22" style="padding-left: 25pt;text-indent: 0pt;text-align: left;">Use on-the-fly techniques</p></li><li data-list-text="•"><p class="s177" style="padding-top: 3pt;padding-left: 43pt;text-indent: -8pt;text-align: left;">On-the-fly<span style=" color: #000;">: only a relevant part of the game graph is constructed, and it is constructed during the solving process</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s173" style="padding-top: 6pt;text-indent: 0pt;text-align: right;">Ha</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="48" height="19" alt="image" src="Docs_files/Image_175.png"/></span></p><p class="s188" style="padding-left: 28pt;text-indent: 0pt;text-align: left;">F      <span class="s20">. . .</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s20" style="text-indent: 0pt;text-align: right;">. . .</p><p class="s177" style="padding-top: 6pt;padding-left: 144pt;text-indent: 0pt;text-align: left;">T</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="312" height="106" alt="image" src="Docs_files/Image_176.png"/></span></p><p class="s20" style="text-indent: 0pt;line-height: 9pt;text-align: left;">. . .</p><p style="text-indent: 0pt;text-align: left;"/><p class="s20" style="text-indent: 0pt;line-height: 9pt;text-align: left;">. . .</p><p style="text-indent: 0pt;text-align: left;"/><p class="s177" style="padding-left: 144pt;text-indent: 0pt;text-align: left;">T</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="19" height="19" alt="image" src="Docs_files/Image_177.png"/></span></p><p class="s20" style="padding-left: 28pt;text-indent: 0pt;text-align: left;">. . .</p><p style="text-indent: 0pt;text-align: left;"><br/></p></li><li data-list-text="•"><p class="s22" style="padding-top: 6pt;padding-left: 43pt;text-indent: -8pt;text-align: left;">Control-system states are shown as circles</p></li><li data-list-text="•"><p class="s22" style="padding-top: 3pt;padding-left: 43pt;text-indent: -8pt;text-align: left;">Train-driver states as squares</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s173" style="padding-top: 6pt;text-indent: 0pt;text-align: right;">Ha</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="48" height="19" alt="image" src="Docs_files/Image_178.png"/></span></p><p class="s188" style="padding-left: 28pt;text-indent: 0pt;text-align: left;">F      <span class="s20">. . .</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s20" style="text-indent: 0pt;text-align: right;">. . .</p><p class="s177" style="padding-top: 6pt;padding-left: 144pt;text-indent: 0pt;text-align: left;">T</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="312" height="106" alt="image" src="Docs_files/Image_179.png"/></span></p><p class="s189" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">F</p><p style="text-indent: 0pt;text-align: left;"/><p class="s20" style="text-indent: 0pt;line-height: 9pt;text-align: left;">. . .</p><p style="text-indent: 0pt;text-align: left;"/><p class="s20" style="text-indent: 0pt;line-height: 9pt;text-align: left;">. . .</p><p style="text-indent: 0pt;text-align: left;"/><p class="s177" style="padding-left: 144pt;text-indent: 0pt;text-align: left;">T</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="19" height="19" alt="image" src="Docs_files/Image_180.png"/></span></p><p class="s20" style="padding-left: 28pt;text-indent: 0pt;text-align: left;">. . .</p><p style="text-indent: 0pt;text-align: left;"><br/></p></li><li data-list-text="•"><p class="s22" style="padding-top: 6pt;padding-left: 43pt;text-indent: -8pt;text-align: left;">Control-system states are shown as circles</p></li><li data-list-text="•"><p class="s22" style="padding-top: 3pt;padding-left: 43pt;text-indent: -8pt;text-align: left;">Train-driver states as squares</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s190" style="padding-top: 6pt;padding-left: 212pt;text-indent: 0pt;text-align: left;">F        F <span class="s173">Ha</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="48" height="19" alt="image" src="Docs_files/Image_181.png"/></span></p><p class="s188" style="padding-left: 28pt;text-indent: 0pt;text-align: left;">F      <span class="s20">. . .</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s20" style="text-indent: 0pt;text-align: right;">. . .</p><p class="s177" style="padding-top: 6pt;padding-left: 144pt;text-indent: 0pt;text-align: left;">T</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="312" height="106" alt="image" src="Docs_files/Image_182.png"/></span></p><p class="s189" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">F</p><p style="text-indent: 0pt;text-align: left;"/><p class="s189" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">F</p><p style="text-indent: 0pt;text-align: left;"/><p class="s20" style="text-indent: 0pt;line-height: 9pt;text-align: left;">. . .</p><p style="text-indent: 0pt;text-align: left;"/><p class="s20" style="text-indent: 0pt;line-height: 9pt;text-align: left;">. . .</p><p style="text-indent: 0pt;text-align: left;"/><p class="s177" style="padding-left: 144pt;text-indent: 0pt;text-align: left;">T</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="19" height="19" alt="image" src="Docs_files/Image_183.png"/></span></p><p class="s20" style="padding-left: 28pt;text-indent: 0pt;text-align: left;">. . .</p><p style="text-indent: 0pt;text-align: left;"><br/></p></li><li data-list-text="•"><p class="s22" style="padding-top: 6pt;padding-left: 43pt;text-indent: -8pt;text-align: left;">Control-system states are shown as circles</p></li><li data-list-text="•"><p class="s22" style="padding-top: 3pt;padding-left: 43pt;text-indent: -8pt;text-align: left;">Train-driver states as squares</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s191" style="padding-top: 6pt;padding-left: 212pt;text-indent: 0pt;text-align: left;">F        F <span class="s173">Ha</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="312" height="106" alt="image" src="Docs_files/Image_184.png"/></span></p><p class="s175" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">not explored</p><p style="text-indent: 0pt;text-align: left;"/><p class="s189" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">F</p><p style="text-indent: 0pt;text-align: left;"/><p class="s189" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">F</p><p style="text-indent: 0pt;text-align: left;"/><p class="s20" style="text-indent: 0pt;line-height: 9pt;text-align: left;">. . .</p><p style="text-indent: 0pt;text-align: left;"/><p class="s20" style="text-indent: 0pt;line-height: 9pt;text-align: left;">. . .</p><p style="text-indent: 0pt;text-align: left;"/><p class="s189" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">F</p><p style="text-indent: 0pt;text-align: left;"/><p class="s177" style="padding-top: 6pt;text-indent: 0pt;text-align: right;">T</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="48" height="19" alt="image" src="Docs_files/Image_185.png"/></span></p><p class="s188" style="padding-top: 4pt;padding-left: 28pt;text-indent: 0pt;text-align: left;">F      <span class="s20">. . .</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s20" style="padding-top: 5pt;text-indent: 0pt;text-align: right;">. . .</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s177" style="text-indent: 0pt;text-align: right;">T</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="19" height="19" alt="image" src="Docs_files/Image_186.png"/></span></p><p class="s20" style="padding-left: 28pt;text-indent: 0pt;text-align: left;">. . .</p><p style="text-indent: 0pt;text-align: left;"><br/></p></li><li data-list-text="•"><p class="s22" style="padding-top: 6pt;padding-left: 43pt;text-indent: -8pt;text-align: left;">Control-system states are shown as circles</p></li><li data-list-text="•"><p class="s22" style="padding-top: 3pt;padding-left: 43pt;text-indent: -8pt;text-align: left;">Train-driver states as squares</p><p class="s192" style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Liu and Smolka’s algorithm                      <span><img width="19" height="28" alt="image" src="Docs_files/Image_187.jpg"/></span></p></li><li data-list-text="•"><p class="s22" style="padding-top: 9pt;padding-left: 43pt;text-indent: -8pt;text-align: left;">a railway-game situation</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s191" style="padding-top: 6pt;padding-left: 212pt;text-indent: 0pt;text-align: left;">F        F <span class="s173">Ha</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="312" height="106" alt="image" src="Docs_files/Image_188.png"/></span></p><p class="s175" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">not explored</p><p style="text-indent: 0pt;text-align: left;"/><p class="s189" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">F</p><p style="text-indent: 0pt;text-align: left;"/><p class="s189" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">F</p><p style="text-indent: 0pt;text-align: left;"/><p class="s20" style="text-indent: 0pt;line-height: 9pt;text-align: left;">. . .</p><p style="text-indent: 0pt;text-align: left;"/><p class="s20" style="text-indent: 0pt;line-height: 9pt;text-align: left;">. . .</p><p style="text-indent: 0pt;text-align: left;"/><p class="s189" style="padding-top: 1pt;text-indent: 0pt;line-height: 110%;text-align: left;">F<span class="s193">/ </span><span style=" color: #0000B2;">T</span></p><p style="text-indent: 0pt;text-align: left;"/><p class="s177" style="padding-top: 6pt;text-indent: 0pt;text-align: right;">T</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="48" height="19" alt="image" src="Docs_files/Image_189.png"/></span></p><p class="s188" style="padding-top: 4pt;padding-left: 28pt;text-indent: 0pt;text-align: left;">F      <span class="s20">. . .</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s20" style="padding-top: 5pt;text-indent: 0pt;text-align: right;">. . .</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s177" style="text-indent: 0pt;text-align: right;">T</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="19" height="19" alt="image" src="Docs_files/Image_190.png"/></span></p><p class="s20" style="padding-left: 28pt;text-indent: 0pt;text-align: left;">. . .</p><p style="text-indent: 0pt;text-align: left;"><br/></p></li><li data-list-text="•"><p class="s22" style="padding-top: 6pt;padding-left: 43pt;text-indent: -8pt;text-align: left;">Control-system states are shown as circles</p></li><li data-list-text="•"><p class="s22" style="padding-top: 3pt;padding-left: 43pt;text-indent: -8pt;text-align: left;">Train-driver states as squares</p></li><li data-list-text="•"><p class="s22" style="padding-top: 9pt;padding-left: 43pt;text-indent: -8pt;text-align: left;">a railway-game situation</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s191" style="padding-top: 6pt;padding-left: 212pt;text-indent: 0pt;text-align: left;">F        F <span class="s173">Ha</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="312" height="106" alt="image" src="Docs_files/Image_191.png"/></span></p><p class="s175" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">not explored</p><p style="text-indent: 0pt;text-align: left;"/><p class="s189" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">F</p><p style="text-indent: 0pt;text-align: left;"/><p class="s177" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">T <span style=" color: #00B200;">F</span><span class="s193">/</span></p><p style="text-indent: 0pt;text-align: left;"/><p class="s20" style="text-indent: 0pt;line-height: 9pt;text-align: left;">. . .</p><p style="text-indent: 0pt;text-align: left;"/><p class="s20" style="text-indent: 0pt;line-height: 9pt;text-align: left;">. . .</p><p style="text-indent: 0pt;text-align: left;"/><p class="s189" style="padding-top: 1pt;text-indent: 0pt;line-height: 110%;text-align: left;">F<span class="s193">/ </span><span style=" color: #0000B2;">T</span></p><p style="text-indent: 0pt;text-align: left;"/><p class="s177" style="padding-top: 6pt;text-indent: 0pt;text-align: right;">T</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="48" height="19" alt="image" src="Docs_files/Image_192.png"/></span></p><p class="s188" style="padding-top: 4pt;padding-left: 28pt;text-indent: 0pt;text-align: left;">F      <span class="s20">. . .</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s20" style="padding-top: 5pt;text-indent: 0pt;text-align: right;">. . .</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s177" style="text-indent: 0pt;text-align: right;">T</p><p style="text-indent: 0pt;text-align: left;"><span><img width="19" height="19" alt="image" src="Docs_files/Image_193.png"/></span></p><p class="s175" style="padding-top: 10pt;padding-left: 25pt;text-indent: 0pt;line-height: 8pt;text-align: left;">not explored</p><p class="s20" style="padding-left: 36pt;text-indent: 0pt;line-height: 8pt;text-align: left;">. . .</p><p style="text-indent: 0pt;text-align: left;"><br/></p></li><li data-list-text="•"><p class="s22" style="padding-top: 6pt;padding-left: 43pt;text-indent: -8pt;text-align: left;">Control-system states are shown as circles</p></li><li data-list-text="•"><p class="s22" style="padding-top: 3pt;padding-left: 43pt;text-indent: -8pt;text-align: left;">Train-driver states as squares</p></li><li data-list-text="•"><p class="s22" style="padding-top: 9pt;padding-left: 43pt;text-indent: -8pt;text-align: left;">a railway-game situation</p></li></ul><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s191" style="padding-top: 6pt;padding-left: 212pt;text-indent: 0pt;text-align: left;">F        F <span class="s173">Ha</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="48" height="19" alt="image" src="Docs_files/Image_194.png"/></span></p><p class="s188" style="padding-left: 28pt;text-indent: 0pt;text-align: left;">F      <span class="s20">. . .</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s189" style="padding-left: 28pt;text-indent: 0pt;text-align: left;">F   <span style=" color: #0000B2;">T </span>F<span class="s193">/</span></p><p class="s175" style="padding-top: 6pt;padding-left: 87pt;text-indent: 0pt;line-height: 8pt;text-align: center;">not explored</p><p style="text-indent: 0pt;text-align: left;"><span><img width="312" height="106" alt="image" src="Docs_files/Image_195.png"/></span></p><p class="s177" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">T</p><p style="text-indent: 0pt;text-align: left;"/><p class="s20" style="padding-left: 87pt;text-indent: 0pt;line-height: 8pt;text-align: center;">. . .</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s20" style="padding-left: 28pt;text-indent: 0pt;text-align: left;">. . .</p><p class="s189" style="padding-top: 3pt;padding-left: 269pt;text-indent: 0pt;text-align: left;">F<span class="s193">/       </span><span style=" color: #0000B2;">T</span></p><p class="s177" style="padding-left: 268pt;text-indent: 0pt;line-height: 10pt;text-align: left;">T</p><p style="text-indent: 0pt;text-align: left;"><span><img width="19" height="19" alt="image" src="Docs_files/Image_196.png"/></span></p><p class="s177" style="padding-left: 147pt;text-indent: 0pt;line-height: 6pt;text-align: left;">explored next  <span style=" color: #B72D05;">not explored</span></p><p class="s20" style="padding-left: 134pt;text-indent: 0pt;line-height: 9pt;text-align: center;">. . .    . . .</p><p style="text-indent: 0pt;text-align: left;"><br/></p><ul id="l41"><li data-list-text="•"><p class="s22" style="padding-left: 43pt;text-indent: -8pt;text-align: left;">The game is generated while it is solved</p></li><li data-list-text="•"><p class="s22" style="padding-top: 3pt;padding-left: 43pt;text-indent: -8pt;text-align: left;">Only the explored portion is generated</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="292" height="133" alt="image" src="Docs_files/Image_197.png"/></span></p><p class="s65" style="text-indent: 0pt;text-align: left;">t4</p><p style="text-indent: 0pt;text-align: left;"/><p class="s65" style="text-indent: 0pt;text-align: left;">t5</p><p style="text-indent: 0pt;text-align: left;"/><p class="s65" style="text-indent: 0pt;text-align: left;">s30</p><p style="text-indent: 0pt;text-align: left;"/><p class="s65" style="text-indent: 0pt;text-align: left;">s31</p><p style="text-indent: 0pt;text-align: left;"/><p class="s65" style="text-indent: 0pt;text-align: left;">s32</p><p style="text-indent: 0pt;text-align: left;"/><p class="s65" style="text-indent: 0pt;text-align: left;">s33</p><p style="text-indent: 0pt;text-align: left;"/><p class="s65" style="text-indent: 0pt;text-align: left;">s34</p><p style="text-indent: 0pt;text-align: left;"/><p class="s65" style="text-indent: 0pt;text-align: left;">s22m</p><p style="text-indent: 0pt;text-align: left;"/><p class="s65" style="text-indent: 0pt;text-align: left;">s20p</p><p style="text-indent: 0pt;text-align: left;"/><p class="s65" style="text-indent: 0pt;text-align: left;">s20</p><p style="text-indent: 0pt;text-align: left;"/><p class="s65" style="text-indent: 0pt;text-align: left;">s21</p><p style="text-indent: 0pt;text-align: left;"/><p class="s65" style="text-indent: 0pt;text-align: left;">s22</p><p style="text-indent: 0pt;text-align: left;"/><p class="s65" style="text-indent: 0pt;text-align: left;">s22p</p><p style="text-indent: 0pt;text-align: left;"/><p class="s65" style="text-indent: 0pt;text-align: left;">s20m</p><p style="text-indent: 0pt;text-align: left;"/><p class="s65" style="text-indent: 0pt;text-align: left;">t1</p><p style="text-indent: 0pt;text-align: left;"/><p class="s65" style="text-indent: 0pt;text-align: left;">t3</p><p style="text-indent: 0pt;text-align: left;"/><p class="s65" style="text-indent: 0pt;text-align: left;">t2</p><p style="text-indent: 0pt;text-align: left;"/><p class="s173" style="padding-top: 6pt;text-indent: 0pt;text-align: right;">Ha</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s65" style="text-indent: 0pt;text-align: right;">s10</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s65" style="text-indent: 0pt;text-align: right;">s11</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s65" style="text-indent: 0pt;text-align: right;">s12</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s65" style="text-indent: 0pt;text-align: right;">s13</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s65" style="padding-left: 19pt;text-indent: 0pt;text-align: left;">s14</p><p class="s33" style="padding-top: 7pt;padding-left: 43pt;text-indent: 0pt;text-align: left;">lines   = [&quot;s30&quot;; &quot;s32&quot;; &quot;s34&quot;; &quot;s21&quot;; &quot;s10&quot;; &quot;s12&quot;; ... ]</p><p class="s33" style="padding-left: 43pt;text-indent: 0pt;text-align: left;">signalsUp = [&quot;s30&quot;; &quot;s32&quot;; &quot;s34&quot;; &quot;s21&quot;; &quot;s10&quot;; &quot;s12&quot;; &quot;s14&quot;]</p><p class="s33" style="padding-left: 43pt;text-indent: 0pt;text-align: left;">signalsDown = [&quot;s34&quot;; &quot;s32&quot;; &quot;s30&quot;; &quot;s21&quot;; &quot;s10&quot;; &quot;s12&quot;; &quot;s14&quot;]</p><p class="s33" style="padding-left: 43pt;text-indent: 0pt;text-align: left;">points  = [&quot;s11&quot;; &quot;s13&quot;; &quot;s20&quot;; &quot;s22&quot;; &quot;s31&quot;; &quot;s33&quot;]</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s33" style="padding-left: 43pt;text-indent: 0pt;text-align: left;">succ(s) = match s with</p><p class="s33" style="padding-left: 90pt;text-indent: 0pt;text-align: left;">| &quot;s30&quot; -&gt; Stem(&quot;s31&quot;, &quot;s32&quot;, &quot;s20p&quot;)</p><p class="s33" style="padding-left: 90pt;text-indent: 0pt;text-align: left;">| &quot;s22m&quot; -&gt; Minus(&quot;s33&quot;, &quot;s34&quot;)</p><p class="s33" style="padding-left: 90pt;text-indent: 0pt;text-align: left;">| &quot;s32&quot; -&gt; Plus(&quot;s33&quot;, &quot;s34&quot;)</p><p class="s33" style="padding-left: 90pt;text-indent: 0pt;text-align: left;">.....</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="292" height="133" alt="image" src="Docs_files/Image_198.png"/></span></p><p class="s65" style="text-indent: 0pt;text-align: left;">t4</p><p style="text-indent: 0pt;text-align: left;"/><p class="s65" style="text-indent: 0pt;text-align: left;">t5</p><p style="text-indent: 0pt;text-align: left;"/><p class="s65" style="text-indent: 0pt;text-align: left;">s30</p><p style="text-indent: 0pt;text-align: left;"/><p class="s65" style="text-indent: 0pt;text-align: left;">s31</p><p style="text-indent: 0pt;text-align: left;"/><p class="s65" style="text-indent: 0pt;text-align: left;">s32</p><p style="text-indent: 0pt;text-align: left;"/><p class="s65" style="text-indent: 0pt;text-align: left;">s33</p><p style="text-indent: 0pt;text-align: left;"/><p class="s65" style="text-indent: 0pt;text-align: left;">s34</p><p style="text-indent: 0pt;text-align: left;"/><p class="s65" style="text-indent: 0pt;text-align: left;">s22m</p><p style="text-indent: 0pt;text-align: left;"/><p class="s65" style="text-indent: 0pt;text-align: left;">s20p</p><p style="text-indent: 0pt;text-align: left;"/><p class="s65" style="text-indent: 0pt;text-align: left;">s20</p><p style="text-indent: 0pt;text-align: left;"/><p class="s65" style="text-indent: 0pt;text-align: left;">s21</p><p style="text-indent: 0pt;text-align: left;"/><p class="s65" style="text-indent: 0pt;text-align: left;">s22</p><p style="text-indent: 0pt;text-align: left;"/><p class="s65" style="text-indent: 0pt;text-align: left;">s22p</p><p style="text-indent: 0pt;text-align: left;"/><p class="s65" style="text-indent: 0pt;text-align: left;">s20m</p><p style="text-indent: 0pt;text-align: left;"/><p class="s65" style="text-indent: 0pt;text-align: left;">t1</p><p style="text-indent: 0pt;text-align: left;"/><p class="s65" style="text-indent: 0pt;text-align: left;">t3</p><p style="text-indent: 0pt;text-align: left;"/><p class="s65" style="text-indent: 0pt;text-align: left;">t2</p><p style="text-indent: 0pt;text-align: left;"/><p class="s173" style="padding-top: 6pt;text-indent: 0pt;text-align: right;">Ha</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s65" style="text-indent: 0pt;text-align: right;">s10</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s65" style="text-indent: 0pt;text-align: right;">s11</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s65" style="text-indent: 0pt;text-align: right;">s12</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s65" style="text-indent: 0pt;text-align: right;">s13</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s65" style="padding-left: 19pt;text-indent: 0pt;text-align: left;">s14</p><p style="text-indent: 0pt;text-align: left;"><br/></p></li><li data-list-text="•"><p class="s177" style="padding-top: 6pt;padding-left: 43pt;text-indent: -8pt;line-height: 11pt;text-align: left;"><span style=" color: #000;">Controlled states: </span><span class="s194">Con</span>(<i>up, down</i>)<span style=" color: #000;">,</span></p><p class="s22" style="padding-left: 43pt;text-indent: 0pt;line-height: 11pt;text-align: left;">e.g. <span class="s33">Con([&quot;s10&quot;, &quot;s30&quot;], [&quot;s14&quot;,&quot;s34&quot;,&quot;s12&quot;])</span></p></li><li data-list-text="•"><p class="s177" style="padding-top: 2pt;padding-left: 43pt;text-indent: -8pt;text-align: left;"><span style=" color: #000;">Environment states: </span><span class="s194">Env</span>(<i>up, down, signalState, pointState</i>)</p></li><li data-list-text="•"><p class="s195" style="padding-top: 2pt;padding-left: 43pt;text-indent: -8pt;text-align: left;"><span class="s22">A function </span>edges <span class="s177">: </span>State <span class="s196">→ </span>State list list</p><p class="s22" style="padding-top: 5pt;padding-left: 25pt;text-indent: 0pt;text-align: left;">defined on the basis of a network description.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s189" style="padding-left: 47pt;text-indent: 0pt;text-align: left;">New states are generated on-the-fly by application of <span class="s195">edges</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s173" style="padding-top: 6pt;text-indent: 0pt;text-align: right;">Ha</p></li><li data-list-text="•"><p class="s22" style="padding-top: 5pt;padding-left: 43pt;text-indent: -8pt;text-align: left;">Lyngby station is solved in 23 ms (670 ms) generating 1035 states (25467 states)</p></li><li data-list-text="•"><p class="s22" style="padding-top: 3pt;padding-left: 43pt;text-indent: -8pt;text-align: left;">Florence station with 4 trains is solved in 27 ms (8.1 s) generating 382 states (220733 states)</p></li><li data-list-text="•"><p class="s22" style="padding-top: 3pt;padding-left: 43pt;text-indent: -8pt;text-align: left;">Florence station with 8 trains is solved in 19s generating 99720 states</p><p class="s22" style="padding-left: 43pt;text-indent: 0pt;text-align: left;">Generated strategy involves 40 controller states</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s189" style="padding-top: 10pt;padding-left: 34pt;text-indent: 0pt;text-align: left;">Local, on-the-fly techniques are very promissing for railway games.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s176" style="padding-top: 6pt;padding-left: 73pt;text-indent: -48pt;text-align: left;"><a name="bookmark84">Main idea: </a><span class="s22">exploit static properties of the railway network – complete game states are NOT considered</span></p><p class="s173" style="text-indent: 0pt;line-height: 5pt;text-align: right;">Ha</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s22" style="padding-top: 6pt;padding-left: 25pt;text-indent: 0pt;text-align: left;">Some preliminary results:</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s22" style="padding-left: 25pt;text-indent: 0pt;text-align: left;">Idea by Sune Bartels: exclude generation of edges leading to states from where the destination is not reachable</p></li><li data-list-text="•"><p class="s22" style="padding-top: 5pt;padding-left: 43pt;text-indent: -8pt;text-align: left;">2 x Florence station with 8 trains has been solved prompt generating 3626 states. Strategy has 207 transitions</p></li><li data-list-text="•"><p class="s22" style="padding-top: 3pt;padding-left: 43pt;text-indent: -8pt;text-align: left;">2 x Florence station with 9 trains has been solved (spending about 14 min.) generating 1876469 states. Strategy has 221 transitions</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s22" style="padding-left: 25pt;text-indent: 0pt;text-align: left;">Idea by Mathias Kok: He introduces concepts <span style=" color: #0000B2;">uncontrollable paths </span>and <span style=" color: #0000B2;">bottlenecks </span>and associated heuristics</p></li><li data-list-text="•"><p class="s22" style="padding-top: 5pt;padding-left: 43pt;text-indent: -8pt;text-align: left;">4 x Florence station with 23 trains has been solved within 5.5 s generating 1040 states</p></li></ul><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 21pt;text-indent: 0pt;text-align: left;"><span><img width="383" height="98" alt="image" src="Docs_files/Image_199.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 21pt;text-indent: 0pt;line-height: 10pt;text-align: left;"><span><img width="899" height="13" alt="image" src="Docs_files/Image_200.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><h1 style="padding-top: 5pt;padding-left: 100pt;text-indent: 0pt;text-align: center;"><a name="bookmark85">Reactors: A Deterministic Model of Concurrent Computation</a><a name="bookmark86">&zwnj;</a></h1><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s197" style="padding-left: 155pt;text-indent: 92pt;line-height: 141%;text-align: left;">Martin Schoeberl Technical University of Denmark</p><p style="text-indent: 0pt;text-align: left;"><span><img width="960" height="39" alt="image" src="Docs_files/Image_201.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="128" height="33" alt="image" src="Docs_files/Image_202.png"/></span></p><p class="s198" style="padding-top: 5pt;padding-bottom: 3pt;padding-left: 21pt;text-indent: 0pt;text-align: left;"><a name="bookmark87">Embedded Systems</a></p><p style="padding-left: 21pt;text-indent: 0pt;line-height: 10pt;text-align: left;"><span><img width="902" height="13" alt="image" src="Docs_files/Image_203.png"/></span></p><ul id="l42"><li data-list-text=""><p class="s199" style="padding-top: 16pt;padding-left: 65pt;text-indent: -36pt;text-align: left;">Interact with the world</p><ul id="l43"><li data-list-text=""><p class="s200" style="padding-top: 4pt;padding-left: 99pt;text-indent: -34pt;text-align: left;">Usually with tight deadlines</p></li><li data-list-text=""><p class="s200" style="padding-top: 4pt;padding-left: 99pt;text-indent: -34pt;text-align: left;">Real-time systems</p></li></ul></li><li data-list-text=""><p class="s199" style="padding-top: 11pt;padding-left: 65pt;text-indent: -36pt;text-align: left;">The world is embarrassingly concurrent</p><ul id="l44"><li data-list-text=""><p class="s200" style="padding-top: 4pt;padding-left: 99pt;text-indent: -34pt;text-align: left;">Best handled with concurrent tasks</p></li></ul></li><li data-list-text=""><p class="s199" style="padding-top: 11pt;padding-left: 65pt;text-indent: -36pt;text-align: left;">How to represent those tasks?</p></li><li data-list-text=""><p class="s199" style="padding-top: 11pt;padding-left: 65pt;text-indent: -36pt;text-align: left;">How to make a multi-threaded system deterministic?</p><p style="text-indent: 0pt;text-align: left;"><span><img width="960" height="11" alt="image" src="Docs_files/Image_204.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="128" height="33" alt="image" src="Docs_files/Image_205.png"/></span></p><p class="s198" style="padding-top: 5pt;padding-bottom: 3pt;padding-left: 21pt;text-indent: 0pt;text-align: left;"><a name="bookmark88">Multicore Processors</a></p><p style="padding-left: 21pt;text-indent: 0pt;line-height: 10pt;text-align: left;"><span><img width="902" height="13" alt="image" src="Docs_files/Image_206.png"/></span></p></li><li data-list-text=""><p class="s199" style="padding-top: 16pt;padding-left: 65pt;text-indent: -36pt;text-align: left;">The path to more performance</p></li><li data-list-text=""><p class="s199" style="padding-top: 11pt;padding-left: 65pt;text-indent: -36pt;text-align: left;">State-of-the art in desktop and server</p></li><li data-list-text=""><p class="s199" style="padding-top: 11pt;padding-left: 65pt;text-indent: -36pt;text-align: left;">Considered for real-time systems</p></li><li data-list-text=""><p class="s199" style="padding-top: 11pt;padding-left: 65pt;text-indent: -36pt;text-align: left;">Provide real (computation) concurrency</p><ul id="l45"><li data-list-text=""><p class="s200" style="padding-top: 4pt;padding-left: 99pt;text-indent: -34pt;text-align: left;">Communication concurrency?</p></li><li data-list-text=""><p class="s200" style="padding-top: 4pt;padding-left: 99pt;text-indent: -34pt;text-align: left;">Overlap computation and communication?</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="128" height="33" alt="image" src="Docs_files/Image_207.png"/></span></p><p class="s198" style="padding-top: 5pt;padding-bottom: 3pt;padding-left: 21pt;text-indent: 0pt;text-align: left;"><a name="bookmark89">Multicore Usage</a></p><p style="padding-left: 21pt;text-indent: 0pt;line-height: 10pt;text-align: left;"><span><img width="902" height="13" alt="image" src="Docs_files/Image_208.png"/></span></p></li></ul></li><li data-list-text=""><p class="s199" style="padding-top: 16pt;padding-left: 65pt;text-indent: -36pt;text-align: left;">How to program those multiple cores?</p><ul id="l46"><li data-list-text=""><p class="s200" style="padding-top: 4pt;padding-left: 99pt;text-indent: -34pt;text-align: left;">Use the concurrency for performance</p></li><li data-list-text=""><p class="s200" style="padding-top: 4pt;padding-left: 99pt;text-indent: -34pt;text-align: left;">Real-time and time-predictable?</p></li></ul></li><li data-list-text=""><p class="s199" style="padding-top: 11pt;padding-left: 65pt;text-indent: -36pt;text-align: left;">Model of computation as theory</p><p style="text-indent: 0pt;text-align: left;"><span><img width="960" height="11" alt="image" src="Docs_files/Image_209.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="128" height="33" alt="image" src="Docs_files/Image_210.png"/></span></p><p class="s198" style="padding-top: 5pt;padding-bottom: 3pt;padding-left: 21pt;text-indent: 0pt;text-align: left;"><a name="bookmark90">Models of Computation</a></p><p style="padding-left: 21pt;text-indent: 0pt;line-height: 10pt;text-align: left;"><span><img width="902" height="13" alt="image" src="Docs_files/Image_211.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="200" height="266" alt="image" src="Docs_files/Image_212.jpg"/></span></p></li><li data-list-text=""><p class="s199" style="padding-top: 16pt;padding-left: 65pt;text-indent: -36pt;text-align: left;">MoC is a term used to describe different forms of concurrent execution ‘schemes’</p><ul id="l47"><li data-list-text=""><p class="s200" style="padding-top: 4pt;padding-left: 99pt;text-indent: -34pt;text-align: left;">See Ptolemy II handbook</p></li><li data-list-text=""><p class="s200" style="padding-top: 4pt;padding-left: 99pt;text-indent: -34pt;text-align: left;">Explore with Ptolemy II</p></li></ul></li><li data-list-text=""><p class="s199" style="padding-top: 11pt;padding-left: 65pt;text-indent: -36pt;text-align: left;">Processes + communication</p></li><li data-list-text=""><p class="s199" style="padding-top: 11pt;padding-left: 65pt;text-indent: -36pt;text-align: left;">It is about concurrency</p></li><li data-list-text=""><p class="s199" style="padding-top: 11pt;padding-left: 65pt;text-indent: -36pt;text-align: left;">Theoretical models</p><ul id="l48"><li data-list-text=""><p class="s200" style="padding-top: 4pt;padding-left: 99pt;text-indent: -34pt;text-align: left;">No notion on real-time or performance</p><p style="text-indent: 0pt;text-align: left;"><span><img width="960" height="11" alt="image" src="Docs_files/Image_213.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="128" height="33" alt="image" src="Docs_files/Image_214.png"/></span></p><p class="s201" style="padding-top: 4pt;padding-bottom: 3pt;padding-left: 21pt;text-indent: 0pt;text-align: left;"><a name="bookmark91">Example Models of Computation</a></p><p style="padding-left: 21pt;text-indent: 0pt;line-height: 10pt;text-align: left;"><span><img width="902" height="13" alt="image" src="Docs_files/Image_215.png"/></span></p></li></ul></li><li data-list-text=""><p class="s199" style="padding-top: 16pt;padding-left: 65pt;text-indent: -36pt;text-align: left;">Communicating sequential processes</p></li><li data-list-text=""><p class="s199" style="padding-top: 11pt;padding-left: 65pt;text-indent: -36pt;text-align: left;">Kahn process networks</p></li><li data-list-text=""><p class="s199" style="padding-top: 11pt;padding-left: 65pt;text-indent: -36pt;text-align: left;">Synchronous dataflow</p></li><li data-list-text=""><p class="s199" style="padding-top: 11pt;padding-left: 65pt;text-indent: -36pt;text-align: left;">Actors</p></li><li data-list-text=""><p class="s199" style="padding-top: 11pt;padding-left: 65pt;text-indent: -36pt;text-align: left;">Shared memory and threads</p></li><li data-list-text=""><p class="s199" style="padding-top: 11pt;padding-left: 65pt;text-indent: -36pt;text-align: left;">Reactors</p><p style="text-indent: 0pt;text-align: left;"><span><img width="960" height="11" alt="image" src="Docs_files/Image_216.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s202" style="padding-top: 5pt;padding-bottom: 3pt;padding-left: 21pt;text-indent: 0pt;text-align: left;"><a name="bookmark92">Communicating Sequential Processes      </a><span><img width="128" height="33" alt="image" src="Docs_files/Image_217.png"/></span><span class="s203"> </span>(Hoare)</p><p style="padding-left: 21pt;text-indent: 0pt;line-height: 10pt;text-align: left;"><span><img width="902" height="13" alt="image" src="Docs_files/Image_218.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="232" height="232" alt="image" src="Docs_files/Image_219.jpg"/></span></p></li><li data-list-text=""><p class="s199" style="padding-top: 16pt;padding-left: 65pt;text-indent: -36pt;text-align: left;">Sequential processes</p></li><li data-list-text=""><p class="s199" style="padding-top: 11pt;padding-left: 65pt;text-indent: -36pt;text-align: left;">Synchronous message passing</p><ul id="l49"><li data-list-text=""><p class="s200" style="padding-top: 5pt;padding-left: 99pt;text-indent: -34pt;text-align: left;">Message passing also used for process synchronization</p></li><li data-list-text=""><p class="s200" style="padding-top: 4pt;padding-left: 99pt;text-indent: -34pt;text-align: left;">Synchronizes with each message</p><ul id="l50"><li data-list-text="•"><p class="s197" style="padding-left: 131pt;text-indent: -31pt;text-align: left;">No overlap of communication and computation</p></li></ul></li></ul></li><li data-list-text=""><p class="s199" style="padding-top: 11pt;padding-left: 65pt;text-indent: -36pt;text-align: left;">Occam as a language for CSPs</p><ul id="l51"><li data-list-text=""><p class="s200" style="padding-top: 4pt;padding-left: 99pt;text-indent: -34pt;text-align: left;">Hardware implementation in Transputer</p><p style="text-indent: 0pt;text-align: left;"><span><img width="960" height="11" alt="image" src="Docs_files/Image_220.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="128" height="33" alt="image" src="Docs_files/Image_221.png"/></span></p><p class="s198" style="padding-top: 5pt;padding-bottom: 3pt;padding-left: 21pt;text-indent: 0pt;text-align: left;"><a name="bookmark93">Kahn Process Networks</a></p><p style="padding-left: 21pt;text-indent: 0pt;line-height: 10pt;text-align: left;"><span><img width="902" height="13" alt="image" src="Docs_files/Image_222.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="260" height="195" alt="image" src="Docs_files/Image_223.jpg"/></span></p></li></ul></li><li data-list-text=""><p class="s199" style="padding-top: 16pt;padding-left: 65pt;text-indent: -36pt;text-align: left;">Network of processes</p><ul id="l52"><li data-list-text=""><p class="s200" style="padding-top: 4pt;padding-left: 99pt;text-indent: -34pt;text-align: left;">Also called actors</p></li></ul></li><li data-list-text=""><p class="s199" style="padding-top: 11pt;padding-left: 65pt;text-indent: -36pt;text-align: left;">Unidirectional channels between processes</p><ul id="l53"><li data-list-text=""><p class="s200" style="padding-top: 4pt;padding-left: 99pt;text-indent: -34pt;text-align: left;">Unbound buffers</p></li></ul></li><li data-list-text=""><p class="s199" style="padding-top: 11pt;padding-left: 65pt;text-indent: -36pt;text-align: left;">Process:</p><ul id="l54"><li data-list-text=""><p class="s200" style="padding-top: 4pt;padding-left: 99pt;text-indent: -34pt;text-align: left;">Reads tokens on input channels</p></li><li data-list-text=""><p class="s200" style="padding-top: 4pt;padding-left: 99pt;text-indent: -34pt;text-align: left;">Executes the process</p></li><li data-list-text=""><p class="s200" style="padding-top: 4pt;padding-left: 99pt;text-indent: -34pt;text-align: left;">Produces tokens on the output</p><p style="text-indent: 0pt;text-align: left;"><span><img width="960" height="11" alt="image" src="Docs_files/Image_224.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="128" height="33" alt="image" src="Docs_files/Image_225.png"/></span></p><p class="s198" style="padding-top: 5pt;padding-bottom: 3pt;padding-left: 21pt;text-indent: 0pt;text-align: left;"><a name="bookmark94">Synchronous Data Flow</a></p><p style="padding-left: 21pt;text-indent: 0pt;line-height: 10pt;text-align: left;"><span><img width="902" height="13" alt="image" src="Docs_files/Image_226.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="301" height="200" alt="image" src="Docs_files/Image_227.jpg"/></span></p></li></ul></li><li data-list-text=""><p class="s204" style="padding-top: 16pt;padding-left: 57pt;text-indent: -29pt;text-align: left;">Restriction of Kahn process networks</p></li><li data-list-text=""><p class="s204" style="padding-top: 9pt;padding-left: 57pt;text-indent: -29pt;text-align: left;">Fixed number of tokens consumed and produced</p><ul id="l55"><li data-list-text=""><p class="s205" style="padding-top: 4pt;padding-left: 84pt;text-indent: -27pt;text-align: left;">Can be different for different channels</p></li><li data-list-text=""><p class="s205" style="padding-top: 3pt;padding-left: 84pt;text-indent: -27pt;text-align: left;">Multi-rate processing</p></li></ul></li><li data-list-text=""><p class="s204" style="padding-top: 9pt;padding-left: 57pt;text-indent: -29pt;text-align: left;">Balance equations for</p><ul id="l56"><li data-list-text=""><p class="s205" style="padding-top: 3pt;padding-left: 84pt;text-indent: -27pt;text-align: left;">Number of tokens produced and consumed</p></li><li data-list-text=""><p class="s205" style="padding-top: 3pt;padding-left: 84pt;text-indent: -27pt;text-align: left;">Execution frequency of actors</p></li></ul></li><li data-list-text=""><p class="s204" style="padding-top: 9pt;padding-left: 57pt;text-indent: -29pt;text-align: left;">Static schedule for single processor</p></li><li data-list-text=""><p class="s204" style="padding-top: 9pt;padding-left: 57pt;text-indent: -29pt;text-align: left;">Fits well for digital signal processing</p><p style="text-indent: 0pt;text-align: left;"><span><img width="960" height="11" alt="image" src="Docs_files/Image_228.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="128" height="33" alt="image" src="Docs_files/Image_229.png"/></span></p><p class="s198" style="padding-top: 5pt;padding-bottom: 3pt;padding-left: 21pt;text-indent: 0pt;text-align: left;"><a name="bookmark95">Hewitt’s Actor Model</a></p><p style="padding-left: 21pt;text-indent: 0pt;line-height: 10pt;text-align: left;"><span><img width="902" height="13" alt="image" src="Docs_files/Image_230.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="222" height="257" alt="image" src="Docs_files/Image_231.jpg"/></span></p></li><li data-list-text=""><p class="s206" style="padding-top: 16pt;padding-left: 63pt;text-indent: -35pt;text-align: left;">Tasks are represented as actors</p></li><li data-list-text=""><p class="s206" style="padding-top: 11pt;padding-left: 63pt;text-indent: -35pt;text-align: left;">Actors receives messages</p></li><li data-list-text=""><p class="s206" style="padding-top: 11pt;padding-left: 63pt;text-indent: -35pt;text-align: left;">Act (compute) on the reception of a message</p></li><li data-list-text=""><p class="s206" style="padding-top: 10pt;padding-left: 63pt;text-indent: -35pt;text-align: left;">Actors send messages</p></li><li data-list-text=""><p class="s206" style="padding-top: 10pt;padding-left: 63pt;text-indent: -35pt;text-align: left;">Only local/private state</p></li><li data-list-text=""><p class="s206" style="padding-top: 10pt;padding-left: 63pt;text-indent: -35pt;text-align: left;">No need for lock-based synchronization</p></li><li data-list-text=""><p class="s206" style="padding-top: 10pt;padding-left: 63pt;text-indent: -35pt;text-align: left;">Now popular with Akka</p><p style="text-indent: 0pt;text-align: left;"><span><img width="960" height="11" alt="image" src="Docs_files/Image_232.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="128" height="33" alt="image" src="Docs_files/Image_233.png"/></span></p><p class="s198" style="padding-top: 5pt;padding-bottom: 3pt;padding-left: 21pt;text-indent: 0pt;text-align: left;"><a name="bookmark96">Shared Memory and Threads</a></p><p style="padding-left: 21pt;text-indent: 0pt;line-height: 10pt;text-align: left;"><span><img width="902" height="13" alt="image" src="Docs_files/Image_234.png"/></span></p></li><li data-list-text=""><p class="s199" style="padding-top: 16pt;padding-left: 65pt;text-indent: -36pt;text-align: left;">Currently most commonly used MoC</p></li><li data-list-text=""><p class="s199" style="padding-top: 11pt;padding-left: 65pt;text-indent: -36pt;text-align: left;">Not well defined</p><ul id="l57"><li data-list-text=""><p class="s200" style="padding-top: 4pt;padding-left: 99pt;text-indent: -34pt;text-align: left;">Uses threads to represent tasks</p></li><li data-list-text=""><p class="s200" style="padding-top: 4pt;padding-left: 99pt;text-indent: -34pt;text-align: left;">Uses locks to protect data structures</p></li><li data-list-text=""><p class="s200" style="padding-top: 4pt;padding-left: 99pt;text-indent: -34pt;text-align: left;">Avoid race conditions</p></li><li data-list-text=""><p class="s200" style="padding-top: 4pt;padding-left: 99pt;text-indent: -34pt;text-align: left;">Needs a memory model</p></li></ul></li><li data-list-text=""><p class="s199" style="padding-top: 12pt;padding-left: 65pt;text-indent: -36pt;text-align: left;">Not even mentioned in Ptolemy handbook ;-)</p><p style="text-indent: 0pt;text-align: left;"><span><img width="960" height="11" alt="image" src="Docs_files/Image_235.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="128" height="33" alt="image" src="Docs_files/Image_236.png"/></span></p><p class="s198" style="padding-top: 5pt;padding-bottom: 3pt;padding-left: 21pt;text-indent: 0pt;text-align: left;"><a name="bookmark97">Reactors</a></p><p style="padding-left: 21pt;text-indent: 0pt;line-height: 10pt;text-align: left;"><span><img width="902" height="13" alt="image" src="Docs_files/Image_237.png"/></span></p></li><li data-list-text=""><p class="s199" style="padding-top: 16pt;padding-left: 65pt;text-indent: -36pt;text-align: left;">Based on the Actor model</p></li><li data-list-text=""><p class="s199" style="padding-top: 11pt;padding-left: 65pt;text-indent: -36pt;text-align: left;">Add time</p><ul id="l58"><li data-list-text=""><p class="s200" style="padding-top: 4pt;padding-left: 99pt;text-indent: -34pt;text-align: left;">Original model is untimed</p></li></ul></li><li data-list-text=""><p class="s199" style="padding-top: 11pt;padding-left: 65pt;text-indent: -36pt;text-align: left;">Add determinism</p><ul id="l59"><li data-list-text=""><p class="s200" style="padding-top: 5pt;padding-left: 99pt;text-indent: -34pt;text-align: left;">Original order of actions is non- deterministic</p><p style="text-indent: 0pt;text-align: left;"><span><img width="960" height="11" alt="image" src="Docs_files/Image_238.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="128" height="33" alt="image" src="Docs_files/Image_239.png"/></span></p><p class="s198" style="padding-top: 5pt;padding-bottom: 3pt;padding-left: 21pt;text-indent: 0pt;text-align: left;"><a name="bookmark98">Example Reactors</a></p><p style="padding-left: 21pt;text-indent: 0pt;line-height: 10pt;text-align: left;"><span><img width="902" height="13" alt="image" src="Docs_files/Image_240.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 59pt;text-indent: 0pt;text-align: left;"><span><img width="767" height="450" alt="image" src="Docs_files/Image_241.jpg"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="960" height="11" alt="image" src="Docs_files/Image_242.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="128" height="33" alt="image" src="Docs_files/Image_243.png"/></span></p><p class="s198" style="padding-top: 5pt;padding-bottom: 3pt;padding-left: 21pt;text-indent: 0pt;text-align: left;"><a name="bookmark99">Reactor Model</a></p><p style="padding-left: 21pt;text-indent: 0pt;line-height: 10pt;text-align: left;"><span><img width="902" height="13" alt="image" src="Docs_files/Image_244.png"/></span></p></li></ul></li><li data-list-text=""><p class="s199" style="padding-top: 16pt;padding-left: 65pt;text-indent: -36pt;text-align: left;">Components contain</p><ul id="l60"><li data-list-text=""><p class="s200" style="padding-top: 5pt;padding-left: 99pt;text-indent: -34pt;text-align: left;">Input ports, actions, and clocks, all of which are triggers</p></li><li data-list-text=""><p class="s200" style="padding-top: 5pt;padding-left: 99pt;text-indent: -34pt;text-align: left;">Output ports, local state, and an ordered list of reactions</p></li></ul></li><li data-list-text=""><p class="s199" style="padding-top: 11pt;padding-left: 65pt;text-indent: -36pt;text-align: left;">Composition</p><ul id="l61"><li data-list-text=""><p class="s200" style="padding-top: 4pt;padding-left: 99pt;text-indent: -34pt;text-align: left;">A reactor may contain other reactors</p></li><li data-list-text=""><p class="s200" style="padding-top: 4pt;padding-left: 135pt;text-indent: -69pt;text-align: left;">Connections define the flow of messages</p></li><li data-list-text=""><p class="s207" style="padding-top: 5pt;padding-left: 99pt;text-indent: -34pt;text-align: left;">	<span class="s200">An output port may be connected to multiple input ports</span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="960" height="11" alt="image" src="Docs_files/Image_245.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="128" height="33" alt="image" src="Docs_files/Image_246.png"/></span></p><p class="s198" style="padding-top: 5pt;padding-bottom: 3pt;padding-left: 21pt;text-indent: 0pt;text-align: left;"><a name="bookmark100">Reactor Model</a></p><p style="padding-left: 21pt;text-indent: 0pt;line-height: 10pt;text-align: left;"><span><img width="902" height="13" alt="image" src="Docs_files/Image_247.png"/></span></p></li></ul></li><li data-list-text=""><p class="s199" style="padding-top: 16pt;padding-left: 65pt;text-indent: -36pt;text-align: left;">Events</p><ul id="l62"><li data-list-text=""><p class="s200" style="padding-top: 5pt;padding-left: 99pt;text-indent: -34pt;text-align: left;">Messages sent from one reactor to another, and clock and action events</p></li><li data-list-text=""><p class="s200" style="padding-top: 5pt;padding-left: 99pt;text-indent: -34pt;text-align: left;">Each have a timestamp, a value on a logical timeline</p></li><li data-list-text=""><p class="s207" style="padding-top: 5pt;padding-left: 99pt;text-indent: -34pt;text-align: left;">	<span class="s200">Each port, clock, and action can have at most one such event at any logical time</span></p></li><li data-list-text=""><p class="s207" style="padding-top: 5pt;padding-left: 99pt;text-indent: -34pt;text-align: left;">	<span class="s200">An event may carry a value that will be passed as an argument to triggered reactions</span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="960" height="11" alt="image" src="Docs_files/Image_248.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="128" height="33" alt="image" src="Docs_files/Image_249.png"/></span></p><p class="s198" style="padding-top: 5pt;padding-bottom: 3pt;padding-left: 21pt;text-indent: 0pt;text-align: left;"><a name="bookmark101">Reactor Model</a></p><p style="padding-left: 21pt;text-indent: 0pt;line-height: 10pt;text-align: left;"><span><img width="902" height="13" alt="image" src="Docs_files/Image_250.png"/></span></p></li></ul></li><li data-list-text=""><p class="s208" style="padding-top: 16pt;padding-left: 60pt;text-indent: -32pt;text-align: left;">Reactions</p><ul id="l63"><li data-list-text=""><p class="s209" style="padding-top: 4pt;padding-left: 91pt;text-indent: -30pt;text-align: left;">A procedure in a target language that is invoked in response to a trigger event.</p></li><li data-list-text=""><p class="s207" style="padding-top: 4pt;padding-left: 91pt;text-indent: -30pt;text-align: left;">	<span class="s209">A reaction can read input ports and can produce outputs</span></p></li><li data-list-text=""><p class="s209" style="padding-top: 4pt;padding-left: 91pt;text-indent: -30pt;text-align: left;">Declare all inputs that it may read and output ports to which it may write</p></li><li data-list-text=""><p class="s207" style="padding-top: 4pt;padding-left: 91pt;text-indent: -30pt;text-align: left;">	<span class="s209">All inputs that it reads and outputs that it produces bear the same timestamp as its triggering event</span></p><ul id="l64"><li data-list-text="•"><p class="s210" style="padding-top: 1pt;padding-left: 118pt;text-indent: -27pt;text-align: left;">The reaction itself is logically instantaneous, so any output events it produces are logically simultaneous with the triggering event</p><p style="text-indent: 0pt;text-align: left;"><span><img width="960" height="11" alt="image" src="Docs_files/Image_251.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="128" height="33" alt="image" src="Docs_files/Image_252.png"/></span></p><p class="s198" style="padding-top: 5pt;padding-bottom: 3pt;padding-left: 21pt;text-indent: 0pt;text-align: left;"><a name="bookmark102">Reactor Model</a></p><p style="padding-left: 21pt;text-indent: 0pt;line-height: 10pt;text-align: left;"><span><img width="902" height="13" alt="image" src="Docs_files/Image_253.png"/></span></p></li></ul></li></ul></li><li data-list-text=""><p class="s199" style="padding-top: 16pt;padding-left: 65pt;text-indent: -36pt;text-align: left;">Flow of Time</p><ul id="l65"><li data-list-text=""><p class="s200" style="padding-top: 4pt;padding-left: 99pt;text-indent: -34pt;text-align: left;">Successive invocations of any single reaction occur at strictly increasing logical times</p></li><li data-list-text=""><p class="s200" style="padding-top: 4pt;padding-left: 99pt;text-indent: -34pt;text-align: left;">Any messages that are not read by a reaction triggered at the timestamp of the message are lost</p></li><li data-list-text=""><p class="s200" style="padding-top: 4pt;padding-left: 99pt;text-indent: -34pt;text-align: left;">Logical time can be advanced by a delay statement</p><p style="text-indent: 0pt;text-align: left;"><span><img width="960" height="11" alt="image" src="Docs_files/Image_254.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="128" height="33" alt="image" src="Docs_files/Image_255.png"/></span></p><p class="s198" style="padding-top: 5pt;padding-bottom: 3pt;padding-left: 21pt;text-indent: 0pt;text-align: left;"><a name="bookmark103">Reactor Model</a></p><p style="padding-left: 21pt;text-indent: 0pt;line-height: 10pt;text-align: left;"><span><img width="902" height="13" alt="image" src="Docs_files/Image_256.png"/></span></p></li></ul></li><li data-list-text=""><p class="s199" style="padding-top: 16pt;padding-left: 65pt;text-indent: -36pt;text-align: left;">Mutual Exclusion</p><ul id="l66"><li data-list-text=""><p class="s200" style="padding-top: 5pt;padding-left: 99pt;text-indent: -34pt;text-align: left;">The execution of any two reactions of a reactor are mutually exclusive</p><ul id="l67"><li data-list-text="•"><p class="s197" style="padding-left: 131pt;text-indent: -31pt;text-align: left;">Atomic with respect to one another</p></li></ul></li><li data-list-text=""><p class="s200" style="padding-top: 5pt;padding-left: 99pt;text-indent: -34pt;text-align: left;">Any two reactions that are invoked at the same logical time are invoked in the order specified by the reactor definition</p></li><li data-list-text=""><p class="s200" style="padding-top: 5pt;padding-left: 99pt;text-indent: -34pt;text-align: left;">Avoiding race conditions between reactions accessing the reactor state variables</p><ul id="l68"><li data-list-text="•"><p class="s197" style="padding-left: 131pt;text-indent: -31pt;text-align: left;">There is only local state</p><p style="text-indent: 0pt;text-align: left;"><span><img width="960" height="11" alt="image" src="Docs_files/Image_257.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="128" height="33" alt="image" src="Docs_files/Image_258.png"/></span></p><p class="s198" style="padding-top: 5pt;padding-bottom: 3pt;padding-left: 21pt;text-indent: 0pt;text-align: left;"><a name="bookmark104">Time, Delays, and Deadlines</a></p><p style="padding-left: 21pt;text-indent: 0pt;line-height: 10pt;text-align: left;"><span><img width="902" height="13" alt="image" src="Docs_files/Image_259.png"/></span></p></li></ul></li></ul></li><li data-list-text=""><p class="s199" style="padding-top: 16pt;padding-left: 65pt;text-indent: -36pt;text-align: left;">For real-time systems</p></li><li data-list-text=""><p class="s199" style="padding-top: 11pt;padding-left: 65pt;text-indent: -36pt;text-align: left;">Reactors have two notions of time</p><ul id="l69"><li data-list-text=""><p class="s200" style="padding-top: 4pt;padding-left: 99pt;text-indent: -34pt;text-align: left;">Logical time</p></li><li data-list-text=""><p class="s200" style="padding-top: 4pt;padding-left: 99pt;text-indent: -34pt;text-align: left;">Physical time</p></li></ul></li><li data-list-text=""><p class="s199" style="padding-top: 11pt;padding-left: 65pt;text-indent: -36pt;text-align: left;">Each event has a timestamp</p><ul id="l70"><li data-list-text=""><p class="s200" style="padding-top: 5pt;padding-left: 99pt;text-indent: -34pt;text-align: left;">Sensor input uses physical time for the timestamp</p></li><li data-list-text=""><p class="s200" style="padding-top: 4pt;padding-left: 99pt;text-indent: -34pt;text-align: left;">Otherwise, this is logical time</p><p style="text-indent: 0pt;text-align: left;"><span><img width="960" height="11" alt="image" src="Docs_files/Image_260.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="128" height="33" alt="image" src="Docs_files/Image_261.png"/></span></p><p class="s198" style="padding-top: 5pt;padding-bottom: 3pt;padding-left: 21pt;text-indent: 0pt;text-align: left;"><a name="bookmark105">Time, Delays, and Deadlines</a></p><p style="padding-left: 21pt;text-indent: 0pt;line-height: 10pt;text-align: left;"><span><img width="902" height="13" alt="image" src="Docs_files/Image_262.png"/></span></p></li></ul></li><li data-list-text=""><p class="s199" style="padding-top: 17pt;padding-left: 65pt;text-indent: -36pt;text-align: left;">Multiple events with the same timestamp are simultaneous</p></li><li data-list-text=""><p class="s199" style="padding-top: 12pt;padding-left: 65pt;text-indent: -36pt;text-align: left;">Logical time does not advance when executing an action</p></li><li data-list-text=""><p class="s199" style="padding-top: 11pt;padding-left: 65pt;text-indent: -36pt;text-align: left;">Logical time and physical time are aligned at application start</p></li><li data-list-text=""><p class="s199" style="padding-top: 12pt;padding-left: 65pt;text-indent: -36pt;text-align: left;">Logical time never gets ahead of physical time</p><p style="text-indent: 0pt;text-align: left;"><span><img width="960" height="11" alt="image" src="Docs_files/Image_263.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="128" height="33" alt="image" src="Docs_files/Image_264.png"/></span></p><p class="s198" style="padding-top: 5pt;padding-bottom: 3pt;padding-left: 21pt;text-indent: 0pt;text-align: left;"><a name="bookmark106">Time, Delays, and Deadlines</a></p><p style="padding-left: 21pt;text-indent: 0pt;line-height: 10pt;text-align: left;"><span><img width="902" height="13" alt="image" src="Docs_files/Image_265.png"/></span></p></li><li data-list-text=""><p class="s199" style="padding-top: 17pt;padding-left: 65pt;text-indent: -36pt;text-align: left;">Inputs are assigned a timestamp of physical time</p></li><li data-list-text=""><p class="s199" style="padding-top: 12pt;padding-left: 65pt;text-indent: -36pt;text-align: left;">Logical time may lag behind physical time</p></li><li data-list-text=""><p class="s199" style="padding-top: 11pt;padding-left: 65pt;text-indent: -36pt;text-align: left;">Deadlines at actuators to ensure real- time behavior</p></li><li data-list-text=""><p class="s199" style="padding-top: 12pt;padding-left: 65pt;text-indent: -36pt;text-align: left;">Delay construct to align logical time to physical time</p></li></ul><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="128" height="33" alt="image" src="Docs_files/Image_266.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="797" height="244" alt="image" src="Docs_files/Image_267.png"/></span></p><p class="s211" style="text-indent: 0pt;text-align: left;">d<span class="s212">E</span> = 8</p><p style="text-indent: 0pt;text-align: left;"/><p class="s211" style="text-indent: 0pt;text-align: left;">D<span class="s212">X</span> = 2</p><p style="text-indent: 0pt;text-align: left;"/><p class="s213" style="text-indent: 0pt;text-align: center;">Periodic Source <span class="s214">(P)</span></p><p style="text-indent: 0pt;text-align: left;"/><p class="s213" style="text-indent: 0pt;text-align: left;">Filter</p><p class="s214" style="padding-left: 7pt;text-indent: 0pt;text-align: left;">(A)</p><p style="text-indent: 0pt;text-align: left;"/><p class="s213" style="text-indent: 0pt;line-height: 15pt;text-align: center;">Merge</p><p class="s214" style="text-indent: 0pt;line-height: 15pt;text-align: center;">(C)</p><p style="text-indent: 0pt;text-align: left;"/><p class="s215" style="text-indent: 0pt;text-align: center;">Delay</p><p class="s211" style="text-indent: 0pt;text-align: center;">(E)</p><p style="text-indent: 0pt;text-align: left;"/><p class="s213" style="text-indent: 0pt;text-align: center;">Actuator</p><p class="s214" style="text-indent: 0pt;text-align: center;">(X)</p><p style="text-indent: 0pt;text-align: left;"/><p class="s211" style="text-indent: 0pt;text-align: left;">d<span class="s212">F</span> = 6</p><p style="text-indent: 0pt;text-align: left;"/><p class="s211" style="text-indent: 0pt;text-align: left;">D<span class="s212">Y</span> = 4</p><p style="text-indent: 0pt;text-align: left;"/><p class="s213" style="text-indent: 0pt;text-align: center;">Sporadic Sensor <span class="s214">(S)</span></p><p style="text-indent: 0pt;text-align: left;"/><p class="s213" style="text-indent: 0pt;text-align: left;">Filter</p><p class="s214" style="padding-left: 7pt;text-indent: 0pt;text-align: left;">(B)</p><p style="text-indent: 0pt;text-align: left;"/><p class="s213" style="text-indent: 0pt;text-align: center;">Delay</p><p class="s214" style="text-indent: 0pt;text-align: center;">(F)</p><p style="text-indent: 0pt;text-align: left;"/><p class="s213" style="text-indent: 0pt;text-align: center;">Actuator</p><p class="s214" style="text-indent: 0pt;text-align: center;">(Y)</p><p style="text-indent: 0pt;text-align: left;"/><p class="s198" style="padding-top: 5pt;padding-bottom: 3pt;padding-left: 21pt;text-indent: 0pt;text-align: left;"><a name="bookmark107">Example</a></p><p style="padding-left: 21pt;text-indent: 0pt;line-height: 10pt;text-align: left;"><span><img width="902" height="13" alt="image" src="Docs_files/Image_268.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="960" height="11" alt="image" src="Docs_files/Image_269.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s216" style="padding-left: 94pt;text-indent: 0pt;line-height: 38pt;text-align: center;"><a name="bookmark108">Logical Time and Physical Time</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s217" style="padding-top: 17pt;padding-left: 100pt;text-indent: 0pt;text-align: center;">LogicalTime<span class="s218">            </span>PhysicalTime</p><p style="text-indent: 0pt;text-align: left;"><br/></p><table style="border-collapse:collapse;margin-left:3pt" cellspacing="0"><tr style="height:25pt"><td style="width:181pt" colspan="2"><p style="text-indent: 0pt;text-align: left;"><br/></p></td><td style="width:32pt"><p class="s219" style="padding-right: 2pt;text-indent: 0pt;line-height: 23pt;text-align: right;"></p></td></tr><tr style="height:27pt"><td style="width:25pt"><p class="s219" style="padding-left: 2pt;text-indent: 0pt;line-height: 24pt;text-align: left;"></p></td><td style="width:156pt"><p class="s220" style="padding-left: 6pt;text-indent: 0pt;line-height: 25pt;text-align: left;">External events</p></td><td style="width:32pt"><p class="s219" style="padding-top: 2pt;padding-right: 2pt;text-indent: 0pt;line-height: 23pt;text-align: right;"></p></td></tr><tr style="height:27pt"><td style="width:25pt"><p class="s219" style="padding-left: 2pt;text-indent: 0pt;line-height: 24pt;text-align: left;"></p></td><td style="width:156pt"><p class="s220" style="padding-left: 6pt;text-indent: 0pt;line-height: 25pt;text-align: left;">Deadlines</p></td><td style="width:32pt"><p class="s219" style="padding-top: 2pt;padding-right: 2pt;text-indent: 0pt;line-height: 23pt;text-align: right;"></p></td></tr><tr style="height:27pt"><td style="width:25pt"><p class="s219" style="padding-left: 2pt;text-indent: 0pt;line-height: 24pt;text-align: left;"></p></td><td style="width:156pt"><p class="s220" style="padding-left: 6pt;text-indent: 0pt;line-height: 25pt;text-align: left;">Fault handling</p></td><td style="width:32pt"><p style="text-indent: 0pt;text-align: left;"><br/></p></td></tr></table><p style="text-indent: 0pt;text-align: left;"/><p class="s221" style="padding-top: 4pt;padding-left: 83pt;text-indent: 0pt;text-align: left;"><span class="s222"> </span><span class="s223">Steps or &#39;ticks&#39;</span></p><p class="s221" style="padding-left: 83pt;text-indent: 0pt;text-align: left;"><span class="s222"> </span><span class="s223">Discrete</span></p><p class="s221" style="padding-left: 112pt;text-indent: -29pt;text-align: left;"><span class="s222"> </span><span class="s223">Absolute Simultaneity</span></p><p class="s223" style="padding-top: 5pt;padding-left: 83pt;text-indent: 0pt;text-align: left;">Measurements Continuous Relativistic Simultaneity</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s224" style="padding-top: 5pt;padding-left: 58pt;text-indent: 0pt;text-align: left;">The Persistence of Memory <span class="s225">— Salvador Dalí</span></p><p class="s226" style="padding-top: 3pt;text-indent: 0pt;text-align: right;">23</p><p style="text-indent: 0pt;text-align: left;"><span><img width="960" height="559" alt="image" src="Docs_files/Image_270.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="128" height="33" alt="image" src="Docs_files/Image_271.png"/></span></p><p class="s198" style="padding-top: 5pt;padding-bottom: 3pt;padding-left: 21pt;text-indent: 0pt;text-align: left;"><a name="bookmark109">Lingua Franca (LF)</a></p><p style="padding-left: 21pt;text-indent: 0pt;line-height: 10pt;text-align: left;"><span><img width="902" height="13" alt="image" src="Docs_files/Image_272.png"/></span></p><ul id="l71"><li data-list-text=""><p class="s199" style="padding-top: 16pt;padding-left: 65pt;text-indent: -36pt;text-align: left;">A polyglot meta-language for deterministic, concurrent, time- sensitive systems</p></li><li data-list-text=""><p class="s199" style="padding-top: 11pt;padding-left: 65pt;text-indent: -36pt;text-align: left;">Reaction code in target language</p><ul id="l72"><li data-list-text=""><p class="s200" style="padding-top: 4pt;padding-left: 99pt;text-indent: -34pt;text-align: left;">C, C++,…</p><p style="text-indent: 0pt;text-align: left;"><span><img width="385" height="137" alt="image" src="Docs_files/Image_273.png"/></span></p></li></ul></li><li data-list-text=""><p class="s199" style="padding-top: 11pt;padding-left: 65pt;text-indent: -36pt;text-align: left;">Generation of runtime code from LF constructs</p></li></ul><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s201" style="padding-top: 4pt;padding-left: 21pt;text-indent: 0pt;text-align: left;"><a name="bookmark110">Hierarchical Composition and Ports</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s227" style="padding-left: 37pt;text-indent: 0pt;text-align: center;">reactor <span class="s228">A {</span></p><p class="s227" style="padding-left: 37pt;text-indent: 0pt;text-align: center;">output <span class="s228">y;</span></p><p class="s228" style="padding-left: 50pt;text-indent: 0pt;text-align: left;">...</p><p class="s228" style="padding-left: 38pt;text-indent: 0pt;text-align: left;">}</p><p class="s227" style="padding-left: 38pt;text-indent: 0pt;text-align: left;">reactor <span class="s228">B {</span></p><p class="s227" style="padding-left: 50pt;text-indent: 0pt;text-align: left;">input <span class="s228">x;</span></p><p class="s228" style="padding-left: 50pt;text-indent: 0pt;text-align: left;">...</p><p class="s228" style="padding-left: 38pt;text-indent: 0pt;text-align: left;">}</p><p class="s227" style="padding-left: 38pt;text-indent: 0pt;text-align: left;">main reactor <span class="s228">C {</span></p><p class="s228" style="padding-left: 50pt;text-indent: 0pt;text-align: left;">a = <span class="s227">new </span>A();</p><p class="s228" style="padding-left: 50pt;text-indent: 0pt;text-align: left;">b = <span class="s227">new </span>B();</p><p class="s228" style="padding-left: 50pt;text-indent: 0pt;text-align: left;">a.y -&gt; b.x;</p><p class="s228" style="padding-left: 38pt;text-indent: 0pt;text-align: left;">}</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s198" style="padding-top: 5pt;padding-left: 21pt;text-indent: 0pt;text-align: left;"><a name="bookmark111">Application Sketch</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 125pt;text-indent: 0pt;text-align: left;"><span><img width="671" height="221" alt="image" src="Docs_files/Image_274.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s198" style="padding-top: 5pt;padding-left: 21pt;text-indent: 0pt;text-align: left;"><a name="bookmark112">Reactors</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s229" style="padding-left: 11pt;text-indent: 0pt;text-align: left;">reactor <span style=" color: #000;">ComputationA {</span></p><p class="s229" style="padding-left: 31pt;text-indent: 0pt;text-align: left;">input <span style=" color: #000;">x:type;</span></p><p class="s229" style="padding-left: 31pt;text-indent: 0pt;text-align: left;">output <span style=" color: #000;">y:type;</span></p><p class="s229" style="padding-left: 31pt;text-indent: 0pt;text-align: left;">state <span style=" color: #000;">s:type(initialValue);</span></p><p class="s229" style="padding-left: 51pt;text-indent: -20pt;text-align: left;">reaction<span style=" color: #000;">(x) -&gt; y {= Target-language code referencing x, y, and s.</span></p><p class="s230" style="padding-left: 31pt;text-indent: 0pt;line-height: 19pt;text-align: left;">=}</p><p class="s230" style="padding-left: 11pt;text-indent: 0pt;text-align: left;">}</p><h3 style="padding-top: 5pt;padding-left: 43pt;text-indent: 0pt;text-align: left;">Timestamped inputs</h3><p class="s231" style="text-indent: 0pt;text-align: left;">Local state</p><p style="text-indent: 0pt;text-align: left;"/><p style="text-indent: 0pt;text-align: left;"><span><img width="930" height="410" alt="image" src="Docs_files/Image_275.png"/></span></p><h3 style="padding-top: 5pt;padding-left: 50pt;text-indent: 26pt;line-height: 46pt;text-align: left;">Logically instantaneous outputs <span class="s231">Local state</span></h3><h3 style="padding-top: 11pt;padding-left: 50pt;text-indent: 0pt;text-align: left;">Reaction signature gives trigger(s) and production</h3><h3 style="padding-top: 12pt;padding-left: 11pt;text-indent: 0pt;text-align: left;">Application logic given in a target language (C, C++, Python, TypeScript,</h3><h3 style="padding-left: 11pt;text-indent: 0pt;line-height: 22pt;text-align: left;">…)</h3><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s198" style="padding-top: 5pt;padding-left: 21pt;text-indent: 0pt;text-align: left;"><a name="bookmark113">Determinism</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="811" height="402" alt="image" src="Docs_files/Image_276.png"/></span></p><p class="s229" style="padding-top: 5pt;padding-left: 69pt;text-indent: -20pt;text-align: left;">reactor <span style=" color: #000;">Add { </span>input <span style=" color: #000;">in1:int; </span>input <span style=" color: #000;">in2:int; </span>output <span style=" color: #000;">out:int;</span></p><p class="s229" style="padding-left: 89pt;text-indent: -20pt;text-align: left;">reaction<span style=" color: #000;">(in1, in2) -&gt; out {= int result = 0;</span></p><p class="s230" style="padding-left: 109pt;text-indent: -20pt;text-align: left;">if (in1_is_present) { result += in1;</p><p class="s230" style="padding-left: 89pt;text-indent: 0pt;line-height: 19pt;text-align: left;">}</p><p class="s230" style="padding-left: 109pt;text-indent: -20pt;text-align: left;">if (in2_is_present) { result += in2;</p><p class="s230" style="padding-left: 89pt;text-indent: 0pt;line-height: 19pt;text-align: left;">}</p><p class="s230" style="padding-left: 89pt;text-indent: 0pt;text-align: left;">set(out, result);</p><p class="s230" style="padding-left: 69pt;text-indent: 0pt;text-align: left;">=}</p><p class="s230" style="padding-left: 48pt;text-indent: 0pt;text-align: left;">}</p><p style="text-indent: 0pt;text-align: left;"><br/></p><h3 style="padding-left: 48pt;text-indent: 0pt;text-align: left;">Whether the two triggers are present simultaneously depends only on their timestamps, not on when they are received nor on where in the network they are sent from.</h3><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s198" style="padding-top: 5pt;padding-left: 21pt;text-indent: 0pt;text-align: left;"><a name="bookmark114">Periodic Behavior</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s229" style="padding-top: 3pt;padding-left: 6pt;text-indent: 0pt;line-height: 19pt;text-align: left;">reactor <span style=" color: #000;">SensorA {</span></p><p style="padding-left: 247pt;text-indent: 0pt;text-align: left;"/><p class="s229" style="text-indent: 0pt;text-align: left;">output <span style=" color: #000;">y:int;</span></p><p class="s229" style="text-indent: 0pt;text-align: left;">timer <span style=" color: #000;">t(1 msec, 100 usec);</span></p><p class="s232" style="padding-left: 20pt;text-indent: -20pt;text-align: left;"><span class="s229">reaction</span><span class="s230">(t) -&gt; y {= Poll the sensor in the target language </span>a<span class="s233">a</span>n<span class="s230">d write value to y.</span></p><p class="s230" style="text-indent: 0pt;line-height: 17pt;text-align: left;">=}</p><p style="padding-left: 274pt;text-indent: 0pt;text-align: left;"/><p class="s230" style="text-indent: 0pt;text-align: left;">}</p><p style="padding-left: 253pt;text-indent: 0pt;text-align: left;"/><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="886" height="429" alt="image" src="Docs_files/Image_277.png"/></span></p><p class="s231" style="padding-top: 3pt;padding-left: 7pt;text-indent: 0pt;text-align: left;">In our C target, timestamps are 64-bit integers representing the number of nanoseconds since Jan. 1, 1970 (if the platform has a clock) or the number of nanoseconds since starting (if not).</p><p style="text-indent: 0pt;text-align: left;"/><h3 style="padding-top: 12pt;padding-left: 17pt;text-indent: 0pt;text-align: left;">Time as a first- class data type.</h3><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s198" style="padding-top: 5pt;padding-left: 21pt;text-indent: 0pt;text-align: left;"><a name="bookmark115">Event-Triggered Behavior</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><br/></p><h3 style="padding-left: 23pt;text-indent: 0pt;text-align: left;">Timestamp will be derived from the local physical clock.</h3><h3 style="padding-top: 11pt;padding-left: 23pt;text-indent: 0pt;text-align: left;">ISR executes asynchronously, and schedule() function is thread safe.</h3><p class="s229" style="padding-top: 5pt;padding-left: 43pt;text-indent: -20pt;text-align: left;">reactor <span style=" color: #000;">SensorB { </span>output <span style=" color: #000;">y:int; </span>physical action <span style=" color: #000;">a:int; </span>timer <span style=" color: #000;">start;</span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="869" height="361" alt="image" src="Docs_files/Image_278.png"/></span></p><p class="s230" style="padding-left: 63pt;text-indent: -20pt;text-align: left;"><span style=" color: #921867;">reaction</span>(<span style=" color: #900;">startup</span>) -&gt; a {= Set up an interrupt service routine that will call: s<span class="s232">c</span><span class="s233">c</span><span class="s232">h</span>edule(a, 0, value);</p><p class="s230" style="padding-left: 43pt;text-indent: 0pt;line-height: 17pt;text-align: left;">=}</p><p class="s229" style="padding-left: 63pt;text-indent: -20pt;text-align: left;">reaction<span style=" color: #000;">(a) -&gt; y {= set(y, a_value);</span></p><p class="s230" style="padding-left: 43pt;text-indent: 0pt;text-align: left;">=}</p><p class="s230" style="padding-left: 23pt;text-indent: 0pt;text-align: left;">}</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s198" style="padding-top: 5pt;padding-left: 21pt;text-indent: 0pt;text-align: left;"><a name="bookmark116">Deadlines</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="909" height="425" alt="image" src="Docs_files/Image_279.png"/></span></p><p class="s229" style="padding-top: 5pt;padding-left: 25pt;text-indent: -20pt;text-align: left;">reactor <span style=" color: #000;">ActuatorA { </span>input <span style=" color: #000;">in:int; </span>reaction<span style=" color: #000;">(in) {=</span></p><p class="s230" style="padding-left: 45pt;text-indent: 0pt;line-height: 19pt;text-align: left;">perform actuation.</p><p class="s230" style="padding-left: 45pt;text-indent: -20pt;text-align: left;">=} <span style=" color: #921867;">deadline </span>10 msec {= handle deadline violation.</p><p class="s230" style="padding-left: 25pt;text-indent: 0pt;line-height: 19pt;text-align: left;">=}</p><p class="s230" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">}</p><p style="text-indent: 0pt;text-align: left;"><br/></p><h3 style="padding-top: 5pt;padding-left: 233pt;text-indent: 0pt;text-align: left;">Deadline is violated if the input d.x triggers more than 10 msec (in physical time) after the timestamp of the input.</h3><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s216" style="padding-left: 135pt;text-indent: 0pt;line-height: 38pt;text-align: left;"><a name="bookmark117">Lingua Franca Tooling</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s235" style="padding-left: 509pt;text-indent: 0pt;text-align: left;">Verbatim target code</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s235" style="padding-left: 509pt;text-indent: 0pt;line-height: 120%;text-align: left;">Reactor-oriented composition layer</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s235" style="padding-top: 15pt;padding-left: 509pt;text-indent: 0pt;line-height: 120%;text-align: left;">Interactive Visualization</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s226" style="padding-top: 5pt;text-indent: 0pt;text-align: right;">32</p><p style="text-indent: 0pt;text-align: left;"><span><img width="960" height="560" alt="image" src="Docs_files/Image_280.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="128" height="33" alt="image" src="Docs_files/Image_281.png"/></span></p><p class="s198" style="padding-top: 5pt;padding-bottom: 3pt;padding-left: 21pt;text-indent: 0pt;text-align: left;"><a name="bookmark118">LF Compiler Toolchain</a></p><p style="padding-left: 21pt;text-indent: 0pt;line-height: 10pt;text-align: left;"><span><img width="902" height="13" alt="image" src="Docs_files/Image_282.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 18pt;text-indent: 0pt;text-align: left;"><span><img width="856" height="377" alt="image" src="Docs_files/Image_283.jpg"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="960" height="39" alt="image" src="Docs_files/Image_284.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s226" style="padding-left: 208pt;text-indent: 0pt;text-align: center;">Reactors: A Deterministic Model of Concurrent Computation</p><p style="text-indent: 0pt;text-align: left;"/><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s216" style="padding-left: 135pt;text-indent: 0pt;line-height: 38pt;text-align: left;"><a name="bookmark119">Runtime Overhead</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-top: 8pt;padding-left: 517pt;text-indent: 0pt;text-align: left;"><a href="http://soft.vub.ac.be/AGERE14/papers/ageresplash2014_submission_19.pdf" class="s236" target="_blank">Savina - An Actor Benchmark </a><span style=" color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">Su</span><a href="http://soft.vub.ac.be/AGERE14/papers/ageresplash2014_submission_19.pdf" style=" color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 12pt;" target="_blank"> </a><a href="http://soft.vub.ac.be/AGERE14/papers/ageresplash2014_submission_19.pdf" class="s236" target="_blank">ite</a></p><p class="s120" style="padding-left: 517pt;text-indent: 0pt;line-height: 11pt;text-align: left;">. Shams Imam, Vivek Sarkar. 4th</p><p class="s120" style="padding-left: 517pt;text-indent: 0pt;text-align: left;"><a href="http://soft.vub.ac.be/AGERE14/" style=" color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 12pt;" target="_blank">International Workshop on Programming based on Actors, Agents, and Decentralized Control (</a><span style=" color: #369; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 12pt;">AGERE! 2014</span>), October</p><p class="s120" style="padding-left: 517pt;text-indent: 0pt;text-align: left;">2014.              <span class="s238">34</span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="960" height="559" alt="image" src="Docs_files/Image_285.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="128" height="33" alt="image" src="Docs_files/Image_286.png"/></span></p><p class="s198" style="padding-top: 5pt;padding-bottom: 3pt;padding-left: 21pt;text-indent: 0pt;text-align: left;"><a name="bookmark120">LF Status</a></p><p style="padding-left: 21pt;text-indent: 0pt;line-height: 10pt;text-align: left;"><span><img width="902" height="13" alt="image" src="Docs_files/Image_287.png"/></span></p><p class="s239" style="padding-top: 16pt;padding-left: 28pt;text-indent: 0pt;text-align: left;">Still early, but evolving rapidly</p><ul id="l73"><li data-list-text=""><p class="s239" style="padding-top: 10pt;padding-left: 62pt;text-indent: -34pt;text-align: left;">Eclipse/Xtext-based IDE</p></li><li data-list-text=""><p class="s239" style="padding-top: 10pt;padding-left: 62pt;text-indent: -34pt;text-align: left;">C, C++, Python, and TypeScript targets</p></li><li data-list-text=""><p class="s239" style="padding-top: 11pt;padding-left: 62pt;text-indent: -34pt;text-align: left;">Code runs on Mac, Linux, Windows, and Patmos (T-CREST)</p></li><li data-list-text=""><p class="s239" style="padding-top: 10pt;padding-left: 62pt;text-indent: -34pt;text-align: left;">EDF scheduling on multicore</p></li><li data-list-text=""><p class="s239" style="padding-top: 10pt;padding-left: 62pt;text-indent: -34pt;line-height: 30pt;text-align: left;">Command-line compiler</p><p class="s240" style="text-indent: 0pt;line-height: 16pt;text-align: right;">35</p></li><li data-list-text=""><p class="s239" style="padding-left: 62pt;text-indent: -34pt;line-height: 33pt;text-align: left;">Regression test suite</p></li><li data-list-text=""><p class="s239" style="padding-top: 10pt;padding-left: 62pt;text-indent: -34pt;text-align: left;">Wiki documentation</p><p style="text-indent: 0pt;text-align: left;"><span><img width="960" height="11" alt="image" src="Docs_files/Image_288.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="960" height="72" alt="image" src="Docs_files/Image_289.png"/></span></p><h2 style="padding-top: 2pt;padding-left: 6pt;text-indent: 0pt;text-align: left;">https://github.com/icyphy/lingua-franca</h2><p style="text-indent: 0pt;text-align: left;"/><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="128" height="33" alt="image" src="Docs_files/Image_290.png"/></span></p><p class="s198" style="padding-top: 5pt;padding-bottom: 3pt;padding-left: 21pt;text-indent: 0pt;text-align: left;"><a name="bookmark121">MoC/Reactors Implementation</a></p><p style="padding-left: 21pt;text-indent: 0pt;line-height: 10pt;text-align: left;"><span><img width="902" height="13" alt="image" src="Docs_files/Image_291.png"/></span></p></li><li data-list-text=""><p class="s199" style="padding-top: 16pt;padding-left: 65pt;text-indent: -36pt;text-align: left;">No notion about implementation</p><ul id="l74"><li data-list-text=""><p class="s200" style="padding-top: 4pt;padding-left: 99pt;text-indent: -34pt;text-align: left;">On a multicore with a network-on-chip?</p></li></ul></li><li data-list-text=""><p class="s199" style="padding-top: 11pt;padding-left: 65pt;text-indent: -36pt;text-align: left;">All MoCs can be (and have been) implemented with:</p><ul id="l75"><li data-list-text=""><p class="s200" style="padding-top: 4pt;padding-left: 99pt;text-indent: -34pt;text-align: left;">Shared memory and</p></li><li data-list-text=""><p class="s200" style="padding-top: 4pt;padding-left: 99pt;text-indent: -34pt;text-align: left;">Locks</p></li></ul></li><li data-list-text=""><p class="s199" style="padding-top: 11pt;padding-left: 65pt;text-indent: -36pt;text-align: left;">Maybe better with hardware support?</p><ul id="l76"><li data-list-text=""><p class="s200" style="padding-top: 4pt;padding-left: 99pt;text-indent: -34pt;text-align: left;">E.g., CSP had HW support with Transputers</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="128" height="33" alt="image" src="Docs_files/Image_292.png"/></span></p><p class="s198" style="padding-top: 5pt;padding-bottom: 3pt;padding-left: 21pt;text-indent: 0pt;text-align: left;"><a name="bookmark122">Real-Time Systems</a></p><p style="padding-left: 21pt;text-indent: 0pt;line-height: 10pt;text-align: left;"><span><img width="902" height="13" alt="image" src="Docs_files/Image_293.png"/></span></p></li></ul></li><li data-list-text=""><p class="s199" style="padding-top: 17pt;padding-left: 65pt;text-indent: -36pt;text-align: left;">Need to know the worst-case execution time (WCET)</p></li><li data-list-text=""><p class="s199" style="padding-top: 12pt;padding-left: 65pt;text-indent: -36pt;text-align: left;">T-CREST is built to enable WCET analysis</p></li><li data-list-text=""><p class="s199" style="padding-top: 11pt;padding-left: 65pt;text-indent: -36pt;text-align: left;">A time-predictable platform for reactors</p></li><li data-list-text=""><p class="s199" style="padding-top: 11pt;padding-left: 65pt;text-indent: -36pt;text-align: left;">Multicore for higher performance</p></li></ul><p style="text-indent: 0pt;text-align: left;"><span><img width="960" height="11" alt="image" src="Docs_files/Image_294.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="128" height="33" alt="image" src="Docs_files/Image_295.png"/></span></p><p class="s198" style="padding-top: 5pt;padding-bottom: 3pt;padding-left: 21pt;text-indent: 0pt;text-align: left;"><a name="bookmark123">T-CREST Multicore Processor</a></p><p style="padding-left: 21pt;text-indent: 0pt;line-height: 10pt;text-align: left;"><span><img width="902" height="13" alt="image" src="Docs_files/Image_296.png"/></span></p><ul id="l77"><li data-list-text=""><p class="s199" style="padding-top: 16pt;padding-left: 65pt;text-indent: -36pt;text-align: left;">Time-predictable platform</p></li><li data-list-text=""><p class="s199" style="padding-top: 11pt;padding-left: 65pt;text-indent: -36pt;text-align: left;">Patmos dual-issue processor</p><ul id="l78"><li data-list-text=""><p class="s200" style="padding-top: 4pt;padding-left: 99pt;text-indent: -34pt;text-align: left;">Special time-predictable caches</p></li></ul></li><li data-list-text=""><p class="s199" style="padding-top: 11pt;padding-left: 65pt;text-indent: -36pt;text-align: left;">Argo and S4NOC network-on-chip</p><ul id="l79"><li data-list-text=""><p class="s200" style="padding-top: 4pt;padding-left: 99pt;text-indent: -34pt;text-align: left;">Hardware for message passing</p></li><li data-list-text=""><p class="s200" style="padding-top: 5pt;padding-left: 99pt;text-indent: -34pt;text-align: left;">Time-division multiplexing of channels and routers</p></li></ul></li><li data-list-text=""><p class="s199" style="padding-top: 11pt;padding-left: 65pt;text-indent: -36pt;text-align: left;">Time-predictable SDRAM memory controller</p></li></ul><p style="text-indent: 0pt;text-align: left;"><span><img width="960" height="11" alt="image" src="Docs_files/Image_297.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="128" height="33" alt="image" src="Docs_files/Image_298.png"/></span></p><p class="s198" style="padding-top: 5pt;padding-bottom: 3pt;padding-left: 21pt;text-indent: 0pt;text-align: left;"><a name="bookmark124">T-CREST cont.</a></p><p style="padding-left: 21pt;text-indent: 0pt;line-height: 10pt;text-align: left;"><span><img width="902" height="13" alt="image" src="Docs_files/Image_299.png"/></span></p><ul id="l80"><li data-list-text=""><p class="s199" style="padding-top: 16pt;padding-left: 36pt;text-indent: -36pt;text-align: right;">Main memory access tree</p><ul id="l81"><li data-list-text=""><p class="s200" style="padding-top: 4pt;padding-left: 34pt;text-indent: -34pt;text-align: right;">Time-division multiplexing</p></li></ul></li><li data-list-text=""><p class="s199" style="padding-top: 11pt;padding-left: 65pt;text-indent: -36pt;text-align: left;">Compiler based on LLVM</p><ul id="l82"><li data-list-text=""><p class="s200" style="padding-top: 4pt;padding-left: 99pt;text-indent: -34pt;text-align: left;">Support of Patmos</p></li><li data-list-text=""><p class="s200" style="padding-top: 4pt;padding-left: 99pt;text-indent: -34pt;text-align: left;">Single-path code generation</p></li></ul></li><li data-list-text=""><p class="s199" style="padding-top: 11pt;padding-left: 65pt;text-indent: -36pt;text-align: left;">WCET Analysis tools</p><ul id="l83"><li data-list-text=""><p class="s200" style="padding-top: 4pt;padding-left: 99pt;text-indent: -34pt;text-align: left;">AbsInt aiT, platin, Heptane</p></li></ul></li><li data-list-text=""><p class="s199" style="padding-top: 11pt;padding-left: 65pt;text-indent: -36pt;text-align: left;">T-CREST availability</p><ul id="l84"><li data-list-text=""><p class="s200" style="padding-top: 4pt;padding-left: 99pt;text-indent: -34pt;text-align: left;">Open-source on GitHub</p></li></ul></li></ul><p style="text-indent: 0pt;text-align: left;"><span><img width="960" height="11" alt="image" src="Docs_files/Image_300.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="128" height="33" alt="image" src="Docs_files/Image_301.png"/></span></p><p class="s198" style="padding-top: 5pt;padding-bottom: 3pt;padding-left: 21pt;text-indent: 0pt;text-align: left;"><a name="bookmark125">T-CREST Hardware</a></p><p style="padding-left: 21pt;text-indent: 0pt;line-height: 10pt;text-align: left;"><span><img width="902" height="13" alt="image" src="Docs_files/Image_302.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 69pt;text-indent: 0pt;text-align: left;"><span><img width="750" height="527" alt="image" src="Docs_files/Image_303.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="960" height="11" alt="image" src="Docs_files/Image_304.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="128" height="33" alt="image" src="Docs_files/Image_305.png"/></span></p><p class="s198" style="padding-top: 5pt;padding-bottom: 3pt;padding-left: 21pt;text-indent: 0pt;text-align: left;"><a name="bookmark126">Models of Communication</a></p><p style="padding-left: 21pt;text-indent: 0pt;line-height: 10pt;text-align: left;"><span><img width="902" height="13" alt="image" src="Docs_files/Image_306.png"/></span></p><ul id="l85"><li data-list-text=""><p class="s199" style="padding-top: 16pt;padding-left: 65pt;text-indent: -36pt;text-align: left;">How do we move data (bits) around?</p></li><li data-list-text=""><p class="s199" style="padding-top: 11pt;padding-left: 65pt;text-indent: -36pt;text-align: left;">What can we provide in hardware?</p></li><li data-list-text=""><p class="s199" style="padding-top: 11pt;padding-left: 65pt;text-indent: -36pt;text-align: left;">Keep bits on-chip</p><ul id="l86"><li data-list-text=""><p class="s200" style="padding-top: 4pt;padding-left: 99pt;text-indent: -34pt;text-align: left;">As much as possible</p></li></ul></li><li data-list-text=""><p class="s199" style="padding-top: 11pt;padding-left: 65pt;text-indent: -36pt;text-align: left;">Have static arbitration for time predictability</p><ul id="l87"><li data-list-text=""><p class="s200" style="padding-top: 4pt;padding-left: 99pt;text-indent: -34pt;text-align: left;">Use time division multiplexing (TDM) for all arbitrations</p><ul id="l88"><li data-list-text="•"><p class="s197" style="padding-left: 131pt;text-indent: -31pt;text-align: left;">Memory and network-on-chip (NoC)</p><p style="text-indent: 0pt;text-align: left;"><span><img width="960" height="11" alt="image" src="Docs_files/Image_307.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="128" height="33" alt="image" src="Docs_files/Image_308.png"/></span></p><p class="s198" style="padding-top: 5pt;padding-bottom: 3pt;padding-left: 21pt;text-indent: 0pt;text-align: left;"><a name="bookmark127">Models of Communication</a></p><p style="padding-left: 21pt;text-indent: 0pt;line-height: 10pt;text-align: left;"><span><img width="902" height="13" alt="image" src="Docs_files/Image_309.png"/></span></p></li></ul></li></ul></li><li data-list-text=""><p class="s199" style="padding-top: 16pt;padding-left: 65pt;text-indent: -36pt;text-align: left;">Shared main memory</p></li><li data-list-text=""><p class="s199" style="padding-top: 11pt;padding-left: 65pt;text-indent: -36pt;text-align: left;">Network-on-chip (variations)</p></li><li data-list-text=""><p class="s199" style="padding-top: 11pt;padding-left: 65pt;text-indent: -36pt;text-align: left;">Shared scratchpad memory</p></li><li data-list-text=""><p class="s199" style="padding-top: 11pt;padding-left: 65pt;text-indent: -36pt;text-align: left;">Distributed shared on-chip memory</p></li><li data-list-text=""><p class="s199" style="padding-top: 11pt;padding-left: 65pt;text-indent: -36pt;text-align: left;">Shared memory with ownership</p></li><li data-list-text=""><p class="s199" style="padding-top: 11pt;padding-left: 65pt;text-indent: -36pt;text-align: left;">Memory between cores</p></li><li data-list-text=""><p class="s199" style="padding-top: 11pt;padding-left: 65pt;text-indent: -36pt;text-align: left;">One-way shared memory</p><p style="text-indent: 0pt;text-align: left;"><span><img width="960" height="11" alt="image" src="Docs_files/Image_310.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="128" height="33" alt="image" src="Docs_files/Image_311.png"/></span></p><p class="s198" style="padding-top: 5pt;padding-bottom: 3pt;padding-left: 21pt;text-indent: 0pt;text-align: left;"><a name="bookmark128">Shared Memory</a></p><p style="padding-left: 21pt;text-indent: 0pt;line-height: 10pt;text-align: left;"><span><img width="902" height="13" alt="image" src="Docs_files/Image_312.png"/></span></p></li><li data-list-text=""><p class="s241" style="padding-top: 16pt;padding-left: 64pt;text-indent: -36pt;text-align: left;">Current form for multicore processors</p></li><li data-list-text=""><p class="s241" style="padding-top: 11pt;padding-left: 64pt;text-indent: -36pt;text-align: left;">L2 cache and cache coherence does the communication</p></li><li data-list-text=""><p class="s241" style="padding-top: 11pt;padding-left: 64pt;text-indent: -36pt;text-align: left;">Memory model needed for visibility rules</p><ul id="l89"><li data-list-text=""><p class="s242" style="padding-top: 4pt;padding-left: 98pt;text-indent: -33pt;text-align: left;">When is an update of core A visible for core B</p></li></ul></li><li data-list-text=""><p class="s241" style="padding-top: 11pt;padding-left: 64pt;text-indent: -36pt;text-align: left;">Does not scale well</p><ul id="l90"><li data-list-text=""><p class="s242" style="padding-top: 4pt;padding-left: 98pt;text-indent: -33pt;text-align: left;">Cache coherence is a many to many communication</p><p style="text-indent: 0pt;text-align: left;"><span><img width="960" height="11" alt="image" src="Docs_files/Image_313.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="128" height="33" alt="image" src="Docs_files/Image_314.png"/></span></p><p class="s198" style="padding-top: 5pt;padding-bottom: 3pt;padding-left: 21pt;text-indent: 0pt;text-align: left;"><a name="bookmark129">Network-on-Chip (NoC)</a></p><p style="padding-left: 21pt;text-indent: 0pt;line-height: 10pt;text-align: left;"><span><img width="902" height="13" alt="image" src="Docs_files/Image_315.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 104pt;text-indent: 0pt;text-align: left;"><span><img width="632" height="427" alt="image" src="Docs_files/Image_316.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="960" height="11" alt="image" src="Docs_files/Image_317.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="128" height="33" alt="image" src="Docs_files/Image_318.png"/></span></p><p class="s198" style="padding-top: 5pt;padding-bottom: 3pt;padding-left: 21pt;text-indent: 0pt;text-align: left;"><a name="bookmark130">Network-no-Chip</a></p><p style="padding-left: 21pt;text-indent: 0pt;line-height: 10pt;text-align: left;"><span><img width="902" height="13" alt="image" src="Docs_files/Image_319.png"/></span></p></li></ul></li><li data-list-text=""><p class="s199" style="padding-top: 16pt;padding-left: 65pt;text-indent: -36pt;text-align: left;">Push communication</p><ul id="l91"><li data-list-text=""><p class="s200" style="padding-top: 4pt;padding-left: 99pt;text-indent: -34pt;text-align: left;">Simple and most efficient</p></li><li data-list-text=""><p class="s200" style="padding-top: 4pt;padding-left: 99pt;text-indent: -34pt;text-align: left;">Implemented in T-CREST Argo NoC</p></li></ul></li><li data-list-text=""><p class="s199" style="padding-top: 11pt;padding-left: 65pt;text-indent: -36pt;text-align: left;">Push and pull</p><ul id="l92"><li data-list-text=""><p class="s200" style="padding-top: 4pt;padding-left: 99pt;text-indent: -34pt;text-align: left;">Pull needs about double the bandwidth</p></li></ul></li><li data-list-text=""><p class="s199" style="padding-top: 11pt;padding-left: 65pt;text-indent: -36pt;text-align: left;">Balance between on-chip memories and NoC to be explored</p></li><li data-list-text=""><p class="s199" style="padding-top: 11pt;padding-left: 65pt;text-indent: -36pt;text-align: left;">Probably a good fit for reactor events</p><p style="text-indent: 0pt;text-align: left;"><span><img width="960" height="11" alt="image" src="Docs_files/Image_320.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="128" height="33" alt="image" src="Docs_files/Image_321.png"/></span></p><p class="s198" style="padding-top: 5pt;padding-bottom: 3pt;padding-left: 21pt;text-indent: 0pt;text-align: left;"><a name="bookmark131">Shared Scratchpad Memory</a></p><p style="padding-left: 21pt;text-indent: 0pt;line-height: 10pt;text-align: left;"><span><img width="902" height="13" alt="image" src="Docs_files/Image_322.png"/></span></p></li><li data-list-text=""><p class="s199" style="padding-top: 16pt;padding-left: 65pt;text-indent: -36pt;text-align: left;">Core local SPMs are popular</p><ul id="l93"><li data-list-text=""><p class="s200" style="padding-top: 4pt;padding-left: 99pt;text-indent: -34pt;text-align: left;">On-chip memory</p></li><li data-list-text=""><p class="s200" style="padding-top: 4pt;padding-left: 99pt;text-indent: -34pt;text-align: left;">Instead of caches</p></li><li data-list-text=""><p class="s200" style="padding-top: 4pt;padding-left: 99pt;text-indent: -34pt;text-align: left;">Time predictable</p></li></ul></li><li data-list-text=""><p class="s199" style="padding-top: 11pt;padding-left: 65pt;text-indent: -36pt;text-align: left;">Shared SPM instead of L2 cache</p></li><li data-list-text=""><p class="s199" style="padding-top: 11pt;padding-left: 65pt;text-indent: -36pt;text-align: left;">All cores access with TDM arbiter</p><ul id="l94"><li data-list-text=""><p class="s200" style="padding-top: 4pt;padding-left: 99pt;text-indent: -34pt;text-align: left;">Time-predictable</p></li><li data-list-text=""><p class="s200" style="padding-top: 5pt;padding-left: 99pt;text-indent: -34pt;text-align: left;">Shorter access time than to shared external memory</p><p style="text-indent: 0pt;text-align: left;"><span><img width="960" height="11" alt="image" src="Docs_files/Image_323.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="128" height="33" alt="image" src="Docs_files/Image_324.png"/></span></p><p class="s198" style="padding-top: 5pt;padding-bottom: 3pt;padding-left: 21pt;text-indent: 0pt;text-align: left;"><a name="bookmark132">Shared SPM with Ownership</a></p><p style="padding-left: 21pt;text-indent: 0pt;line-height: 10pt;text-align: left;"><span><img width="902" height="13" alt="image" src="Docs_files/Image_325.png"/></span></p></li></ul></li><li data-list-text=""><p class="s199" style="padding-top: 16pt;padding-left: 65pt;text-indent: -36pt;text-align: left;">A SPM that is <i>owned </i>by a core</p></li><li data-list-text=""><p class="s199" style="padding-top: 11pt;padding-left: 65pt;text-indent: -36pt;text-align: left;">Ownership can be transferred</p></li><li data-list-text=""><p class="s199" style="padding-top: 11pt;padding-left: 65pt;text-indent: -36pt;text-align: left;">Only one core can access when owning it</p><ul id="l95"><li data-list-text=""><p class="s200" style="padding-top: 4pt;padding-left: 99pt;text-indent: -34pt;text-align: left;">Shorter access time than shared SPM</p></li></ul></li><li data-list-text=""><p class="s199" style="padding-top: 11pt;padding-left: 65pt;text-indent: -36pt;text-align: left;">Good for bulk data movement between cores</p></li><li data-list-text=""><p class="s199" style="padding-top: 11pt;padding-left: 65pt;text-indent: -36pt;text-align: left;">We can have a pool of shared SPMs</p><p style="text-indent: 0pt;text-align: left;"><span><img width="960" height="11" alt="image" src="Docs_files/Image_326.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="128" height="33" alt="image" src="Docs_files/Image_327.png"/></span></p><p class="s198" style="padding-top: 5pt;padding-bottom: 3pt;padding-left: 21pt;text-indent: 0pt;text-align: left;"><a name="bookmark133">SPM with Ownership</a></p><p style="padding-left: 21pt;text-indent: 0pt;line-height: 10pt;text-align: left;"><span><img width="902" height="13" alt="image" src="Docs_files/Image_328.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 159pt;text-indent: 0pt;text-align: left;"><span><img width="542" height="461" alt="image" src="Docs_files/Image_329.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="960" height="11" alt="image" src="Docs_files/Image_330.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="128" height="33" alt="image" src="Docs_files/Image_331.png"/></span></p><p class="s198" style="padding-top: 5pt;padding-bottom: 3pt;padding-left: 21pt;text-indent: 0pt;text-align: left;"><a name="bookmark134">Distributed Shared Memory</a></p><p style="padding-left: 21pt;text-indent: 0pt;line-height: 10pt;text-align: left;"><span><img width="902" height="13" alt="image" src="Docs_files/Image_332.png"/></span></p></li><li data-list-text=""><p class="s241" style="padding-top: 16pt;padding-left: 64pt;text-indent: -36pt;text-align: left;">Combine local SPMs with a NoC</p><ul id="l96"><li data-list-text=""><p class="s242" style="padding-top: 5pt;padding-left: 99pt;text-indent: -34pt;text-align: left;">Two NoCs: write/cmd and read return</p></li></ul></li><li data-list-text=""><p class="s241" style="padding-top: 11pt;padding-left: 64pt;text-indent: -36pt;text-align: left;">Accessible from all cores</p><ul id="l97"><li data-list-text=""><p class="s242" style="padding-top: 4pt;padding-left: 99pt;text-indent: -34pt;text-align: left;">Via a network-on-chip</p></li><li data-list-text=""><p class="s242" style="padding-top: 5pt;padding-left: 99pt;text-indent: -34pt;text-align: left;">Different access times</p></li></ul></li><li data-list-text=""><p class="s241" style="padding-top: 11pt;padding-left: 64pt;text-indent: -36pt;text-align: left;">Dist. shared memory vs. shared SPM</p><ul id="l98"><li data-list-text=""><p class="s242" style="padding-top: 5pt;padding-left: 99pt;text-indent: -34pt;text-align: left;">Some programming model</p></li><li data-list-text=""><p class="s242" style="padding-top: 5pt;padding-left: 99pt;text-indent: -34pt;text-align: left;">Both keep data on-chip</p></li><li data-list-text=""><p class="s242" style="padding-top: 5pt;padding-left: 99pt;text-indent: -34pt;text-align: left;">Dist. shared memory + NoC higher BW than shared SPM</p><p style="text-indent: 0pt;text-align: left;"><span><img width="960" height="11" alt="image" src="Docs_files/Image_333.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="128" height="33" alt="image" src="Docs_files/Image_334.png"/></span></p><p class="s198" style="padding-top: 5pt;padding-bottom: 3pt;padding-left: 21pt;text-indent: 0pt;text-align: left;"><a name="bookmark135">Hardware for Message Passing</a></p><p style="padding-left: 21pt;text-indent: 0pt;line-height: 10pt;text-align: left;"><span><img width="902" height="13" alt="image" src="Docs_files/Image_335.png"/></span></p></li></ul></li><li data-list-text=""><p class="s199" style="padding-top: 17pt;padding-left: 65pt;text-indent: -36pt;text-align: left;">All presented architectures can be used for message passing</p></li><li data-list-text=""><p class="s199" style="padding-top: 11pt;padding-left: 65pt;text-indent: -36pt;text-align: left;">Add HW for more efficient handling</p><ul id="l99"><li data-list-text=""><p class="s200" style="padding-top: 4pt;padding-left: 34pt;text-indent: -34pt;text-align: right;">Special instructions for send and receive</p><ul id="l100"><li data-list-text="•"><p class="s197" style="padding-left: 31pt;text-indent: -31pt;text-align: right;">RISC-V extended for the Paternoster NoC</p></li></ul></li><li data-list-text=""><p class="s200" style="padding-top: 5pt;padding-left: 99pt;text-indent: -34pt;text-align: left;">Argo NoC has DMAs that handle concurrent messages transmission</p></li><li data-list-text=""><p class="s200" style="padding-top: 4pt;padding-left: 99pt;text-indent: -34pt;text-align: left;">Hardware support for CSP rendezvous</p><p style="text-indent: 0pt;text-align: left;"><span><img width="960" height="11" alt="image" src="Docs_files/Image_336.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="128" height="33" alt="image" src="Docs_files/Image_337.png"/></span></p><p class="s201" style="padding-top: 4pt;padding-bottom: 3pt;padding-left: 21pt;text-indent: 0pt;text-align: left;"><a name="bookmark136">Reactor Projects (Ongoing Work)</a></p><p style="padding-left: 21pt;text-indent: 0pt;line-height: 10pt;text-align: left;"><span><img width="902" height="13" alt="image" src="Docs_files/Image_338.png"/></span></p></li></ul></li><li data-list-text=""><p class="s199" style="padding-top: 16pt;padding-left: 65pt;text-indent: -36pt;text-align: left;">LF for Patmos available (multicore)</p></li><li data-list-text=""><p class="s199" style="padding-top: 11pt;padding-left: 65pt;text-indent: -36pt;text-align: left;">Current LF implementation uses shared memory for events</p></li><li data-list-text=""><p class="s199" style="padding-top: 12pt;padding-left: 65pt;text-indent: -36pt;text-align: left;">Explore multicore communication for the messages</p></li><li data-list-text=""><p class="s199" style="padding-top: 11pt;padding-left: 65pt;text-indent: -36pt;text-align: left;">Do WCET analysis of reactors</p></li><li data-list-text=""><p class="s199" style="padding-top: 11pt;padding-left: 65pt;text-indent: -36pt;text-align: left;">Could be a MS thesis project</p><p style="text-indent: 0pt;text-align: left;"><span><img width="960" height="11" alt="image" src="Docs_files/Image_339.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="128" height="33" alt="image" src="Docs_files/Image_340.png"/></span></p><p class="s198" style="padding-top: 5pt;padding-bottom: 3pt;padding-left: 21pt;text-indent: 0pt;text-align: left;"><a name="bookmark137">Conclusion</a></p><p style="padding-left: 21pt;text-indent: 0pt;line-height: 10pt;text-align: left;"><span><img width="902" height="13" alt="image" src="Docs_files/Image_341.png"/></span></p></li><li data-list-text=""><p class="s244" style="padding-top: 16pt;padding-left: 61pt;text-indent: -33pt;text-align: left;">Models of computation are well defined</p><ul id="l101"><li data-list-text=""><p class="s204" style="padding-top: 4pt;padding-left: 92pt;text-indent: -30pt;text-align: left;">But seldom used</p></li><li data-list-text=""><p class="s204" style="padding-top: 4pt;padding-left: 92pt;text-indent: -30pt;text-align: left;">The communication mechanics is not considered</p></li></ul></li><li data-list-text=""><p class="s244" style="padding-top: 10pt;padding-left: 61pt;text-indent: -33pt;text-align: left;">Lingua Franca programs are testable (timestamped inputs -&gt; timestamped outputs)</p></li><li data-list-text=""><p class="s244" style="padding-top: 10pt;padding-left: 61pt;text-indent: -33pt;text-align: left;">LF programs are deterministic under clearly stated assumptions</p></li><li data-list-text=""><p class="s244" style="padding-top: 10pt;padding-left: 61pt;text-indent: -33pt;text-align: left;">Violations of assumptions are detectable at run time</p><p style="text-indent: 0pt;text-align: left;"><span><img width="960" height="11" alt="image" src="Docs_files/Image_342.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="128" height="33" alt="image" src="Docs_files/Image_343.png"/></span></p><p class="s198" style="padding-top: 5pt;padding-bottom: 3pt;padding-left: 21pt;text-indent: 0pt;text-align: left;"><a name="bookmark138">Visit LF on GitHub</a></p><p style="padding-left: 21pt;text-indent: 0pt;line-height: 10pt;text-align: left;"><span><img width="902" height="13" alt="image" src="Docs_files/Image_344.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="624" height="450" alt="image" src="Docs_files/Image_345.jpg"/></span></p></li><li data-list-text=""><p class="s199" style="padding-top: 17pt;padding-left: 65pt;text-indent: -36pt;text-align: left;">https://github.com/icyphy/lingua- franca</p></li></ul><p style="text-indent: 0pt;text-align: left;"><span><img width="960" height="11" alt="image" src="Docs_files/Image_346.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="658" height="1" alt="image" src="Docs_files/Image_347.png"/></span></p><p class="s245" style="padding-top: 3pt;padding-left: 4pt;text-indent: 0pt;text-align: left;">SMC </p><p style="text-indent: 0pt;text-align: left;"/><p class="s246" style="padding-top: 3pt;padding-left: 6pt;text-indent: 0pt;line-height: 112%;text-align: left;"><a name="bookmark139">Int J Softw Tools Technol Transfer DOI 10.1007/s10009-014-0361-y</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s247" style="padding-top: 12pt;padding-left: 6pt;text-indent: 0pt;text-align: left;"><a name="bookmark140">Uppaal </a><b>SMC tutorial</b></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s249" style="padding-left: 6pt;text-indent: 0pt;text-align: left;">Alexandre David <span class="s250">· </span>Kim G. Larsen <span class="s250">· </span>Axel Legay <span class="s250">·</span></p><p class="s249" style="padding-left: 6pt;text-indent: 0pt;text-align: left;">Marius Mikucˇionis <span class="s250">· </span>Danny Bøgsted Poulsen</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s246" style="padding-left: 6pt;text-indent: 0pt;text-align: left;">© Springer-Verlag Berlin Heidelberg 2015</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s249" style="padding-top: 5pt;padding-left: 6pt;text-indent: 0pt;line-height: 108%;text-align: justify;"><a name="bookmark141">Abstract  </a><span class="s251">This tutorial paper surveys the main features of Uppaal SMC, a model checking approach in Uppaal family that allows us to reason on networks of complex real-timed systems with a stochastic semantic. We demonstrate the mod- eling features of the tool, new verification algorithms and ways of applying them to potentially complex case studies.</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s251" style="padding-left: 6pt;text-indent: 0pt;line-height: 93%;text-align: left;"><b>Keywords </b>Uppaal <span class="s252">· </span>Timed automata <span class="s252">· </span>Model-checking <span class="s252">· </span>Statistical model-checking <span class="s252">· </span>Stochastic <span class="s252">· </span>Hybrid <span class="s252">· </span>Dynamical <span class="s252">· </span>Probabilistic</p><p style="text-indent: 0pt;text-align: left;"><br/></p><ol id="l102"><li data-list-text="1"><p class="s249" style="padding-left: 14pt;text-indent: -8pt;text-align: left;"><a name="bookmark142">Introduction</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s305" style="padding-left: 6pt;text-indent: 0pt;line-height: 108%;text-align: justify;"><a href="#bookmark226" style=" color: #131413; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt;">Computer systems play a central role in modern societies and their errors can have dramatic consequences. Prov- ing the correctness of computer systems is therefore a highly relevant activity, on which both industry and aca- demics invest a considerable amount of effort. Among such techniques, one finds (1) testing [</a>14<a href="#bookmark199" style=" color: #131413; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt;">], the traditional approach that detects bugs by exercising the real system with test cases, and (2) formal methods, e.g., model check- ing [</a>17<span style=" color: #131413;">], that is a more mathematical approach that can guarantee the absence of bugs in the system design. Both approaches have been largely deployed on complex case studies.</span></p><p class="s251" style="padding-left: 6pt;text-indent: 11pt;line-height: 108%;text-align: justify;">Originally, formal verification was devoted to software and hardware systems by considering their discrete behav-</p><p class="s305" style="padding-top: 5pt;padding-left: 6pt;text-indent: 0pt;line-height: 108%;text-align: justify;"><a href="#bookmark200" style=" color: #131413; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt;">iors. However, the past years shown that real-time aspects play central roles in systems, and that this feature should be taken into account in the verification process. Developing formal techniques for such systems has thus been the subject of intensive studies. One of the prominent results on the topic was the introduction of model checking techniques for timed automata [</a>1<span style=" color: #131413;">], a natural model to capture real-time systems whose behaviors depends on clocks that can be reset. Among all the tools that have been developed to implement the timed automata theory, one finds Uppaal, which has now become the leader in the area.</span></p><p class="s305" style="padding-left: 6pt;text-indent: 11pt;line-height: 108%;text-align: justify;"><a href="#bookmark206" style=" color: #131413; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt;">Uppaal is a toolbox for verification of real-time systems represented by (a network of) timed automata extended with integer variables, structured data types, and channel synchro- nization. The tool is jointly developed by Uppsala Univer- sity and Aalborg University. It has been applied success- fully in case studies ranging from communication protocols to multimedia applications (see [</a>4<a href="#bookmark208" style=" color: #131413; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt;">] and [</a>5<a href="#bookmark238" style=" color: #131413; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt;">] for concrete exam- ples). The first version of Uppaal was released in 1995 [</a>37<a href="#bookmark237" style=" color: #131413; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt;">]. Since then it has been in constant development. In the same spirit as any other professional model checker such as SPIN, Uppaal proposes efficient data structures [</a>36<a href="#bookmark218" style=" color: #131413; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt;">], a distributed version of Uppaal [</a>10<a href="#bookmark224" style=" color: #131413; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt;">,</a>13<a href="#bookmark219" style=" color: #131413; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt;">], guided and minimal cost reach- ability [</a>11<a href="#bookmark221" style=" color: #131413; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt;">,</a>12<a href="#bookmark233" style=" color: #131413; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt;">,</a>35<a href="#bookmark214" style=" color: #131413; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt;">], work on UML Statecharts [</a>25<a href="#bookmark222" style=" color: #131413; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt;">], acceler- ation techniques [</a>29<a href="#bookmark216" style=" color: #131413; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt;">], and new data structures and memory reductions [</a>9<a href="#bookmark228" style=" color: #131413; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt;">,</a>15<span style=" color: #131413;">].</span></p><p class="s251" style="padding-left: 6pt;text-indent: 11pt;line-height: 108%;text-align: justify;">Unfortunately, timed automata is not a panacea. In fact, albeit powerful, the model is not expressive enough to cap-</p><p class="s254" style="padding-left: 6pt;text-indent: 0pt;line-height: 11pt;text-align: left;"> <span class="s251"> ture behaviors of complex cyber-physical systems. Indeed,</span></p><p class="s246" style="padding-top: 3pt;padding-left: 6pt;text-indent: 0pt;text-align: left;">A. David <span class="s255">· </span>K. G. Larsen <span class="s255">· </span>M. Mikucˇionis <span class="s255">· </span>D. B. Poulsen Department of Computer Science, Aalborg University, Aalborg, Denmark</p><p class="s246" style="padding-top: 7pt;padding-left: 6pt;text-indent: 0pt;line-height: 13pt;text-align: left;">A. Legay (<span class="s256">B</span>)</p><p class="s246" style="padding-left: 6pt;text-indent: 0pt;line-height: 9pt;text-align: left;">INRIA/IRISA Rennes, Rennes, France</p><p style="text-indent: 0pt;text-align: left;"><span><img width="156" height="10" alt="image" src="Docs_files/Image_348.gif"/></span></p><p style="padding-left: 6pt;text-indent: 0pt;text-align: left;"><a href="mailto:axel.legay@inria.fr" class="s257" target="_blank">e-mail: </a><a href="mailto:ay@inria.fr" class="s257" target="_blank">axel.legay@inria.fr</a></p><p class="s305" style="padding-left: 6pt;text-indent: 0pt;line-height: 108%;text-align: justify;"><a href="#bookmark223" style=" color: #131413; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt;">the continuous time behaviors of those systems often rely on rich and complex dynamics as well as on stochastic behaviors. The model checking problem for such systems is undecidable, and approximating those behaviors with timed automata [</a>28<span style=" color: #131413;">] was originally the best one could originally do in Uppaal.</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s251" style="padding-top: 4pt;padding-left: 6pt;text-indent: 11pt;line-height: 108%;text-align: justify;"><a name="bookmark143">In this paper, we introduce Uppaal SMC that proposes an alternative to the above-mentioned problem. This new branch of Uppaal proposes to represent systems via net- works of automata whose behaviors may depend on both stochastic and non-linear dynamical features. Concretely, in Uppaal SMC, each component of the system is described with an automaton whose clocks can evolve with various rates. Such rates can be specified with, e.g., ordinary differ- ential equations.</a><a name="bookmark162">&zwnj;</a></p><p class="s305" style="padding-left: 6pt;text-indent: 11pt;line-height: 108%;text-align: justify;"><a href="#bookmark230" style=" color: #131413; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt;">To allow for the efficient analysis of probabilistic per- formance properties, Uppaal SMC proposes to work with statistical model checking (SMC) [</a>38<a href="#bookmark234" style=" color: #131413; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt;">,</a>41<a href="#bookmark198" style=" color: #131413; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt;">], an approach that has been proposed as an alternative to avoid an exhaustive exploration of the state-space of the model. The core idea of SMC is to monitor some simulations of the system, and then use results from the statistics area (including sequen- tial hypothesis testing or Monte Carlo simulation) to decide whether the system satisfies the property with some degree of confidence. By nature, SMC is a compromise between testing and classical model checking techniques. Simulation-based methods are known to be far less memory and time intensive than exhaustive ones, more expressive and are oftentimes the only option. SMC has been implemented in a series of tools that have been applied to a wide range of case stud- ies. Unlike more “academic” exhaustive techniques, SMC gets widely accepted in various research areas such as sys- tems biology [</a>16<a href="#bookmark204" style=" color: #131413; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt;">,</a>20<a href="#bookmark229" style=" color: #131413; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt;">,</a>32<a href="#bookmark231" style=" color: #131413; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt;">–</a>34<a href="#bookmark207" style=" color: #131413; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt;">], energy-centric systems [</a>21<a href="#bookmark205" style=" color: #131413; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt;">], automotive/avionics, or software engineering, in particular for industrial applications. There are several reasons for this success. First, it is very simple to implement, understand and use (especially by industry, software engineers, and gener- ally all people that are not pure researchers but customers of our results and tools) [</a>3<a href="#bookmark206" style=" color: #131413; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt;">,</a>4<a href="#bookmark215" style=" color: #131413; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt;">,</a>8<span style=" color: #131413;">]. Second, it does not require extra modeling or specification effort, but simply an opera- tional model of the system that can be simulated and checked against state-based properties. Third, it allows to model check properties that cannot be expressed in classical temporal log- ics. Aside from this, the flexibility of SMC allows it to be used in other areas than verification, including planning and robotics.</span></p><p class="s305" style="padding-top: 1pt;padding-left: 6pt;text-indent: 11pt;line-height: 108%;text-align: justify;"><a href="#bookmark217" style=" color: #131413; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt;">In this paper, SMC is presented as a technique for fully stochastic models thus it validates performance properties of a given deterministic (or stochastic) controller in a given sto- chastic environment. However, we note that SMC is applica- ble to systems exhibiting non-determinism (transitions with undefined probability distributions): for instance the SMC tool Cosmos has been used to find optimal schedulers for Markov decision processes [</a>26<span style=" color: #131413;">] and in a more recent work</span></p><p class="s305" style="padding-left: 6pt;text-indent: 0pt;line-height: 108%;text-align: justify;"><a href="#bookmark209" style=" color: #131413; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt;">[</a>22<span style=" color: #131413;">] an experimental version of Uppaal SMC was used for synthesizing controllers for priced timed Markov decision processes.</span></p><p class="s251" style="padding-left: 6pt;text-indent: 11pt;line-height: 108%;text-align: justify;"><a name="bookmark163">This paper is a complete tutorial on Uppaal SMC for hybrid and fully stochastic systems. We illustrate most of</a></p><p class="s251" style="padding-top: 4pt;padding-left: 6pt;text-indent: 0pt;line-height: 108%;text-align: justify;">the modeling features of the tool, the usage of the graphical interface and of the simulation framework. We discuss the SMC algorithms that are available, and introduce some tech- niques to deal with dynamical systems. Finally, we present some modeling features and tricks.</p><p style="text-indent: 0pt;text-align: left;"><br/></p></li><li data-list-text="2"><p class="s249" style="padding-left: 14pt;text-indent: -8pt;text-align: justify;">Modeling formalism</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s305" style="padding-left: 6pt;text-indent: 0pt;line-height: 108%;text-align: justify;"><a href="#bookmark200" style=" color: #131413; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt;">The modeling formalism of Uppaal SMC is based on a sto- chastic interpretation and extension of the timed automata (TA) formalism [</a>1<a href="#bookmark206" style=" color: #131413; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt;">] used in the classical model checking ver- sion of Uppaal [</a>4<span style=" color: #131413;">]. For individual TA components the sto- chastic interpretation replaces the non-deterministic choices between multiple enabled transitions by probabilistic choices (that may or may not be user-defined). Similarly, the non- deterministic choices of time delays are refined by probability distributions, which at the component level are given either uniform distributions in cases with time-bounded delays or exponential distributions (with user-defined rates) in cases of unbounded delays.</span></p><p class="s251" style="padding-left: 6pt;text-indent: 11pt;text-align: justify;">Consider the three TAs <i>A</i><span class="s259">1</span>, <i>A</i><span class="s259">2</span> and <i>A</i><span class="s259">3</span><a href="#bookmark163" style=" color: #131413; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt;"> from Fig. </a><span style=" color: #00F;">1</span>. Ignor- ing (initially) the weight annotations on locations and edges, the <span class="s260">END </span>locations in the three automata are easily seen to be reachable within the time intervals <span class="s252">[</span>6<i>, </i>12<span class="s252">]</span>, <span class="s252">[</span>4<i>, </i>12<span class="s252">] </span>and <span class="s252">[</span>0<i>, </i><span class="s252">+∞</span><i>)</i>. The stochastic interpretation of the three TAs pro- vides probability distributions over the reachability time. For <i>A</i><span class="s259">1</span>, the delay of the three transitions will all be (automati-</p><p class="s251" style="padding-left: 6pt;text-indent: 0pt;text-align: justify;">cally) resolved by independent, uniform distributions over <span class="s252">[</span>2<i>, </i>4<span class="s252">]</span><a href="#bookmark165" style=" color: #131413; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt;">. Thus the overall reachability time is given as the sum of three uniform distributions as illustrated in Fig. </a><span style=" color: #00F;">2</span>a. For <i>A</i><span class="s259">2</span>, the delay distributions determined by the upper and lower</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 45pt;text-indent: 0pt;text-align: left;"><span><img width="212" height="34" alt="image" src="Docs_files/Image_349.png"/></span></p><ol id="l103"><li data-list-text="(a)"><p class="s261" style="padding-top: 6pt;padding-left: 125pt;text-indent: -14pt;text-align: left;">A<span class="s139">1</span><span class="s262">.</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 25pt;text-indent: 0pt;text-align: left;"><span><img width="266" height="86" alt="image" src="Docs_files/Image_350.png"/></span></p></li><li data-list-text="(b)"><p class="s261" style="padding-top: 3pt;padding-left: 126pt;text-indent: -14pt;text-align: left;">A<span class="s139">2</span><span class="s262">.</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 65pt;text-indent: 0pt;text-align: left;"><span><img width="159" height="79" alt="image" src="Docs_files/Image_351.png"/></span></p></li><li data-list-text="(c)"><p class="s261" style="padding-top: 3pt;padding-left: 125pt;text-indent: -13pt;text-align: left;">A<span class="s139">3</span><span class="s262">.</span></p></li></ol><p class="s263" style="padding-top: 9pt;padding-left: 6pt;text-indent: 0pt;text-align: justify;">Fig. 1 <span class="s246">Three stochastic timed automata</span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="294" height="100" alt="image" src="Docs_files/Image_352.png"/></span></p><p class="s264" style="padding-top: 8pt;padding-left: 11pt;text-indent: 0pt;text-align: left;">(a)</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 8pt;text-indent: 0pt;text-align: left;"><span><img width="7" height="27" alt="image" src="Docs_files/Image_353.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="15" height="70" alt="image" src="Docs_files/Image_354.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s265" style="padding-left: 8pt;text-indent: 0pt;line-height: 17pt;text-align: left;">a! <span style=" color: #8C3863;">A1</span></p><p style="text-indent: 0pt;text-align: left;"/><p class="s266" style="padding-left: 8pt;text-indent: 6pt;text-align: left;">A0 <span style=" color: #A742A8;">x&lt;=1</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="15" height="70" alt="image" src="Docs_files/Image_355.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s265" style="padding-left: 8pt;text-indent: 0pt;line-height: 17pt;text-align: left;">b! <span style=" color: #8C3863;">B1</span></p><p style="text-indent: 0pt;text-align: left;"/><p class="s266" style="padding-left: 8pt;text-indent: 6pt;text-align: left;">B0 <span style=" color: #A742A8;">y&lt;=2</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="15" height="89" alt="image" src="Docs_files/Image_356.png"/></span></p><p class="s266" style="padding-left: 18pt;text-indent: 3pt;text-align: left;">T0 <span style=" color: #A742A8;">C’==4</span></p><p class="s265" style="padding-left: 8pt;text-indent: 0pt;line-height: 7pt;text-align: left;">a?</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s266" style="padding-left: 18pt;text-indent: 3pt;text-align: left;">T1 <span style=" color: #A742A8;">C’==2</span></p><p class="s265" style="padding-left: 8pt;text-indent: 0pt;line-height: 7pt;text-align: left;">b?</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s266" style="padding-left: 22pt;text-indent: 0pt;text-align: left;">T3</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 81pt;text-indent: 0pt;line-height: 6pt;text-align: left;"><span><img width="98" height="8" alt="image" src="Docs_files/Image_357.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="294" height="100" alt="image" src="Docs_files/Image_358.png"/></span></p><p class="s264" style="padding-left: 10pt;text-indent: 0pt;text-align: left;">(b)</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 8pt;text-indent: 0pt;text-align: left;"><span><img width="7" height="27" alt="image" src="Docs_files/Image_359.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 87pt;text-indent: 0pt;line-height: 6pt;text-align: left;"><span><img width="96" height="8" alt="image" src="Docs_files/Image_360.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="7" height="27" alt="image" src="Docs_files/Image_361.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="299" height="99" alt="image" src="Docs_files/Image_362.png"/></span></p><p class="s264" style="padding-left: 11pt;text-indent: 0pt;text-align: left;">(c)</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s268" style="padding-left: 91pt;text-indent: 0pt;text-align: left;">A   B    T</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s269" style="padding-left: 8pt;text-indent: 0pt;text-align: left;"><a name="bookmark164"><b>Fig. 3 </b></a><span class="s246">An NSTA, </span>( A<span class="s255">|</span>B<span class="s255">|</span>T )</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="198" height="131" alt="image" src="Docs_files/Image_363.png"/></span></p><p class="s270" style="padding-top: 6pt;padding-left: 42pt;text-indent: 0pt;text-align: left;">0.72</p><p class="s271" style="padding-top: 1pt;padding-left: 1pt;text-indent: 0pt;text-align: left;">probability</p><p style="text-indent: 0pt;text-align: left;"/><p class="s270" style="padding-top: 6pt;padding-left: 42pt;text-indent: 0pt;text-align: left;">0.60</p><p class="s270" style="padding-top: 6pt;padding-left: 42pt;text-indent: 0pt;text-align: left;">0.48</p><p class="s270" style="padding-top: 6pt;padding-left: 42pt;text-indent: 0pt;text-align: left;">0.36</p><p class="s270" style="padding-top: 6pt;padding-left: 42pt;text-indent: 0pt;text-align: left;">0.24</p><p class="s270" style="padding-top: 6pt;padding-left: 42pt;text-indent: 0pt;text-align: left;">0.12</p><p class="s270" style="padding-top: 6pt;padding-left: 52pt;text-indent: 0pt;line-height: 8pt;text-align: left;">0</p><p class="s270" style="padding-left: 58pt;text-indent: 0pt;line-height: 8pt;text-align: left;">0   1.2  2.4  3.6  4.8  6.0</p><p class="s271" style="padding-top: 3pt;padding-left: 105pt;text-indent: 0pt;text-align: left;">Time/Cost</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s270" style="padding-top: 5pt;text-indent: 0pt;line-height: 112%;text-align: left;">Cost Time</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 87pt;text-indent: 0pt;line-height: 6pt;text-align: left;"><span><img width="96" height="8" alt="image" src="Docs_files/Image_364.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s246" style="padding-left: 6pt;text-indent: 0pt;text-align: left;"><a name="bookmark165"><b>Fig. 2 </b></a>Distributions of reachability time, <b>a </b><i>A</i><span class="s272">1</span> arrival to <span class="s273">END</span>,<a name="bookmark166">&zwnj;</a></p><p class="s263" style="padding-left: 6pt;text-indent: 0pt;text-align: left;">b <i>A</i><span class="s274">2 </span><span class="s275">arrival to </span><span class="s273">END</span><span class="s246">, </span>c <i>A</i><span class="s274">3 </span><span class="s275">arrival to </span><span class="s273">END</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="5" height="1" alt="image" src="Docs_files/Image_365.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="5" height="1" alt="image" src="Docs_files/Image_366.png"/></span></p><p class="s251" style="padding-left: 6pt;text-indent: 0pt;line-height: 13pt;text-align: left;">path to the <span class="s260">END </span>location are similarly given by sums of uni- form distributions. Subsequently, the combination ( <span class="s276">1</span> to <span class="s276">5</span> )</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s246" style="padding-left: 6pt;text-indent: 0pt;text-align: justify;"><b>Fig. 4 </b>Cumulative probabilities for <span class="s273">time </span>and <span class="s273">Cost</span>-bounded reachabil- ity of <i>T</i><span class="s272">3</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s251" style="padding-left: 6pt;text-indent: 0pt;line-height: 108%;text-align: justify;">is assumed that these components are input-enabled, deter- ministic (with a probability measure defined on the sets of successors), and non-Zeno. The component STAs commu- nicate via broadcast channels and shared variables to gener- ate Networks of Stochastic Timed Automata (NSTA). The communication is restricted to broadcast synchronizations to keep a clean semantics of only non-blocked components which are racing against each other with their corresponding local distributions.</p><p class="s277" style="padding-left: 215pt;text-indent: 0pt;line-height: 2pt;text-align: left;">6  6    <a href="#bookmark164" style=" color: #131413; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt;">Figure </a><span class="s280">3 </span><span class="s278">shows an NSTA with three parallel components</span></p><p class="s251" style="padding-left: 6pt;text-indent: 0pt;line-height: 108%;text-align: justify;"><a href="#bookmark165" style=" color: #131413; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt;">of these as illustrated in distribution of the overall delay is obtained by a weighted Fig. </a><span style=" color: #00F;">2</span>b. Finally, in <i>A</i><span class="s259">3</span>—in the absence of invariants—delays are chosen according to exponential</p><p class="s251" style="padding-left: 6pt;text-indent: 0pt;line-height: 6pt;text-align: justify;">distributions with user-supplied rates (here <span class="s276">1</span> , 2 and <span class="s276">1</span> ). In</p><p class="s258" style="padding-top: 6pt;padding-left: 6pt;text-indent: 0pt;text-align: justify;">A<span class="s251">, </span>B<span class="s251">, and </span>T <span class="s251">as specified using the Uppaal GUI. One can easily see that the composite system </span>( A<span class="s252">|</span>B<span class="s252">|</span>T ) <span class="s251">has a transition sequence:</span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="5" height="1" alt="image" src="Docs_files/Image_367.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="5" height="1" alt="image" src="Docs_files/Image_368.png"/></span></p><p class="s281" style="padding-left: 183pt;text-indent: 0pt;line-height: 7pt;text-align: left;">2    4</p><p class="s251" style="padding-left: 6pt;text-indent: 0pt;line-height: 11pt;text-align: left;">addition, after the initial delay a discrete probabilistic choice</p><p class="s251" style="padding-left: 6pt;text-indent: 0pt;line-height: 6pt;text-align: left;">( <span class="s276">1</span> versus <span class="s276">3</span> ) is made. The resulting distribution of the overall</p><p class="s258" style="padding-top: 3pt;padding-left: 6pt;text-indent: 0pt;text-align: left;">(( A<span class="s259">0</span>, B<span class="s259">0</span>, T<span class="s259">0</span>), <span class="s252">[</span>x <span class="s252">= </span><span class="s251">0</span>, y <span class="s252">= </span><span class="s251">0</span>, C <span class="s252">= </span><span class="s251">0</span></p><p class="s281" style="padding-left: 14pt;text-indent: 0pt;line-height: 7pt;text-align: left;">1  <i>a</i><span class="s283">!</span></p><p class="s252" style="text-indent: 0pt;line-height: 10pt;text-align: left;">]<span class="s258">)</span></p><p style="text-indent: 0pt;text-align: left;"/><p class="s252" style="padding-left: 7pt;text-indent: 0pt;line-height: 10pt;text-align: left;">−→−→</p><p style="text-indent: 0pt;text-align: left;"><span><img width="5" height="1" alt="image" src="Docs_files/Image_369.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="5" height="1" alt="image" src="Docs_files/Image_370.png"/></span></p><p class="s284" style="padding-left: 10pt;text-indent: 0pt;line-height: 6pt;text-align: left;">4     4                                                       <span class="s281">1  </span><i>b</i><span class="s283">!</span></p><p class="s305" style="padding-left: 6pt;text-indent: 0pt;text-align: justify;"><a href="#bookmark165" style=" color: #131413; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt;">reachability time is given in Fig. </a>2<span style=" color: #131413;">c.</span></p><p class="s251" style="padding-left: 6pt;text-indent: 11pt;line-height: 13pt;text-align: justify;">Importantly, the distributions provided by the stochastic semantics are in agreement with the delay intervals deter- mined by the standard semantics of the underlying timed automata. Thus, the distributions for <i>A</i><span class="s259">1</span> and <i>A</i><span class="s259">2</span> have finite support by the intervals <span class="s252">[</span>6<i>, </i>12<span class="s252">] </span>and <span class="s252">[</span>4<i>, </i>12<span class="s252">]</span>, respectively. Moreover, as indicated by <i>A</i><span class="s259">3</span>, the notion of stochastic timed automata encompasses both discrete and continuous time Markov chains. In particular, the class of reachability time distributions obtained from the stochastic timed automata (STA) of Uppaal SMC includes that of phase-type distrib- utions.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s258" style="padding-left: 6pt;text-indent: 0pt;line-height: 108%;text-align: justify;">Networks <span class="s251">As in Uppaal, a model in Uppaal SMC con- sists of a network of interacting component STAs. Here, it</span></p><p class="s258" style="padding-left: 12pt;text-indent: 0pt;line-height: 12pt;text-align: left;">(( A<span class="s259">1</span>, B<span class="s259">0</span>, T<span class="s259">1</span>), <span class="s252">[</span>x <span class="s252">= </span><span class="s251">1</span>, y <span class="s252">= </span><span class="s251">1</span>, C <span class="s252">= </span><span class="s251">4</span><span class="s252">]</span>) <span class="s252">−→−→</span></p><p class="s258" style="padding-top: 2pt;padding-left: 12pt;text-indent: 0pt;text-align: left;">(( A<span class="s259">1</span>, B<span class="s259">1</span>, T<span class="s259">2</span>), <span class="s252">[</span>x <span class="s252">= </span><span class="s251">2</span>, y <span class="s252">= </span><span class="s251">2</span>, C <span class="s252">= </span><span class="s251">6</span><span class="s252">]</span>) ,</p><p class="s258" style="padding-top: 8pt;padding-left: 6pt;text-indent: 0pt;text-align: justify;"><span class="s251">demonstrating that the final location </span>T<span class="s259">3</span><span class="s251"> of </span>T <span class="s251">is reachable. In fact, location </span>T<span class="s259">3</span><span class="s251"> is reachable within cost 0 to 6 and within total time 0 and 2 in </span>( A<span class="s252">|</span>B<span class="s252">|</span>T ) <span class="s251">depending on when (and in which order) </span>A <span class="s251">and </span>B <span class="s251">choose to perform the output actions </span>a<span class="s252">! </span><span class="s251">and </span>b<span class="s252">!</span><span class="s251">. Given that the choice of these time delays is governed by probability distributions, a measure on sets of runs of NSTAs is induced, according to which quantitative properties such as </span>“the probability of T<span class="s259">3</span><span class="s251"> </span>being reached within a total cost- bound of 4.3” <a href="#bookmark166" style=" color: #131413; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt;">become well defined (Fig. </a><span class="s305">4</span><span class="s251">).</span></p><p class="s251" style="padding-left: 6pt;text-indent: 11pt;line-height: 108%;text-align: justify;">For components, as stated in the previous section, Uppaal SMC applies uniform distributions for bounded delays and exponential distributions where a component STA</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s251" style="padding-top: 4pt;padding-left: 6pt;text-indent: 0pt;line-height: 108%;text-align: justify;"><a href="#bookmark164" style=" color: #131413; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt;">can remain indefinitely in the same location. In a network of STAs, the components repeatedly race against each other, i.e., they independently and stochastically decide on their own how much to delay before outputting, with the “winner” being the component that chooses the minimum delay. For instance, in the NSTA of Fig. </a><span style=" color: #00F;">3</span>, <i>A </i>wins the initial race over <i>B </i>with probability 0<i>.</i>75.</p><p class="s305" style="padding-left: 6pt;text-indent: 11pt;line-height: 108%;text-align: justify;"><a href="#bookmark210" style=" color: #131413; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt;">As observed in [</a>23<span style=" color: #131413;">], though the stochastic semantic of each individual STA in Uppaal SMC is rather simple (but quite realistic), arbitrarily complex stochastic behavior can be obtained by their composition when mixing individual distributions through message passing. The beauty of our model is that these distributions are naturally and automati- cally defined by the network of STAs.</span></p><p class="s258" style="padding-left: 6pt;text-indent: 0pt;line-height: 108%;text-align: justify;">Train crossing example <span class="s251">Uppaal SMC takes as input NSTAs as described above. Additionally, there is support for all other features of the Uppaal model checker’s input language such as integer variables, data structures and user-defined func- tions, which greatly ease modeling. Uppaal SMC allows the user to specify an arbitrary (integer) rate for the clocks on any location. In addition, the automata support branching edges where weights can be added to give a distribution on discrete transitions. It is important to note that rates and weights may be general expressions that depend on the states and not just simple constants.</span></p><p class="s305" style="padding-left: 6pt;text-indent: 11pt;line-height: 108%;text-align: justify;"><a href="#bookmark235" style=" color: #131413; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt;">To illustrate the extended input language, we consider a train-gate example adapted from [</a>42<span style=" color: #131413;">]. The example model is distributed together with Uppaal SMC tool. A number</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="227" height="191" alt="image" src="Docs_files/Image_371.png"/></span></p><p class="s264" style="text-indent: 0pt;text-align: left;">(a)</p><p style="text-indent: 0pt;text-align: left;"/><p class="s264" style="padding-left: 6pt;text-indent: 0pt;text-align: left;">(b)</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s285" style="padding-top: 7pt;padding-left: 6pt;text-indent: 0pt;text-align: left;">Free</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="141" height="211" alt="image" src="Docs_files/Image_372.png"/></span></p><p class="s286" style="text-indent: 0pt;text-align: left;">len == 0</p><p style="text-indent: 0pt;text-align: left;"/><p class="s286" style="padding-left: 4pt;text-indent: 0pt;line-height: 9pt;text-align: left;">len &gt; 0</p><p class="s287" style="padding-left: 4pt;text-indent: 0pt;line-height: 9pt;text-align: left;">go[front()]!  <span style=" color: #A3A842;">e:id_t</span></p><p class="s287" style="padding-left: 52pt;text-indent: 0pt;text-align: left;">appr[e]? <span style=" color: #4242A8;">enqueue(e)</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s285" style="padding-left: 56pt;text-indent: 0pt;text-align: left;">Occ</p><p class="s288" style="padding-top: 4pt;text-indent: 0pt;line-height: 9pt;text-align: left;">e : id_t</p><p class="s287" style="text-indent: 0pt;text-align: left;">appr[e]? stop[tail()]! <span style=" color: #4242A8;">enqueue(e)</span></p><p class="s285" style="padding-top: 4pt;padding-left: 56pt;text-indent: 0pt;text-align: left;">Stopping</p><p style="text-indent: 0pt;text-align: left;"/><p class="s288" style="padding-left: 6pt;text-indent: 0pt;line-height: 9pt;text-align: left;">e : id_t</p><p class="s286" style="padding-left: 6pt;text-indent: 0pt;text-align: left;">e == front() <span style=" color: #42A0A8;">leave[e]? </span><span style=" color: #4242A8;">dequeue()</span></p><p class="s251" style="padding-left: 6pt;text-indent: 0pt;line-height: 108%;text-align: justify;"><a href="#bookmark167" style=" color: #131413; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt;" name="bookmark144">of trains are approaching a bridge on which there is only one track. To avoid collisions, a controller stops the trains. It restarts them when possible to make sure that trains will eventually cross the bridge. There are timing constraints for stopping the trains modeling the fact that it is not possible to stop trains instantly. The interesting point w.r.t. SMC is to define the arrival rates of these trains. Figure </a><span style=" color: #00F;">5</span>a shows the template for a train. The location <span class="s260">Safe </span>has no invari- ant and defines the rate of the exponential distribution for delays. Trains delay according to this distribution and then<a name="bookmark167">&zwnj;</a><a name="bookmark168">&zwnj;</a></p><p class="s290" style="text-indent: 0pt;line-height: 9pt;text-align: left;">N <span class="s291">2</span></p><p style="text-indent: 0pt;text-align: left;"/><p class="s251" style="padding-left: 6pt;text-indent: 0pt;line-height: 106%;text-align: justify;">approach by synchronizing on <span class="s260">appr[i] </span>with the gate con- troller. Here, we define the rational <u>1</u><span class="s293">+</span><u>id</u> where id is the identifier of the train and <i>N </i>is the number of trains. Rates are given by expressions that can depend on the current states. Trains with higher id arrive faster. Taking transitions from locations with invariants is given by a uniform distri- bution over the time interval defined by the invariant. This happens in locations <span class="s260">Appr</span>, <span class="s260">Cross</span>, and <span class="s260">Start</span><a href="#bookmark167" style=" color: #131413; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt;">, e.g., it takes some time picked uniformly between 3 and 5 time units to cross the bridge. Figure </a><span style=" color: #00F;">5</span>b shows the gate controller that</p><p class="s251" style="padding-left: 6pt;text-indent: 0pt;line-height: 108%;text-align: justify;">keeps track of the trains with an internal queue data structure (not shown here). It uses functions to queue trains (when a train approaches and the bridge is occupied in <span class="s260">Occ</span>) or dequeue them (when some train leaves and the bridge is free).</p><p class="s263" style="padding-left: 6pt;text-indent: 0pt;line-height: 7pt;text-align: justify;">Fig. 5 <span class="s246">Templates for the train-gate example, </span>a <span class="s246">train, </span>b <span class="s246">gate controller</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p></li><li data-list-text="3"><p class="s249" style="padding-left: 14pt;text-indent: -8pt;text-align: justify;">Query language</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s251" style="padding-left: 6pt;text-indent: 0pt;line-height: 108%;text-align: justify;">In addition to the standard model checking queries—i.e., reachability, invariance, inevitability and leads-to, which are still available—Uppaal SMC provides a number of new queries related to the stochastic interpretation of timed automata. Uppaal SMC allows the user to visualize the val- ues of expressions (evaluating to integers or clocks) along simulated runs. This gives insight to the user on the behav- ior of the system so that more interesting properties can be asked to the model checker. The concrete syntax applied in Uppaal SMC is as follows:</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s260" style="padding-left: 6pt;text-indent: 0pt;text-align: justify;">simulate N <span class="s252">[ </span><span class="s258">&lt; </span><span class="s252">= </span>bound<span class="s252">] {</span>E1<span class="s258">, .., </span>Ek<span class="s252">}</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s251" style="padding-left: 6pt;text-indent: 0pt;line-height: 108%;text-align: justify;">where <span class="s260">N </span>is a natural number indicating the number of simula- tions to be performed, bound is the time bound on the sim- ulations, and E1<i>, .., </i>Ek are the <i>k </i>(state-based) expressions that are to be monitored and visualized. To demonstrate this on our previous train-gate example, we can monitor when <span class="s260">Train(0) </span>and <span class="s260">Train(5) </span>are crossing as well as the length of the queue. The query is</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s270" style="padding-left: 8pt;text-indent: 0pt;text-align: right;">6.0</p><p class="s271" style="padding-top: 1pt;padding-left: 1pt;text-indent: 0pt;text-align: left;">value</p><p style="text-indent: 0pt;text-align: left;"/><p class="s270" style="padding-top: 5pt;padding-left: 8pt;text-indent: 0pt;text-align: right;">4.5</p><p class="s270" style="padding-top: 5pt;padding-left: 8pt;text-indent: 0pt;text-align: right;">3.0</p><p class="s270" style="padding-top: 5pt;padding-left: 8pt;text-indent: 0pt;text-align: right;">1.5</p><p class="s270" style="padding-top: 5pt;text-indent: 0pt;text-align: right;">0</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s294" style="padding-left: 52pt;text-indent: 0pt;text-align: left;">Simulations</p><p style="text-indent: 0pt;text-align: left;"><span><img width="225" height="81" alt="image" src="Docs_files/Image_373.png"/></span></p><p class="s270" style="text-indent: 0pt;line-height: 8pt;text-align: left;">0   50  100  150  200  250  300</p><p class="s271" style="padding-left: 69pt;text-indent: 0pt;line-height: 9pt;text-align: left;">time</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s271" style="padding-left: 92pt;text-indent: 0pt;text-align: left;">1</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s295" style="padding-top: 7pt;text-indent: 0pt;text-align: left;">Train[0].Cross Train[5].Cross</p><p class="s295" style="text-indent: 0pt;line-height: 9pt;text-align: left;">Gate.len          <span class="s296">P</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s271" style="padding-top: 7pt;padding-left: 92pt;text-indent: 0pt;text-align: left;">0</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="218" height="114" alt="image" src="Docs_files/Image_374.png"/></span></p><p class="s297" style="padding-left: 6pt;text-indent: 0pt;line-height: 10pt;text-align: left;">probability</p><p style="text-indent: 0pt;text-align: left;"/><p class="s297" style="padding-left: 20pt;text-indent: 0pt;text-align: left;">estimates</p><p class="s246" style="padding-top: 1pt;padding-left: 6pt;text-indent: 0pt;text-align: justify;"><a name="bookmark169"><b>Fig. 6 </b></a>Visualizing the gate length and when <span class="s273">Train(0) </span>and <span class="s273">Train(5) </span>cross on one random run</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s260" style="padding-left: 6pt;text-indent: 0pt;text-align: justify;">simulate1 [<span class="s258">&lt;</span><span class="s251">=300]</span></p><p class="s260" style="padding-top: 1pt;padding-left: 12pt;text-indent: 0pt;text-align: left;">{Train(0).Cross, Train(5).Cross, Gate.len}</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s258" style="padding-left: 6pt;text-indent: 11pt;line-height: 13pt;text-align: justify;"><a href="#bookmark169" style=" color: #131413; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt;" name="bookmark170">This gives us the plot of Fig. </a><span class="s305">6</span><span class="s251">. Interestingly, </span><span class="s260">Train(5) </span><span class="s251">crosses more often (since it has a higher arrival rate). Secondly, it seems unlikely that the gate length drops below 3 after some time (say 20), which is not an obvi- ous property from the model. We can confirm this by ask- ing </span><span class="s260">Pr</span><span class="s252">[</span>&lt;<span class="s252">= </span><span class="s260">300</span><span class="s252">]</span>(&lt;&gt; <span class="s260">Gate</span>.<span class="s260">len </span>&lt; <span class="s260">3 and t </span>&gt; <span class="s260">20</span>) <span class="s251">and adding a clock </span><span class="s260">t</span><span class="s251">. The probability is in </span><span class="s252">[</span><span class="s251">0</span>.<span class="s251">102</span>, <span class="s251">0</span>.<span class="s251">123</span><span class="s252">]</span><span class="s251">.</span></p><p class="s305" style="padding-left: 6pt;text-indent: 11pt;line-height: 108%;text-align: justify;"><a href="#bookmark203" style=" color: #131413; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt;">For specifying properties over NSTAs, we use a weighted extension of the temporal logic MITL [</a>2<a href="#bookmark211" style=" color: #131413; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt;">] expressing prop- erties over runs [</a>6<span style=" color: #131413;">], defined by the grammar:</span></p><p class="s283" style="text-indent: 0pt;line-height: 8pt;text-align: left;">≤<span class="s282">d</span></p><p style="text-indent: 0pt;text-align: left;"/><p class="s252" style="padding-top: 8pt;padding-left: 6pt;text-indent: 0pt;text-align: justify;"><span class="s258">ϕ</span>:: = <span class="s260">ap </span>|¬<span class="s258">ϕ</span>| <span class="s258">ϕ</span><span class="s259">1</span><span class="s251"> </span>∧ <span class="s258">ϕ</span><span class="s259">2</span><span class="s251"> </span>|<span class="s260">O</span><span class="s258">ϕ</span>| <span class="s258">ϕ</span><span class="s259">1</span><span class="s260">U</span><span class="s298">x </span><span class="s299">ϕ</span><span class="s259">2</span></p><p class="s251" style="padding-top: 10pt;padding-left: 6pt;text-indent: 0pt;line-height: 108%;text-align: justify;">where <span class="s260">ap </span>is a conjunction of predicates over the state of a NSTA, <i>d </i>is a natural number and <i>x </i>is a clock. Here, the logical operators are interpreted as usual, and <span class="s260">O </span>is a next state</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s263" style="padding-left: 6pt;text-indent: 0pt;text-align: left;">Fig. 7 <span class="s246">True probability </span>P <span class="s246">and confidence intervals</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><ol id="l104"><li data-list-text="2."><p class="s251" style="padding-left: 18pt;text-indent: -12pt;line-height: 11pt;text-align: left;">Hypothesis testing</p><p class="s258" style="padding-left: 18pt;text-indent: 0pt;line-height: 13pt;text-align: left;"><span class="s251">Is the probability P</span><span class="s300">M</span> (<span class="s301">♦</span><span class="s300">x</span><span class="s302">≤</span><span class="s300">C</span> <span class="s260">ap</span>) <span class="s251">for a given NSTA </span>M</p><p class="s251" style="padding-left: 18pt;text-indent: 0pt;line-height: 13pt;text-align: left;">greater or equal to a certain threshold <i>p </i><span class="s252">∈ [</span>0<i>, </i>1<span class="s252">] </span>?</p></li><li data-list-text="3."><p class="s251" style="padding-left: 18pt;text-indent: -12pt;line-height: 11pt;text-align: left;">Probability comparison</p></li></ol><p class="s300" style="padding-left: 18pt;text-indent: 0pt;line-height: 90%;text-align: left;"><span class="s251">Is the probability P</span>M<span class="s258"> (</span><span class="s301">♦</span>x<span class="s302">≤</span>C<span class="s258"> </span><span class="s260">ap</span><span class="s303">1</span><span class="s258">) </span><span class="s251">greater than the proba- bility P</span>M<span class="s258"> (</span><span class="s301">♦</span>y<span class="s302">≤</span>D<span class="s260">ap</span><span class="s303">2</span><span class="s258">)</span><span class="s251">?</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s251" style="padding-top: 9pt;padding-left: 6pt;text-indent: 11pt;line-height: 108%;text-align: justify;">From a conceptual point of view solving the above ques- tions using SMC is simple. First, each run of the system is encoded as a Bernoulli random variable that is true if the run satisfies the property and false otherwise. Then a statis- tical algorithm groups the observations to answer the three questions. For the quantitative question (1), we will use an estimation algorithm that resemble the classical Monte Carlo simulation, while for the qualitative questions (2 and 3) we shall use sequential hypothesis testing. The two solutions are detailed hereafter.</p><p class="s251" style="padding-left: 6pt;text-indent: 0pt;line-height: 6pt;text-align: left;">operator. A weighted MITL formula <i>ϕ</i><span class="s259">1</span><span class="s260">U</span><span class="s298">x</span></p><p class="s258" style="padding-left: 4pt;text-indent: 0pt;line-height: 6pt;text-align: left;">ϕ<span class="s259">2</span><span class="s251"> is satisfied by</span></p><p class="s251" style="padding-top: 6pt;padding-left: 6pt;text-indent: 0pt;text-align: left;">a run if</p><p class="s283" style="padding-left: 129pt;text-indent: 0pt;line-height: 8pt;text-align: left;">≤<span class="s282">d</span></p><p class="s258" style="padding-left: 1pt;text-indent: 0pt;line-height: 10pt;text-align: left;">ϕ<span class="s259">1</span><span class="s251"> is satisfied on the run until </span>ϕ<span class="s259">2</span><span class="s251"> is satisfied, and</span></p><p class="s258" style="padding-left: 6pt;text-indent: 0pt;text-align: left;">Probability estimation <span class="s251">The probability estimation algo-</span></p><p class="s305" style="padding-left: 6pt;text-indent: 0pt;line-height: 7pt;text-align: left;"><a href="#bookmark225" style=" color: #131413; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt;">rithm [</a>30<span style=" color: #131413;">] computes the number of runs needed to produce</span></p><p class="s283" style="text-indent: 0pt;line-height: 8pt;text-align: left;">≤<span class="s282">d</span></p><p style="text-indent: 0pt;text-align: left;"/><p class="s258" style="padding-left: 6pt;text-indent: 0pt;line-height: 94%;text-align: justify;"><span class="s251">this will happen before the value of the clock </span>x <span class="s251">exceeds </span>d<span class="s251">. As usual </span><span class="s252">¬</span>(ϕ<span class="s259">1</span><span class="s251"> </span><span class="s252">∧ </span>ϕ<span class="s259">2</span>) <span class="s252">= ¬</span>ϕ<span class="s259">1</span><span class="s251"> </span><span class="s252">∨ ¬</span>ϕ<span class="s259">2</span><span class="s251"> and we use standard MITL abbreviations </span><span class="s260">tt </span><span class="s252">= </span>ϕ <span class="s252">∨ ¬</span>ϕ<span class="s251">, </span><span class="s301">♦</span><span class="s300">x</span><span class="s302">≤</span><span class="s300">d</span> ϕ <span class="s252">= </span><span class="s260">ttU</span><span class="s298">x </span><span class="s299">ϕ </span><span class="s251">and</span></p><p class="s300" style="padding-left: 6pt;text-indent: 0pt;line-height: 13pt;text-align: justify;"><span class="s301"> </span>x<span class="s302">≤</span>d<span class="s258"> ϕ </span><span class="s252">= ¬</span><span class="s301">♦</span>x<span class="s302">≤</span>d<span class="s258"> </span><span class="s252">¬</span><span class="s258">ϕ</span><span class="s251">.</span></p><p class="s258" style="padding-left: 6pt;text-indent: 11pt;text-align: justify;"><span class="s251">For an NSTA </span>M <span class="s251">, we define P</span><span class="s300">M</span> (ϕ) <span class="s251">to be the probabil- ity that a random run of </span>M <span class="s251">satisfies </span>ϕ<span class="s251">. The problem of checking P</span><span class="s300">M</span> (ϕ) <span class="s252">≥ </span>p <span class="s251">( </span>p <span class="s252">∈ [</span><span class="s251">0</span>, <span class="s251">1</span><span class="s252">]</span><a href="#bookmark171" style=" color: #131413; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt;">) is undecidable in gen- eral.</a><span style=" color: #00F; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 6.5pt; vertical-align: 3pt;">1</span><span class="s305"> </span><span class="s251">For the sub-logic of cost-bounded reachability prob- lems P</span><span class="s300">M</span> (<span class="s301">♦</span><span class="s300">x</span><span class="s302">≤</span><span class="s300">C</span> <span class="s260">ap</span>) <span class="s252">≥ </span>p<span class="s251">, where </span>x <span class="s251">is a clock and </span>C <a href="#bookmark234" style=" color: #131413; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt;">is a bound, Uppaal SMC approximates the answer using simulation- based algorithms known under the name of statistical model checking [</a><span class="s305">41</span><span class="s251">] algorithms (SMC). We briefly recap statistical algorithms permitting to answer the following three types of questions:</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><ol id="l105"><li data-list-text="1."><p class="s251" style="padding-left: 18pt;text-indent: -12pt;line-height: 11pt;text-align: left;">Probability estimation</p><p class="s300" style="padding-left: 18pt;text-indent: 0pt;line-height: 13pt;text-align: left;"><span class="s251">What is the probability P</span>M<span class="s258"> (</span><span class="s301">♦</span>x<span class="s302">≤</span>C<span class="s258"> </span><span class="s260">ap</span><span class="s258">) </span><span class="s251">for a given NSTA</span></p><p class="s258" style="padding-left: 19pt;text-indent: 0pt;text-align: left;">M <span class="s251">?</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 6pt;text-indent: 0pt;line-height: 1pt;text-align: left;"><span><img width="68" height="1" alt="image" src="Docs_files/Image_375.png"/></span></p><p class="s306" style="padding-left: 6pt;text-indent: 0pt;text-align: left;"><a name="bookmark171">1 </a><span class="s275">Exceptions being stochastic TAs with 0 or 1 clocks and with </span><span class="s269">p </span><span class="s246">being 0 or 1.</span></p><p class="s258" style="padding-top: 4pt;padding-left: 6pt;text-indent: 0pt;text-align: justify;"><span class="s251">an approximation interval </span><span class="s252">[ </span>p <span class="s252">− </span>ε, p <span class="s252">+ </span>ε<span class="s252">] </span><span class="s251">for </span>p <span class="s252">= </span>Pr(ψ) <span class="s251">with a confidence 1 </span><span class="s252">− </span>α<span class="s251">. A frequentist interpretation of this result tells us that if we repeat the interval estimation </span>N <span class="s251">times, then the estimated confidence interval </span>p <span class="s252">± </span>ε <span class="s251">contains the true probability at least </span>(<span class="s251">1</span><span class="s252">−</span>α)N <span class="s251">times in the long run (</span>N <span class="s252">→ ∞</span><a href="#bookmark170" style=" color: #131413; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt;">). Figure </a><span class="s305">7 </span><span class="s251">shows the relation between the estimated probability confidence intervals and the true (unknown) probability </span><b>P</b><span class="s251">.</span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="5" height="1" alt="image" src="Docs_files/Image_376.png"/></span></p><p class="s281" style="text-indent: 0pt;line-height: 8pt;text-align: left;">2</p><p style="text-indent: 0pt;text-align: left;"/><p class="s251" style="padding-top: 1pt;padding-left: 6pt;text-indent: 11pt;line-height: 108%;text-align: justify;">The original algorithm for interval estimation decides the number of runs apriori based on the values of <i>ε </i>and <i>α </i><a href="#bookmark201" style=" color: #131413; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt;">using Chernoff–Hoeffding inequality [</a><span style=" color: #00F;">18</span><a href="#bookmark227" style=" color: #131413; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt;">,</a><span style=" color: #00F;">31</span>], however for practi- cal purposes this inequality is too conservative. Moreover, the result can be even more improved when the probabil- ity is further from <span class="s276">1</span> . Uppaal SMC implements a sequential method where a probability confidence interval (for given <i>α</i>) is derived with each new simulation measurement and the simulation generation is stopped when the confidence inter- val width is less than 2<i>ε</i><a href="#bookmark202" style=" color: #131413; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt;">. The confidence interval is derived using Clopper–Pearson “exact” method [</a><span style=" color: #00F;">19</span>] using the fact that the measurements are always binary (the property is either satisfied or not) and thus the result follows binomial distribution. The confidence level is also adjusted for one-</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s307" style="padding-left: 263pt;text-indent: 0pt;text-align: left;"><span><img width="8" height="39" alt="image" src="Docs_files/Image_377.png"/></span> <span><img width="296" height="139" alt="image" src="Docs_files/Image_378.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 335pt;text-indent: 0pt;line-height: 5pt;text-align: left;"><span><img width="75" height="7" alt="image" src="Docs_files/Image_379.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 277pt;text-indent: 0pt;text-align: left;"><span><img width="191" height="32" alt="image" src="Docs_files/Image_380.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="310" height="233" alt="image" src="Docs_files/Image_381.jpg"/></span></p><p class="s263" style="padding-left: 6pt;text-indent: 0pt;text-align: justify;"><a name="bookmark172">Fig. 8 </a><span class="s246">The Verifier of Uppaal SMC</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s251" style="padding-left: 6pt;text-indent: 0pt;line-height: 108%;text-align: justify;"><a name="bookmark173">sided intervals, where the measured property is always true or always false.</a></p><p class="s251" style="padding-left: 6pt;text-indent: 11pt;line-height: 108%;text-align: left;">In Uppaal SMC, the probability confidence interval can be estimated by the following query:</p><p class="s260" style="padding-top: 4pt;padding-left: 6pt;text-indent: 0pt;text-align: left;">Pr<span class="s252">[</span>bound<span class="s252">] </span><span class="s258">(</span>ap<span class="s258">)</span></p><p class="s258" style="padding-top: 7pt;padding-left: 6pt;text-indent: 0pt;line-height: 108%;text-align: justify;">Example 1 <span class="s251">Recall the Train Crossing example of the previ- ous section. The following queries estimates the probabilities that </span><span class="s260">Train</span>(<span class="s260">0</span>) <span class="s251">and </span><span class="s260">Train</span>(<span class="s260">5</span>) <span class="s251">will be in the crossing before 100 time units:</span></p><p class="s260" style="padding-top: 4pt;padding-left: 6pt;text-indent: 0pt;text-align: left;">Pr<span class="s252">[</span><span class="s258">&lt;</span><span class="s252">= </span>100<span class="s252">]</span><span class="s258">(&lt;&gt; </span>Train<span class="s258">(</span>0<span class="s258">).</span>Cross<span class="s258">)</span></p><p class="s260" style="padding-top: 2pt;padding-left: 6pt;text-indent: 0pt;text-align: left;">Pr<span class="s252">[</span><span class="s258">&lt;</span><span class="s252">= </span>100<span class="s252">]</span><span class="s258">(&lt;&gt; </span>Train<span class="s258">(</span>5<span class="s258">).</span>Cross<span class="s258">)           </span><span class="s251">(1)</span></p><p class="s251" style="padding-top: 5pt;padding-left: 6pt;text-indent: 0pt;line-height: 13pt;text-align: justify;"><a href="#bookmark172" style=" color: #131413; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt;">Figure </a><span style=" color: #00F;">8 </span>shows how these (and other) queries are entered in the “Query” field of the Verifier tab of Uppaal SMC. In the “Overview” field the answers are provided: <span class="s252">[</span>0<i>.</i>502421<i>, </i>0<i>.</i>602316<span class="s252">] </span>and <span class="s252">[</span>0<i>.</i>902606<i>, </i>1<span class="s252">] </span>are the two 95 % confidence intervals obtained from 383 and 36 runs, respectively. This shows—as we would expect—that the more eager <span class="s260">Train</span><i>(</i><span class="s260">5</span><i>) </i>has a higher probability of reaching the crossing than <span class="s260">Train</span><i>(</i><span class="s260">0</span><i>) </i><a href="#bookmark173" style=" color: #131413; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt;">within the given time limit. Right clicking on the answers provide easy access to more detailed information in terms of (cumulative, confidence interval, frequency histogram) prob- ability distribution of the time-bounded reachability property, e.g., Fig. </a><span style=" color: #00F;">9</span>.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s258" style="padding-left: 6pt;text-indent: 0pt;line-height: 108%;text-align: left;">Hypothesis testing <span class="s251">This approach reduces the qualitative question to e test the null-hypothesis:</span></p><p class="s258" style="padding-top: 4pt;padding-left: 6pt;text-indent: 0pt;text-align: left;">H <span class="s252">: </span>p <span class="s252">= </span><span class="s251">P</span><span class="s308">M</span><span class="s309"> </span>(ψ) <span class="s252">≥ </span>θ</p><p class="s251" style="padding-top: 6pt;padding-left: 6pt;text-indent: 0pt;text-align: left;">against the alternative hypothesis:</p><p class="s258" style="padding-top: 5pt;padding-left: 6pt;text-indent: 0pt;text-align: left;">K <span class="s252">: </span>p <span class="s252">= </span><span class="s251">P</span><span class="s308">M</span><span class="s309"> </span>(ψ) &lt; θ</p><p class="s258" style="padding-top: 6pt;padding-left: 6pt;text-indent: 0pt;text-align: left;"><span class="s251">To bound the probability of making errors, we use strength parameters </span>α <span class="s251">and </span>β <span class="s251">and we test the hypothesis </span>H<span class="s259">0</span><span class="s252">: </span>p <span class="s252">≥ </span>p<span class="s259">0</span></p><p class="s263" style="padding-top: 5pt;padding-left: 6pt;text-indent: 0pt;line-height: 9pt;text-align: justify;">Fig. 9 <span class="s246">The   cumulative   probability   distribution   of</span></p><p class="s269" style="padding-left: 6pt;text-indent: 0pt;line-height: 11pt;text-align: left;"><span class="s273">Pr</span><span class="s255">[</span>&lt;<span class="s255">=</span>T <span class="s255">]</span>(&lt;&gt; <span class="s273">Train</span>(<span class="s273">5</span>).<span class="s273">Cross</span>)</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s258" style="padding-top: 6pt;padding-left: 6pt;text-indent: 0pt;line-height: 13pt;text-align: justify;"><span class="s251">and </span>H<span class="s259">1</span><span class="s252">: </span>p <span class="s252">≤ </span>p<span class="s259">1</span><span class="s251"> with </span>p<span class="s259">0</span><span class="s251"> </span><span class="s252">= </span>θ <span class="s252">+ </span>δ<span class="s259">0</span><span class="s251"> and </span>p<span class="s259">1</span><span class="s251"> </span><span class="s252">= </span>θ <span class="s252">− </span>δ<span class="s259">1</span><span class="s251">. The interval </span>p<span class="s259">0</span><span class="s251"> </span><span class="s252">− </span>p<span class="s259">1</span><span class="s251"> defines an indifference region, and </span>p<span class="s259">0</span><span class="s251"> and </span>p<span class="s259">1</span><span class="s251"> are used as thresholds in the algorithm. The parameter </span>α <span class="s251">is the probability of accepting </span>H<span class="s259">0</span><span class="s251"> when </span>H<span class="s259">1</span><span class="s251"> holds (false posi- tives) and the parameter </span>β <span class="s251">is the probability of accepting </span>H<span class="s259">1</span><span class="s251"> when </span>H<span class="s259">0</span><a href="#bookmark236" style=" color: #131413; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt;"> holds (false negatives). The above test can be solved by using Wald’s sequential hypothesis testing [</a><span class="s305">40</span><span class="s251">]. This test computes a proportion </span>r <span class="s251">among those runs that satisfy the property. With probability 1, the value of the proportion will eventually cross log</span>(β/(<span class="s251">1 </span><span class="s252">− </span>α) <span class="s251">or log</span>((<span class="s251">1 </span><span class="s252">− </span>β)/α) <span class="s251">and one of the two hypothesis will be selected. In Uppaal SMC, we use the following query:</span></p><p class="s252" style="padding-top: 5pt;padding-left: 6pt;text-indent: 0pt;text-align: left;"><span class="s260">Pr</span>[<span class="s260">bound</span>] <span class="s258">(ψ) &gt;</span>= <span class="s260">p</span><span class="s310">0</span></p><p class="s258" style="padding-top: 6pt;padding-left: 6pt;text-indent: 0pt;text-align: justify;"><span class="s251">where </span>bound <span class="s251">defines how to bound the runs. The three ways to bound them are (1) implicitly by time by specifying </span>&lt;<span class="s252">=</span>M <span class="s251">(where M is a positive integer), (2) explicitly by cost with </span>x&lt;<span class="s252">=</span>M <span class="s251">where </span>x <span class="s251">is a specific clock, or (3) by number of discrete steps with # </span>&lt;<span class="s252">=</span>M <span class="s251">. In the case of hypothesis testing </span>p<span class="s259">0</span><span class="s251"> is the probability to test for. The formula </span>ψ <span class="s251">is either </span>&lt;&gt;q <span class="s251">or </span><span class="s252">[]</span>q <span class="s251">where </span>q <span class="s251">is a state predicate.</span></p><p class="s258" style="padding-top: 5pt;padding-left: 6pt;text-indent: 0pt;line-height: 108%;text-align: justify;">Remark 1 <span class="s251">Bounding runs for a number of discrete steps guar- antees termination of the simulation. Bounding over time may however result in non-termination if the model is not time diverging. Similarly, bounding over a non-diverging clock can result in non-termination.</span></p><p class="s251" style="padding-left: 6pt;text-indent: 11pt;line-height: 108%;text-align: justify;">Uppaal SMC cannot detect if a clock (or time) is diverging in a model thus the modeler needs to ensure this.</p><p class="s258" style="padding-top: 6pt;padding-left: 6pt;text-indent: 0pt;line-height: 108%;text-align: justify;">Example 2 <span class="s251">Returning to the Train Crossing example, we may not be directly interested in the actual probability of </span><span class="s260">Train</span>(<span class="s260">0</span>) <span class="s251">crossing within 100 time units, but merely whether this unknown probability is above 0</span>.<a href="#bookmark172" style=" color: #131413; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt;">2, as reflected by the following query (see also Fig. </a><span class="s305">8</span><span class="s251">):</span></p><p class="s260" style="padding-top: 3pt;padding-left: 6pt;text-indent: 0pt;text-align: left;">Pr<span class="s252">[</span><span class="s258">&lt;</span><span class="s252">= </span>100<span class="s252">]</span><span class="s258">(&lt;&gt; </span>Train<span class="s258">(</span>0<span class="s258">).</span>Cross<span class="s258">) &gt;</span><span class="s252">= </span>0<span class="s258">.</span>2</p><p class="s251" style="padding-top: 5pt;padding-left: 6pt;text-indent: 0pt;line-height: 108%;text-align: justify;">Within a number of runs significantly smaller than that of esti- mating the same probability (383 runs), this property may be</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s251" style="padding-top: 4pt;padding-left: 6pt;text-indent: 0pt;line-height: 108%;text-align: justify;">confirmed. The number of runs needed by Wald’s sequen- tial hypothesis testing method varies, e.g., posing the above query 5 times, the property was confirming within 66, 62, 65, 67, and 49 runs, respectively, with 5 % level of significance.</p><p class="s258" style="padding-top: 9pt;padding-left: 6pt;text-indent: 0pt;line-height: 108%;text-align: justify;">Probability comparison <a href="#bookmark210" style=" color: #131413; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt;">This algorithm, which is detailed in [</a><span class="s305">23</span><span class="s251">], exploits an extended Wald testing. In Uppaal SMC, we use the following query:</span></p><p class="s258" style="padding-top: 4pt;padding-left: 6pt;text-indent: 0pt;text-align: justify;"><span class="s260">Pr</span><span class="s252">[</span>bound<span class="s259">1</span><span class="s252">]</span>(ϕ<span class="s259">1</span>) &gt;<span class="s252">= </span><span class="s260">Pr</span><span class="s252">[</span>bound<span class="s259">2</span><span class="s252">]</span>(ϕ<span class="s259">2</span>).</p><p class="s258" style="padding-top: 9pt;padding-left: 6pt;text-indent: 0pt;line-height: 108%;text-align: justify;"><a name="bookmark174">Example 3 </a><span class="s251">In the train-gate example, it might be sufficient to confirm that the probability that </span><span class="s260">Train</span>(<span class="s260">5</span>) <span class="s251">reaches the crossing within 100 time units is larger than that of </span><span class="s260">Train</span>(<span class="s260">0</span>)<span class="s251">. Posing the query:</span></p><p class="s260" style="padding-top: 5pt;padding-left: 12pt;text-indent: 0pt;text-align: left;">Pr<span class="s252">[</span><span class="s258">&lt;</span><span class="s252">= </span>100<span class="s252">]</span><span class="s258">(&lt;&gt; </span>Train<span class="s258">(</span>5<span class="s258">).</span>Cross<span class="s258">)</span></p><p class="s258" style="padding-top: 2pt;padding-left: 19pt;text-indent: 0pt;text-align: left;">&gt;<span class="s252">= </span><span class="s260">Pr</span><span class="s252">[</span>&lt;<span class="s252">= </span><span class="s260">100</span><span class="s252">]</span>(&lt;&gt; <span class="s260">Train</span>(<span class="s260">0</span>).<span class="s260">Cross</span>)</p><p class="s251" style="padding-top: 7pt;padding-left: 6pt;text-indent: 0pt;line-height: 108%;text-align: justify;">confirms this belief within 120 (132, 144, 108, 174) runs with 5 % level of significance.</p><p class="s251" style="padding-top: 9pt;padding-left: 6pt;text-indent: 11pt;line-height: 108%;text-align: justify;">In addition to those three classical tests, Uppaal SMC also supports the evaluation of expected values of min or max of an expression that evaluates to a clock or an integer value. The syntax is as follows:</p><p class="s252" style="padding-top: 5pt;padding-left: 6pt;text-indent: 0pt;text-align: justify;"><span class="s260">E</span>[<span class="s258">bound</span>; <span class="s258">N </span>]<span class="s258">(</span><span class="s260">min</span>:<span class="s258">ex pr)</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s311" style="padding-left: 25pt;text-indent: 0pt;text-align: left;"><span><img width="7" height="28" alt="image" src="Docs_files/Image_382.png"/></span>	</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 77pt;text-indent: 0pt;line-height: 7pt;text-align: left;"><span><img width="148" height="10" alt="image" src="Docs_files/Image_383.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="14" height="7" alt="image" src="Docs_files/Image_384.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="245" height="142" alt="image" src="Docs_files/Image_385.png"/></span></p><p class="s263" style="padding-left: 6pt;text-indent: 0pt;text-align: left;">Fig. 10 <span class="s246">Frequency histogram of maximum number of trains stopped within 20 time units</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s251" style="padding-top: 7pt;padding-left: 8pt;text-indent: 0pt;line-height: 108%;text-align: right;">first constructs deterministic under- and over-approximation monitoring PTAs for <i>ϕ</i>. Then, it puts these monitors in par- allel with a given model <i>M </i>, and applies SMC-based algo- rithms to bound the probability that <i>ϕ </i>is satisfied on <i>M </i><a href="#bookmark211" style=" color: #131413; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt;">. More recently [</a><span style=" color: #00F;">6</span>], the <i>exact </i>evaluation of whether the generated run satisfies a given weighted MITL formula is done online by constantly rewriting the formula during generation of the run. The probability of satisfying an MITL property <i>ψ </i>is esti-</p><p class="s251" style="padding-left: 6pt;text-indent: 0pt;text-align: left;">mated by Uppaal SMC using the query <span class="s260">Pr</span><i>ψ</i>, where</p><p class="s258" style="padding-top: 5pt;padding-left: 6pt;text-indent: 0pt;text-align: left;">ψ<span class="s252">:: = </span><span class="s260">BExpr</span></p><p class="s258" style="padding-top: 2pt;padding-left: 32pt;text-indent: 0pt;text-align: left;"><span class="s252">|</span>(ψ <span class="s251">&amp;&amp; </span>ψ)<span class="s252">| </span>(ψ <span class="s252">|| </span>ψ) </p><p class="s251" style="padding-top: 6pt;padding-left: 6pt;text-indent: 0pt;text-align: left;">or</p><p class="s252" style="padding-top: 5pt;padding-left: 6pt;text-indent: 0pt;text-align: left;"><span class="s260">E</span>[<span class="s258">bound</span>; <span class="s258">N </span>]<span class="s258">(</span><span class="s260">max</span>:<span class="s258">expr)</span></p><p class="s251" style="padding-top: 6pt;padding-left: 6pt;text-indent: 0pt;text-align: justify;">where <i>bound </i>is as explained in this section, <i>N </i>gives the num- ber of runs explicitly, and <i>expr </i>is the expression to evaluate. Also for these properties a confidence interval is given using the fact that measurements follow Student’s <i>t</i>-distribution (approaching Normal distribution when <i>N </i><span class="s252">→ ∞</span>).</p><p class="s258" style="padding-top: 8pt;padding-left: 6pt;text-indent: 0pt;line-height: 108%;text-align: justify;">Example 4 <span class="s251">As an interesting property of the Train Crossing example, we want to know the average of the maximum num- ber of trains that are stopped within the first 20 time units:</span></p><p class="s260" style="padding-top: 6pt;padding-left: 6pt;text-indent: 0pt;text-align: justify;">E[ <span class="s258">&lt;</span>=20; 20000]</p><p class="s260" style="padding-top: 1pt;padding-left: 12pt;text-indent: 0pt;text-align: left;">(max: sum(i : id_t) Train(i) .Stop)</p><p class="s251" style="padding-top: 7pt;padding-left: 6pt;text-indent: 0pt;text-align: justify;"><a name="bookmark145">Using the explicitly required 20.000 runs, this average is esti- mated to be in the confidence interval 3.64775 </a><span class="s252">± </span><a href="#bookmark174" style=" color: #131413; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt;">0.0126354. Right clicking gives easy access to more detailed views, e.g., the frequency histogram in Fig. </a><span style=" color: #00F;">10</span>.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s258" style="padding-left: 6pt;text-indent: 0pt;line-height: 108%;text-align: justify;">Full weighted MITL <a href="#bookmark212" style=" color: #131413; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt;">Regarding the implementation, we note that both the above statistical algorithms are trivially imple- mentable. To support the full logic of weighted MITL is slightly more complex as our simulation engine needs to rely on monitors for such logic. In [</a><span class="s305">7</span><span class="s251">], we proposed an exten- sion of Uppaal SMC that can handle arbitrary formulas of weighted MITL. Given a property </span>ϕ<span class="s251">, our implementation</span></p><p class="s260" style="padding-left: 32pt;text-indent: 0pt;line-height: 12pt;text-align: left;"><span class="s252">|</span><span class="s258">(ψ </span>U<span class="s252">[</span>a<span class="s258">, </span>b<span class="s252">] </span><span class="s258">ψ)</span><span class="s252">| </span><span class="s258">(ψ </span>R<span class="s252">[</span>a<span class="s258">, </span>b<span class="s252">] </span><span class="s258">ψ) </span></p><p class="s252" style="padding-top: 2pt;padding-left: 32pt;text-indent: 0pt;text-align: left;">|<span class="s258">(&lt;&gt;</span>[<span class="s260">a</span><span class="s258">, </span><span class="s260">b</span>] <span class="s258">ψ)</span>| <span class="s258">(</span>[][<span class="s260">a</span><span class="s258">, </span><span class="s260">b</span>] <span class="s258">ψ) </span></p><p class="s258" style="padding-top: 5pt;padding-left: 6pt;text-indent: 0pt;text-align: left;">a, b <span class="s252">∈ </span><span class="s251">N, </span>a <span class="s252">≤ </span>b <span class="s251">and </span><span class="s260">BExpr </span><span class="s251">is a Boolean expression over clocks, variables and locations.</span></p><p class="s258" style="padding-top: 9pt;padding-left: 6pt;text-indent: 0pt;text-align: left;">Example 5 <span class="s251">The following query:</span></p><p class="s260" style="padding-top: 9pt;padding-left: 6pt;text-indent: 0pt;text-align: left;">Pr( <span class="s258">&lt;&gt;</span>[10,100] ([ ][0,5] Train(0) .Stop) )</p><p class="s251" style="padding-top: 6pt;padding-left: 6pt;text-indent: 0pt;line-height: 108%;text-align: justify;">asks for the probability that <span class="s260">Train(0) </span>will stopped for at least 5 consecutive time units somewhere in the time interval <span class="s260">[10, 100]</span>. Within 738 runs <span class="s260">[0.880894, 0.980894] </span>is returned as a 95 % confidence interval indicating that this happens with a very high probability.</p><p style="text-indent: 0pt;text-align: left;"><br/></p></li></ol></li><li data-list-text="4"><p class="s249" style="padding-left: 14pt;text-indent: -8pt;text-align: justify;">Extension to hybrid systems</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s251" style="padding-left: 6pt;text-indent: 0pt;line-height: 108%;text-align: justify;">Uppaal SMC allows for statistical model checking of sto- chastic hybrid systems, i.e., extensions of (stochastic) timed automata, where the rate of clocks may be given by general expressions involving clocks, thus effectively using ODEs.</p><p class="s305" style="padding-left: 6pt;text-indent: 11pt;line-height: 108%;text-align: justify;"><a href="#bookmark175" style=" color: #131413; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt;">To illustrate the various aspects of the (extended) model- ing formalism supported by Uppaal SMC, we consider the case of two independent rooms that can be heated by a single heater shared by the two rooms, i.e., at most one room can be heated at a time. Figure </a>11<span style=" color: #131413;">a shows the automaton for the heater. It turns itself on with a uniform distribution over time</span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="202" height="114" alt="image" src="Docs_files/Image_386.png"/></span></p><p class="s264" style="text-indent: 0pt;text-align: left;">(b)</p><p style="text-indent: 0pt;text-align: left;"/><p style="text-indent: 0pt;text-align: left;"><span><img width="202" height="114" alt="image" src="Docs_files/Image_387.png"/></span></p><p class="s264" style="text-indent: 0pt;text-align: left;">(c)</p><p style="text-indent: 0pt;text-align: left;"/><p class="s264" style="padding-top: 9pt;padding-left: 46pt;text-indent: 0pt;text-align: left;">(a)</p><p style="padding-left: 39pt;text-indent: 0pt;text-align: left;"><span><img width="137" height="108" alt="image" src="Docs_files/Image_388.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s263" style="padding-left: 6pt;text-indent: 0pt;text-align: left;"><a name="bookmark175">Fig. 11 </a><span class="s246">A simple two-room example with an autonomous heater, </span>a <span class="s246">stochastic heater, </span>b <span class="s246">room 0, </span>c <span class="s246">room 1</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="20" alt="image" src="Docs_files/Image_389.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="297" height="98" alt="image" src="Docs_files/Image_390.png"/></span></p><p class="s251" style="padding-top: 4pt;padding-left: 261pt;text-indent: 0pt;line-height: 108%;text-align: justify;">Euler’s method is known to be unstable for stiffs systems thus care must taken when deciding on the discretization step size controlled in the settings of statistical parameters.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><ol id="l106"><li data-list-text="4.1"><p class="s251" style="padding-left: 276pt;text-indent: -15pt;text-align: left;"><a name="bookmark146">Floating-point support</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 126pt;text-indent: 0pt;line-height: 5pt;text-align: left;"><span><img width="17" height="6" alt="image" src="Docs_files/Image_391.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s263" style="padding-left: 6pt;text-indent: 0pt;text-align: justify;"><a name="bookmark176">Fig. 12 </a><span class="s246">Evolution of the temperatures of the two rooms (color figure online)</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s251" style="padding-left: 6pt;text-indent: 0pt;line-height: 13pt;text-align: justify;"><a name="bookmark147">in-between </a><span class="s252">[</span>0<i>, </i>4<span class="s252">] </span>time units. With probability 1<i>/</i>4 room 0 is chosen and with probability 3<i>/</i><a href="#bookmark175" style=" color: #131413; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt;">4 room 1. The heater stays on for some time given by an exponential distribution (rate 2 for room 0, rate 1 for the room 1). In summary, one may say that the controller is more eager to initiate the heating of room 1 than room 0, as well as less eager to stop heating room 1. The rooms are similar and are modeled by the same template instantiated twice as shown in Fig. </a><span style=" color: #00F;">11</span>b, c. The room is initial- ized to its initial temperature and then depending on whether the heater is turned on or not, the evolution of the temper-</p><p class="s258" style="text-indent: 0pt;line-height: 78%;text-align: left;">T <span class="s312">i</span><span class="s252"> = </span>K <span class="s252">− </span>T<span class="s300">i</span> /<span class="s251">10 </span><span class="s252">+ </span><span class="s313">L </span><span class="s314">j </span><span class="s315">=</span><span class="s316">0</span><span class="s314">,</span><span class="s316">1 </span>A<span class="s300">i,</span> <span class="s300">j</span> (T<span class="s300">j</span> <span class="s252">− </span>T<span class="s300">i</span> ) <span class="s251">where </span>i, j <span class="s252">= </span><span class="s251">0</span>, <span class="s251">1</span></p><p style="text-indent: 0pt;text-align: left;"/><p class="s282" style="text-indent: 0pt;line-height: 8pt;text-align: left;">i</p><p style="text-indent: 0pt;text-align: left;"/><p class="s258" style="padding-left: 6pt;text-indent: 0pt;line-height: 50%;text-align: justify;"><span class="s251">ature is given by </span>T <span class="s312">i</span><span class="s252"> = −</span>T<span class="s300">i</span> /<span class="s251">10 </span><span class="s252">+ </span><span class="s313">L </span><span class="s314">j </span><span class="s315">=</span><span class="s316">0</span><span class="s314">,</span><span class="s316">1 </span>A<span class="s300">i,</span> <span class="s300">j</span> (T<span class="s300">j</span> <span class="s252">− </span>T<span class="s300">i</span> ) <span class="s251">or</span></p><p class="s282" style="padding-left: 11pt;text-indent: 0pt;line-height: 8pt;text-align: left;">i</p><p class="s251" style="padding-left: 6pt;text-indent: 0pt;line-height: 11pt;text-align: justify;">are room identifiers. The sum expression corresponds to an</p><p class="s251" style="padding-left: 6pt;text-indent: 0pt;text-align: justify;">energy flow between rooms and matrix <i>A </i>encodes the energy transfer coefficient between adjacent rooms. Furthermore, when the heater is turned on, its heating is not exact and is picked with a uniform distribution of <i>K </i><span class="s252">∈ [</span>9<i>, </i>12<span class="s252">]</span>, realized by the update <span class="s260">K=9+random(3)</span>.</p><p class="s251" style="padding-left: 6pt;text-indent: 11pt;line-height: 108%;text-align: justify;">This example illustrates the support for stochastic hybrid systems in Uppaal SMC with extended arithmetic on clocks and generalized clock rates.</p><p class="s251" style="padding-left: 6pt;text-indent: 11pt;line-height: 108%;text-align: justify;">Uppaal SMC takes as input networks of stochastic hybrid automata as described above. In addition, the automata sup- port branching edges where weights can be added to give a distribution on discrete transitions. It is important to note that rates and weights may be general expressions that depend on the states and not just simple constants.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s258" style="padding-left: 6pt;text-indent: 0pt;line-height: 108%;text-align: justify;">Remark 2 <span class="s251">The  ODE  solver  implemented  within Uppaal SMC is fixed time step Euler’s integration method thus the results may be sensitive to the discretization step size.</span></p><p class="s251" style="padding-top: 4pt;padding-left: 6pt;text-indent: 0pt;line-height: 108%;text-align: justify;">The syntax has been extended to support a double precision floating-point type (<span class="s260">double</span>). This type can be used mixed with clocks for computing or storing arithmetic expressions. Its rate cannot be changed. When using floating-point types or operations in a model, the model is marked as being hybrid. For such models, model checking is disabled, unless the clocks are declared to be <span class="s260">hybrid clock </span>and these clocks nor the floating-point variables affect the control of the automata, i.e., such variables are inactive and used as costs.</p><p style="text-indent: 0pt;text-align: left;"><br/></p></li><li data-list-text="4.2"><p class="s251" style="padding-left: 21pt;text-indent: -15pt;text-align: left;">Example</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s305" style="padding-left: 6pt;text-indent: 0pt;line-height: 108%;text-align: justify;"><a href="#bookmark168" style=" color: #131413; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt;">All the new queries of Uppaal SMC described in Sect. </a>3 <span style=" color: #131413;">are available for stochastic hybrid systems. We illustrate this by a number of queries related to the two-room example from the previous section.</span></p><p class="s251" style="padding-left: 6pt;text-indent: 11pt;line-height: 108%;text-align: justify;">We can simulate and plot the temperatures of the two rooms with the query</p><p class="s252" style="padding-top: 4pt;padding-left: 6pt;text-indent: 0pt;text-align: left;"><span class="s260">simulate 1 </span>[<span class="s258">&lt;</span>= <span class="s260">600</span>] {<span class="s260">T</span>[<span class="s260">0</span>]<span class="s258">, </span><span class="s260">T</span>[<span class="s260">1</span>]}</p><p class="s251" style="padding-top: 6pt;padding-left: 6pt;text-indent: 0pt;line-height: 108%;text-align: justify;">The query request the checker to provide one simulate run over 600 time units and plot the temperatures of <span class="s260">Room(0) </span>and <span class="s260">Room(1)</span><a href="#bookmark176" style=" color: #131413; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt;">. The heater in this example is purely stochastic and is not intended to enforce any particular property. Yet, the simulation obtained from this query in Fig. </a><span style=" color: #00F;">12 </span>shows that the heater is able to maintain the temperatures within (mostly) distinct intervals.</p><p class="s251" style="padding-left: 6pt;text-indent: 11pt;line-height: 108%;text-align: justify;">We can evaluate on a shorter time scale the probability for the temperature of <span class="s260">Room(0) </span>to stay below 30 and the temperature of <span class="s260">Room(1) </span>to stay above 5 with the queries</p><p class="s260" style="padding-top: 5pt;padding-left: 6pt;text-indent: 0pt;text-align: left;">Pr[<span class="s258">&lt;</span>=100] ([ ] Room(0).Init || T[0] <span class="s258">&lt;</span>= 20)</p><p class="s260" style="padding-left: 6pt;text-indent: 0pt;text-align: left;">Pr[<span class="s258">&lt;</span>=100] ([ ] Room(1).Init || T[1] <span class="s258">&gt;</span>= 7)</p><p class="s251" style="padding-top: 5pt;padding-left: 6pt;text-indent: 0pt;text-align: justify;">The results are, respectively, in <span class="s252">[</span>0<i>.</i>45<i>, </i>0<i>.</i>55<span class="s252">] </span>and <span class="s252">[</span>0<i>.</i>65<i>, </i>0<i>.</i>75<span class="s252">]</span>. The precision and confidence of confidence intervals are user-defined (see later) and influence the number of runs</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s251" style="padding-left: 6pt;text-indent: 0pt;text-align: justify;">needed to compute the probability. In this example, for hav- ing the precision to be <span class="s252">±</span>0<i>.</i>05 and a confidence of 95 %, we needed 738 runs. In fact, if we are only interested in knowing if the second probability is above a threshold it may be more efficient to test the hypothesis</p><p class="s260" style="padding-top: 7pt;padding-left: 6pt;text-indent: 0pt;text-align: justify;">Pr[<span class="s258">&lt;</span>=100] ([ ] Room(1).Init || T[1] <span class="s258">&gt;</span>= 7)</p><p class="s258" style="padding-top: 1pt;padding-left: 12pt;text-indent: 0pt;text-align: left;">&gt;<span class="s260">= 0.69</span></p><p class="s251" style="padding-top: 7pt;padding-left: 6pt;text-indent: 0pt;text-align: justify;">which is accepted in our case with 902 runs for a level of significance of 95 %. To obtain an answer at comparable level of precision with probability evaluation, we would need to use a precision of <span class="s252">±</span>0<i>.</i>005, which would require 73778 runs instead.</p><p class="s251" style="padding-left: 6pt;text-indent: 11pt;line-height: 108%;text-align: justify;">We can test the hypothesis that the heater is better at keep- ing the temperature of <span class="s260">Room(1) </span>above 8 than keeping the tem- perature of <span class="s260">Room(0) </span>below 20 by the following comparison query:</p><p class="s260" style="padding-top: 6pt;padding-left: 136pt;text-indent: 0pt;text-align: center;">Pr[<span class="s258">&lt;</span>=100] ([ ] Room(1).Init || T[1] <span class="s258">&gt;</span>= 7) <span class="s258">&gt;</span>=</p><p class="s260" style="padding-left: 136pt;text-indent: 0pt;text-align: center;">Pr[<span class="s258">&lt;</span>=100] ([ ] Room(0).Init || T[0] <span class="s258">&lt;</span>= 20)</p><p class="s251" style="padding-top: 7pt;padding-left: 6pt;text-indent: 0pt;line-height: 108%;text-align: justify;"><a name="bookmark177">which is accepted in this case with 95 % level of significance with just 258 runs.</a></p><p class="s258" style="padding-top: 9pt;padding-left: 6pt;text-indent: 0pt;line-height: 108%;text-align: justify;"><a name="bookmark178">Remark 3 </a><a href="#bookmark232" style=" color: #131413; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt;">As it can be observed, the MITL specifications allowed in Uppaal SMC are bounded properties. That is specifications only depend on a run up to a given time-bound, step-bound or bound on some other quantity defined in the model. Thus, specifications only express properties of tran- sient behavior of systems, and may or may not be indicative of safety of a deployed system in steady operational state, depending on how long the system takes to settle. However, given knowledge of the size of the model, estimation of prob- ability of unbounded properties may be obtained from the observation of finite runs as shown in [</a><span class="s305">39</span><span class="s251">].</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p></li></ol></li><li data-list-text="5"><p class="s249" style="padding-left: 14pt;text-indent: -8pt;text-align: justify;"><a name="bookmark148">Extension to dynamic creation of processes</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s251" style="padding-left: 6pt;text-indent: 0pt;line-height: 108%;text-align: justify;">An underlying assumption of networks of timed automata is that computer systems are statically encoded. This is how- ever not reality. Instead, systems are composed of a number of threads/processes that interact and capable of spawning other processes/threads. Modeling such dynamic systems in standard Uppaal requires the modeler to model an underly- ing resource manager. In addition, the model would consist of a large number of components in an inactive state avail- able for the resource manager to “start” whenever a spawn request was made in the model. A necessary assumption for modeling this resource manager is thus that the maximum number of spawned threads during any execution is known in advance (or can be safely over-approximated). This does not only make modeling tedious but also affects analysis time. Uppaal SMC supports instantiating dynamic processes out</p><p class="s317" style="padding-top: 9pt;padding-left: 39pt;text-indent: 0pt;text-align: left;">(a)            <span class="s264">(b)</span></p><p style="padding-left: 39pt;text-indent: 0pt;text-align: left;"><span><img width="128" height="162" alt="image" src="Docs_files/Image_392.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="85" height="166" alt="image" src="Docs_files/Image_393.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="114" height="9" alt="image" src="Docs_files/Image_394.png"/></span></p><p class="s264" style="padding-left: 67pt;text-indent: 0pt;text-align: left;">(c)</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 100pt;text-indent: 0pt;text-align: left;"><span><img width="66" height="45" alt="image" src="Docs_files/Image_395.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 120pt;text-indent: 0pt;line-height: 5pt;text-align: left;"><span><img width="21" height="7" alt="image" src="Docs_files/Image_396.png"/></span></p><p class="s263" style="padding-top: 9pt;padding-left: 6pt;text-indent: 0pt;text-align: justify;">Fig. 13 <span class="s246">Modeling a server with dynamic spawning, </span>a <span class="s246">server, </span>b <span class="s246">client,</span></p><p class="s263" style="padding-left: 6pt;text-indent: 0pt;text-align: justify;">c <span class="s246">clientSpawner</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 8pt;text-indent: 0pt;text-align: left;"><span><img width="311" height="106" alt="image" src="Docs_files/Image_397.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 120pt;text-indent: 0pt;line-height: 4pt;text-align: left;"><span><img width="15" height="5" alt="image" src="Docs_files/Image_398.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s273" style="padding-left: 6pt;text-indent: 0pt;text-align: justify;"><span class="s263">Fig. 14 </span><span class="s246">Plot of the number of waiting clients and total num- ber of clients. The plot was obtained with the query </span>simulate <span class="s246">1</span><span class="s255">[</span><span class="s269">&lt;</span><span class="s255">= </span><span class="s246">100</span><span class="s255">]{</span>numOf<span class="s269">(</span>Client<span class="s269">), </span>sum <span class="s269">(</span>c <span class="s255">: </span>Client<span class="s269">)(</span>c<span class="s269">.</span>Wait<span class="s269">)</span><span class="s255">}  </span><span class="s246">(color  figure online)</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s251" style="padding-left: 8pt;text-indent: 0pt;line-height: 108%;text-align: right;"><a href="#bookmark177" style=" color: #131413; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt;">of the box. Any automata in the system can spawn instances of templates of the model that has been declared to be spawn- able. Dynamically created instances act within the system as the static instances with the exception that they at any time may terminate, and thus remove themselves from the system. In Fig. </a><span style=" color: #00F;">13 </span><a href="#bookmark177" style=" color: #131413; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt;">is a high-level model of a client–server architec- ture. The model consists of a number of servers (10), shown in Fig. </a><span style=" color: #00F;">13</span>a, that listens on all possible input channels <span class="s260">req</span>. When a request arrives all the servers will “race” to acknowledge the connection over the channel <span class="s260">ack[c]</span>. The winner will proceed to communicate with the client (we abstract from this part), while the others return to their listening state. When a client has finished communication with the server it will terminate the connection by synchronizing on <span class="s260">term[c]</span>. Afterwards, the</p><p class="s251" style="padding-left: 6pt;text-indent: 0pt;text-align: justify;">server returns to its listening state.</p><p class="s251" style="padding-left: 6pt;text-indent: 11pt;line-height: 108%;text-align: justify;"><a href="#bookmark177" style=" color: #131413; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt;">In Fig. </a><span style=" color: #00F;">13</span>b, we show the client side of the model. A client is given an <span class="s260">id </span>when spawned which tells it what channel to connect on (<span class="s260">req[id]</span>). A client is first attempting to get a con- nection, then it awaits an acknowledgment from a server and then do some work taking less than ten time units. Finally,</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="5" height="17" alt="image" src="Docs_files/Image_399.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="303" height="129" alt="image" src="Docs_files/Image_400.png"/></span></p><p class="s251" style="padding-top: 4pt;padding-left: 261pt;text-indent: 11pt;line-height: 108%;text-align: justify;">A spawnable template can tear itself down during a transi- tion. This is expressed by adding the <span class="s318">exit</span><span class="s260">() </span>expression to the update of an edge.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s251" style="padding-left: 261pt;text-indent: 0pt;text-align: left;"><a name="bookmark150">5.2 Extensions for queries</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 122pt;text-indent: 0pt;line-height: 4pt;text-align: left;"><span><img width="15" height="5" alt="image" src="Docs_files/Image_401.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s263" style="padding-left: 6pt;text-indent: 0pt;text-align: justify;"><a name="bookmark179">Fig. 15 </a><span class="s246">Plot showing the life span of each client in the server example (color figure online)</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s251" style="padding-top: 5pt;padding-left: 6pt;text-indent: 0pt;line-height: 108%;text-align: justify;">it disconnects from the server by synchronizing on <span class="s260">term[id] </span>and at the same time tears itself down using the <span class="s318">exit</span><span class="s260">() </span>con- struction.</p><p class="s251" style="padding-left: 6pt;text-indent: 11pt;line-height: 108%;text-align: justify;"><a href="#bookmark177" style=" color: #131413; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt;">Clients are spawned by the template in Fig. </a><span style=" color: #00F;">13</span>c using the <span class="s319">spawn </span><span class="s260">Client(next++) </span>update. This instantiates a client and passes the value of <span class="s260">next </span>as a parameter to the client which binds that value to its own local variable id.</p><p class="s258" style="padding-top: 9pt;padding-left: 6pt;text-indent: 0pt;line-height: 108%;text-align: justify;">Remark 4 <a href="#bookmark177" style=" color: #131413; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt;">We realize that the template in Fig. </a><span class="s305">13</span><span class="s251">c may cre- ate an unbounded number of clients, whereas the number of communication channels are bounded. For our particular use this is not a problem as we know the number of spawned clients will not exceed the number of communication chan- nels within the time limit we work with in our queries.</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><ol id="l107"><li data-list-text="5.1"><p class="s251" style="padding-left: 21pt;text-indent: -15pt;text-align: justify;"><a name="bookmark149">Syntax in Uppaal SMC</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s251" style="padding-left: 6pt;text-indent: 0pt;line-height: 108%;text-align: justify;">A template that will be dynamically spawned must be declared as a <i>dynamic </i>template. This is done in the global declaration of the Uppaal model using the <span class="s260">dynamic </span>keyword. The declaration for the <span class="s260">Client </span>template would for instance be <span class="s260">dynamic Client (int id)</span>. The template takes one parame- ter <span class="s260">id</span>. Parameters to spawnable templates are restricted to be pass-by-value parameters or a reference to a broadcast channel. The reasoning behind this restriction is that tem- plates may cease to exist—invalidating any references to its local variables that it could have passed on to spawned templates.</p><p class="s251" style="padding-left: 6pt;text-indent: 11pt;line-height: 108%;text-align: justify;">The actual behavior of a spawnable template is defined as usual in the editor. Note, however, that there must be a corre- spondence between the parameters defined in the dynamic declaration and the definition. In the <span class="s260">Client </span>example this means that the parameters both in the dynamic declaration and the definition must be <span class="s260">int id</span>.</p><p class="s251" style="padding-left: 6pt;text-indent: 11pt;line-height: 108%;text-align: justify;">Spawnable templates may be spawned by any template during a transition using the <span class="s319">spawn </span>keyword. For instance, adding <span class="s319">spawn </span><span class="s260">Client (2) </span>to the update expression of an edge will spawn an instance of the template <span class="s260">Client </span>with parameter</p><ol id="l108"><li data-list-text="2."><p class="s251" style="padding-left: 6pt;text-indent: 0pt;line-height: 108%;text-align: justify;">Obviously, there must be parameter compatibility between the actual and the formal parameters.</p></li></ol><p class="s251" style="padding-top: 4pt;padding-left: 6pt;text-indent: 0pt;line-height: 108%;text-align: justify;">Having extended the modeling language of Uppaal SMC to allow dynamically spawning templates, we also need an extended specification formalism.</p><p class="s305" style="padding-left: 6pt;text-indent: 11pt;line-height: 108%;text-align: justify;"><a href="#bookmark168" style=" color: #131413; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt;">For the statically defined components specifications are made as described in Sect. </a>3<span style=" color: #131413;">. For the dynamically created components of the system three additional constructions are available:</span></p><p class="s260" style="padding-top: 1pt;padding-left: 6pt;text-indent: 0pt;line-height: 114%;text-align: left;">forall <span class="s258">(</span>i <span class="s252">: </span>T<span class="s258">) (</span>q<span class="s258">), </span>exists <span class="s258">(</span>i <span class="s252">: </span>T<span class="s258">) (</span>q<span class="s258">) </span><span class="s251">and </span>sum <span class="s258">(</span>i <span class="s252">: </span>T<span class="s258">) (</span>a<span class="s258">),</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s251" style="padding-left: 6pt;text-indent: 0pt;text-align: justify;">that may be used anywhere in a specification.</p><p class="s251" style="padding-left: 6pt;text-indent: 11pt;line-height: 108%;text-align: justify;">The predicate <span class="s260">forall (i : T) ( q ) </span>asserts that <span class="s260">q </span>is true for all the dynamically created instances of <span class="s260">T</span>. The name <span class="s260">i </span>may be used anywhere in <span class="s260">q </span>to refer to the variables of the instances of <span class="s260">T</span>, i.e., the name <span class="s260">i </span>is temporally bound to the instances of <span class="s260">T </span>while evaluating <span class="s260">q</span>. The construct <span class="s260">exists (i : T) ( q ) </span>is the dual of <span class="s260">forall</span>.</p><p class="s251" style="padding-top: 9pt;padding-left: 6pt;text-indent: 0pt;line-height: 108%;text-align: justify;"><i>Example 6 </i>Returning to the server example from before, we may consider the probability that a client is not served for 5 time units, i.e., that it is working in the <span class="s260">Wait </span>location for 5 time units. In the extended specification formalism this can be checked using the query:</p><p class="s260" style="padding-top: 6pt;padding-left: 12pt;text-indent: -6pt;line-height: 114%;text-align: left;">Pr(<span class="s258">&lt;&gt;</span>[0,20] (exists (c : Client) (([ ][0,5]c.Wait)))) </p><p class="s260" style="padding-top: 3pt;padding-left: 6pt;text-indent: 11pt;text-align: justify;"><span class="s251">The expression </span>sum <span class="s258">(</span>i <span class="s252">: </span>T<span class="s258">) (</span>a<span class="s258">) </span><span class="s251">can be used in arithmetic expressions and simply evaluates </span>a <span class="s251">for all the instances of </span>T<span class="s251">. In the Server example, we can for instance count the number of clients that are waiting for a connection with the expression </span>sum <span class="s258">(</span>c <span class="s252">: </span>Client<span class="s258">) (</span>c<span class="s258">.</span>Wait<span class="s258">)</span><span class="s251">. The sum construc- tion can also be used to count the number of active clients </span>sum <span class="s258">(</span>c <span class="s252">: </span>Client<span class="s258">) (</span>1<span class="s258">)</span><span class="s251">. An optimized version of this is available as </span>numOf<span class="s258">(</span>Client<span class="s258">)</span><a href="#bookmark178" style=" color: #131413; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt;">. In Fig. </a><span class="s305">14</span><span class="s251">, we show one simulation, 100 time units long, where we observe these two expressions.</span></p><p class="s251" style="padding-left: 6pt;text-indent: 11pt;line-height: 108%;text-align: justify;">The sum operator is useful for computing aggregate data about all components of a given type but cannot give the exact value of each component. For instance, <span class="s260">sum </span>cannot be used to plot the location of each client. If this is wanted Uppaal SMC supports the query:</p><p class="s260" style="padding-top: 9pt;padding-left: 12pt;text-indent: -6pt;line-height: 114%;text-align: left;">simulate1 [<span class="s258">&lt;</span>=100] {foreach (c : Client) (3*C.id+c.Wait+2*c.Work)}</p><p class="s251" style="padding-top: 8pt;padding-left: 6pt;text-indent: 0pt;line-height: 108%;text-align: justify;">The <span class="s260">foreach </span>statement is here used to tell the plotting facility of Uppaal SMC to plot the expression</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 8pt;text-indent: 0pt;text-align: left;"><span><img width="650" height="431" alt="image" src="Docs_files/Image_402.jpg"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s263" style="padding-top: 5pt;padding-left: 6pt;text-indent: 0pt;text-align: left;">Fig. 16 <span class="s246">The concrete simulator in Uppaal</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s260" style="padding-top: 4pt;padding-left: 6pt;text-indent: 0pt;line-height: 108%;text-align: left;"><a name="bookmark180">(3*c.id+c.Wait+2*c.Work) </a><span class="s251">for each of the dynamically instances of </span>Client<a href="#bookmark179" style=" color: #131413; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt;">. The actual expression is just a smart way to obtain a “Gantt-like” chart of each client. The result of the query is shown in Fig. </a><span class="s305">15 </span><span class="s251">where each colored line correspond to a client.</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p></li></ol></li><li data-list-text="6"><p class="s249" style="padding-left: 14pt;text-indent: -8pt;text-align: left;"><a name="bookmark151">Graphical interface</a><a name="bookmark181">&zwnj;</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s305" style="padding-left: 6pt;text-indent: 0pt;line-height: 108%;text-align: justify;"><a href="#bookmark206" style=" color: #131413; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt;">We focus in this section on the main features of the inter- face related to SMC. For a more complete overview of the interface the reader is referred to [</a>4<span style=" color: #131413;">].</span></p><p class="s258" style="padding-left: 6pt;text-indent: 0pt;line-height: 108%;text-align: justify;">Overview <a href="#bookmark180" style=" color: #131413; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt;">The graphical interface of Uppaal is divided into an editor, two simulators, and a verifier. The editor serves the purpose to define the automata and declaration of vari- ables and functions. The verifier is used to specify and check different queries, and to get the results. Then there are two simulators, one is the well-known symbolic simulator that has been available in Uppaal since the birth of this interface. The second simulator is a concrete simulator that was origi- nally used in Uppaal- tiga. This simulator allows the user to simulate a system with concrete values of clocks, which is more intuitive than with the symbolic simulator. This simu- lator is shown in Fig. </a><span class="s305">16</span><span class="s251">. The choice of transition is situated</span></p><p class="s251" style="padding-top: 4pt;padding-left: 6pt;text-indent: 0pt;line-height: 108%;text-align: justify;">in the upper-left corner. The user chooses with one click a transition (vertical choice) and a delay (horizontal choice). The simulator shows the automata and a message sequence chart on the right. On the lower left corner is the trace corre- sponding to the current simulation. The central view shows the variables and the user can show and hide variables in dif- ferent scopes. In the example, only the clocks of <span class="s260">Train(2) </span>and <span class="s260">Train(4) </span>are shown.</p><p class="s260" style="padding-left: 6pt;text-indent: 11pt;line-height: 108%;text-align: justify;"><a href="#bookmark183" style=" color: #131413; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt;">The concrete simulator also supports Gantt chart visu- alization of the interactive concrete trace. Figure </a><span class="s305">17 </span><a href="#bookmark183" style=" color: #131413; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt;">shows a sample use case of Gantt chart for the train-gate exam- ple. The chart is defined in system declarations (Fig. </a><span class="s305">17</span><span class="s251">a), where each chart line is defined by a statement separated by a semicolon. Each statement consists of a line label (e.g., </span>gate <span class="s251">and </span>train<span class="s251">) and a comma-separated list of predicates imply- ing color numbers. For example, a line </span>gate <span class="s251">is painted in color #0 (red) whenever </span>Gate.Occ <span class="s251">is true and in color #1 (green) whenever </span>Gate.Free<span class="s251">. The colors are mixed when the corresponding predicates are true at the same time. It is also possible to define a chart line for a whole range of discrete val- ues at once, like the parameterized definition of </span>train(i :id_t)<span class="s251">, where the temporary variable </span>i <span class="s251">has a range of type </span>id_t<span class="s251">. For example, the first 32 colors can be rendered by the following definition: </span><b>gantt </b>{ C(i:int[0,31]): true - <span class="s258">&gt; </span>i; }<span class="s251">.</span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="225" height="115" alt="image" src="Docs_files/Image_403.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="227" height="147" alt="image" src="Docs_files/Image_404.jpg"/></span></p><p class="s264" style="padding-top: 8pt;padding-left: 10pt;text-indent: 0pt;text-align: left;">(a)</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="1" height="2" alt="image" src="Docs_files/Image_405.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="310" height="94" alt="image" src="Docs_files/Image_406.png"/></span></p><p class="s264" style="padding-left: 10pt;text-indent: 0pt;text-align: left;">(b)</p><p class="s263" style="padding-top: 4pt;padding-left: 261pt;text-indent: 0pt;text-align: left;"><a name="bookmark182">Fig. 18 </a><span class="s246">The statistical parameters from the options menu</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s263" style="padding-top: 5pt;padding-left: 6pt;text-indent: 0pt;text-align: justify;"><a name="bookmark183">Fig. 17 </a><span class="s246">Gantt chart, </span>a <span class="s246">definition in system declarations, </span>b <span class="s246">trace visu- alization in concrete simulator</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s258" style="padding-left: 6pt;text-indent: 0pt;line-height: 108%;text-align: justify;"><a name="bookmark184">SMC options </a><span class="s251">Under the menu </span>Options <span class="s251">the user can choose </span>Statistical parameters<a href="#bookmark182" style=" color: #131413; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt;">. This opens the window shown in Fig. </a><span class="s305">18</span><span class="s251">.</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><ul id="l109"><li data-list-text="–"><p class="s258" style="padding-left: 20pt;text-indent: -10pt;text-align: justify;"><span class="s252">−</span>δ <span class="s251">and </span><span class="s252">+</span>δ<span class="s251">: When testing for hypothesis of the form </span>Pr(ϕ) <span class="s252">≥ </span>θ <span class="s251">, the algorithm behind tests for two hypoth- esis. They are 1) </span>H<span class="s259">0</span><span class="s251"> </span><span class="s252">: </span>Pr(ϕ) <span class="s252">≥ </span>θ <span class="s252">+ </span>δ<span class="s302">+</span><span class="s252"> </span><span class="s251">and 2) </span>H<span class="s259">1</span><span class="s251"> </span><span class="s252">: </span>Pr(ϕ) <span class="s252">≤ </span>θ <span class="s252">− </span>δ<span class="s302">−</span><span class="s251">. These parameters define the </span>region of indifference<span class="s251">.</span></p></li><li data-list-text="–"><p class="s258" style="padding-top: 1pt;padding-left: 20pt;text-indent: -10pt;line-height: 108%;text-align: justify;">α <span class="s251">and </span>β<span class="s251">: </span>α <span class="s251">and </span>β <span class="s251">are used for hypothesis testing. The probability of accepting </span>H<span class="s259">1</span><span class="s251"> instead of </span>H<span class="s259">0</span><span class="s251"> is </span>α <span class="s251">and con- versely for </span>β<span class="s251">. In the case of probability evaluation, </span>α <span class="s251">is also used and it is then the probability to be outside the result interval of probability. For probability comparison, the use of </span>α <span class="s251">and </span>β <span class="s251">is the same as for hypothesis testing.</span></p></li><li data-list-text="–"><p class="s258" style="padding-left: 20pt;text-indent: -10pt;text-align: justify;">ε <span class="s251">is the uncertainty for probability evaluations. The tool evaluate some probability </span>μ <span class="s251">and outputs the result </span><span class="s252">[</span>μ <span class="s252">− </span>ε, μ <span class="s252">+ </span>ε<span class="s252">]</span><span class="s251">.</span></p><p class="s282" style="text-indent: 0pt;line-height: 9pt;text-align: left;">Pr(ϕ<span class="s320">2 </span>)</p><p style="text-indent: 0pt;text-align: left;"/></li><li data-list-text="–"><p class="s258" style="padding-left: 20pt;text-indent: -10pt;text-align: justify;">u<span class="s259">0</span><span class="s251"> and </span>u<span class="s259">1</span><span class="s251"> are the lower and upper bounds used in prob- ability comparison. Similarly to hypothesis testing, the algorithm tests two hypotheses: </span>H<span class="s259">0</span><span class="s251"> </span><span class="s252">: </span><u>Pr(ϕ</u><u>1</u><u>)</u> <span class="s252">≥ </span>u<span class="s259">1</span><span class="s251"> and</span></p><p class="s282" style="text-indent: 0pt;line-height: 9pt;text-align: left;">Pr(ϕ<span class="s320">2 </span>)</p><p style="text-indent: 0pt;text-align: left;"/><p class="s258" style="padding-top: 2pt;padding-left: 20pt;text-indent: 0pt;text-align: justify;">H<span class="s259">1</span><span class="s251"> </span><span class="s252">: </span><u>Pr(ϕ</u><u>1</u><u>)</u> <span class="s252">≤ </span>u<span class="s259">0</span><span class="s251">. These parameters define the region of indifference for comparing probabilities.</span></p></li><li data-list-text="–"><p class="s251" style="padding-left: 20pt;text-indent: -10pt;line-height: 108%;text-align: justify;">Histogram parameters: If the bucket width is set to a pos- itive value, its value determines the width of the bars in the histogram and the number of bars depends on the range of the obtained results. Otherwise if the bucket count is positive then the number of bars is set to this value and the width of the bars depends on the range of the obtained result. Otherwise if both parameters are set to zero (default), the number of bars in the histogram is set to the square root of the number of runs used to obtain the graph.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s263" style="padding-left: 6pt;text-indent: 0pt;text-align: justify;">Fig. 19 <span class="s246">Visual data comparison in the plot composer</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="310" height="108" alt="image" src="Docs_files/Image_407.jpg"/></span></p></li><li data-list-text="–"><p class="s251" style="padding-left: 20pt;text-indent: -10pt;line-height: 108%;text-align: justify;">Trace resolution: When computing a simulation using the <span class="s260">simulate </span>query, the tool filters out the data on-the-fly and retains points that are distinguishable w.r.t. a certain reso- lution when plotted on a screen. This parameter controls the maximum width of the plot in pixels.</p></li><li data-list-text="–"><p class="s251" style="padding-left: 20pt;text-indent: -10pt;line-height: 108%;text-align: justify;">Discretization step: This is used for integration when ODEs are used in the model. We note that defining rates as constants does not qualify as ODE, but having <span class="s260">x’==y </span>does.</p></li></ul><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s258" style="padding-left: 6pt;text-indent: 0pt;line-height: 108%;text-align: justify;">Plotting and composing <span class="s251">Most of SMC queries also provide quick result visualization in a form of data plots accessible in the Verifier by right clicking on a selected property and choosing one of the available plots from a pop-up menu. Sim- ulation queries display all the requested trajectories in one plot with different colors assigned to various expressions. Statistical queries result in a number of different histograms showing the data scattered along time, cost or discrete transi- tions horizontal axis. The displayed plot elements (like title, legend, transparency, comments and logarithmic scale) can be customized by right clicking on the plot and choosing appropriate items from a pop-up menu. The plotted data can be exported as either a picture or a text file using the same plot pop-up menu. The size of the exported plot can be cus- tomized by resizing the plot window. Note that larger window will result in smaller fonts when rescaled for inclusion into a document, so smaller window will result in fewer details but clearer picture with larger fonts. The dark-colored areas are printer-friendlier when the plot is brightened by choosing Areas/Bright in the plot pop-up menu.</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="89" height="31" alt="image" src="Docs_files/Image_408.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="7" height="7" alt="image" src="Docs_files/Image_409.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="5" height="7" alt="image" src="Docs_files/Image_410.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="191" height="79" alt="image" src="Docs_files/Image_411.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="87" height="17" alt="image" src="Docs_files/Image_412.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="8" height="7" alt="image" src="Docs_files/Image_413.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="265" height="77" alt="image" src="Docs_files/Image_414.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="7" alt="image" src="Docs_files/Image_415.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="5" height="7" alt="image" src="Docs_files/Image_416.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="78" height="19" alt="image" src="Docs_files/Image_417.png"/></span></p><p class="s322" style="text-indent: 0pt;line-height: 17pt;text-align: left;">⇓</p><p style="text-indent: 0pt;text-align: left;"/><p class="s251" style="padding-top: 4pt;padding-left: 6pt;text-indent: 11pt;line-height: 108%;text-align: justify;"><a href="#bookmark184" style=" color: #131413; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt;">Different data can also be contrasted and compared in one plot using the Plot Composer from the Tools menu. Figure </a><span style=" color: #00F;">19 </span>shows a sample Plot Composer window with data from sev- eral verifications already loaded. The bottom panel on the right shows the resulting plot and the data is organized in the tree on the left. Each verification data is appended to the tree to its corresponding query. For example, <span class="s260">simulate </span>query has been checked four times and each result contains one plot with two datasets. The data can be added to the composite plot by ticking its checkbox and its drawing properties can be customized in the top-right panel when it is selected in the tree. For example <span class="s260">E2 </span>and <span class="s260">E4 </span><a href="#bookmark184" style=" color: #131413; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt;">are ticked in Fig. </a><span style=" color: #00F;">19 </span>and <span class="s260">E2 </span>is selected and drawing properties can be changed. The main plot attributes like the title and the labels of both axis can be changed by selecting the root node and changing its properties in the upper panel on the right. It is also possible to edit several composite plots at the same time by invoking Plot Composer several times from the Tools menu.</p><p style="text-indent: 0pt;text-align: left;"><br/></p></li><li data-list-text="7"><p class="s249" style="padding-top: 5pt;padding-left: 14pt;text-indent: -8pt;text-align: justify;"><a name="bookmark152">Modeling tricks</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><ol id="l110"><li data-list-text="7.1"><p class="s251" style="padding-left: 21pt;text-indent: -15pt;line-height: 108%;text-align: left;"><a name="bookmark153">How to convert channel synchronizations into broadcast synchronizations</a><a name="bookmark185">&zwnj;</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s258" style="padding-left: 6pt;text-indent: 0pt;line-height: 108%;text-align: justify;">Problem <a href="#bookmark162" style=" color: #131413; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt;">It is common that a user wants to analyze per- formance of a given model previously model checked with Uppaal. This model may contain ordinary channel synchro- nizations that work by hand shake. The problem is that the SMC extension does not support them as explained in Sect. </a><span class="s305">2</span><span class="s251">. Here, we present a translation to convert these models so that they can be analyzed by Uppaal SMC.</span></p><p class="s258" style="padding-left: 6pt;text-indent: 0pt;line-height: 108%;text-align: justify;">Translation <span class="s251">We distinguish three cases: the basic simple one- to-one synchronization, the one-to-any synchronization, and a problematic case.</span></p><p class="s251" style="padding-left: 6pt;text-indent: 11pt;line-height: 108%;text-align: justify;"><a href="#bookmark185" style=" color: #131413; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt;">The common simple case is of one process synchroniz- ing with exactly one other process on a channel as shown in Fig. </a><span style=" color: #00F;">20</span>. The sender in state <span class="s260">A </span>may have an invariant or not. The receiver in state <span class="s260">Loc2 </span>does <i>not </i>have an invariant. The synchronization may be guarded by, resp. <span class="s260">g1() </span>and <span class="s260">g2()</span>, for resp. the sender and the receiver. To convert this model, the user should redeclare the channel <span class="s260">a </span><a href="#bookmark186" style=" color: #131413; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt;">as broadcast, move the guard of the receiver to the sender,</a><span style=" color: #00F; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 6.5pt; vertical-align: 3pt;">2</span> and make the actual loca- tion visible from the sender using a simple encoding with the extra integer variable <span class="s260">recvLoc</span>. Other encodings may be used, e.g., with booleans, but the integer presents the advantage to keep the translation of several synchronizations simple. The integer allows the user to map each location to a unique value that is used by the sender to allow the synchronization only in the right state. The example illustrates the update of this</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 6pt;text-indent: 0pt;line-height: 1pt;text-align: left;"><span><img width="68" height="1" alt="image" src="Docs_files/Image_418.png"/></span></p><p class="s306" style="padding-left: 6pt;text-indent: 0pt;text-align: left;"><a name="bookmark186">2 </a><span class="s275">This may require moving local variables to the global scope to make the state visible.</span></p><p class="s263" style="padding-top: 6pt;padding-left: 6pt;text-indent: 0pt;text-align: left;">Fig. 20 <span class="s246">Basic case of a one-to-one channel synchronization and its translation to a broadcast channel synchronization</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s251" style="padding-top: 6pt;padding-left: 6pt;text-indent: 0pt;text-align: left;">variable for some other peripheral locations <span class="s260">Loc0</span>, <span class="s260">Loc1</span>, and</p><p class="s260" style="padding-top: 1pt;padding-left: 6pt;text-indent: 0pt;text-align: left;">Loc4<span class="s251">.</span></p><p class="s251" style="padding-left: 6pt;text-indent: 11pt;line-height: 108%;text-align: justify;"><a href="#bookmark187" style=" color: #131413; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt;">The second more general case is of one process synchro- nizing with one process out of several ones. There is a choice of one-to-any synchronization shown in Fig. </a><span style=" color: #00F;">21</span>. Here as well, the receiver is in a location without invariants. In this case, the same principle as the simple case is used with in addition a renaming of the channel. The initial transition in the sender has a copy with a unique channel name for each possible synchronization that is possible in the original model. Each copy uses the right associated guard and looks up the state of the right process. In the example, we illustrate with the use of an array a generic encoding where there would be several instances of the same template for the receiver. If the guards <span class="s260">g2() </span>and <span class="s260">g3() </span>are generic or depend on some <span class="s260">id </span>used to instan- tiate the receivers, the <i>select </i>construct can be used, in which case the original transition is not copied and the channel <span class="s260">a </span>is renamed as <span class="s260">a[id] </span>with an array.</p><p class="s251" style="padding-left: 6pt;text-indent: 11pt;line-height: 108%;text-align: justify;"><a href="#bookmark190" style=" color: #131413; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt;">The last case is the problematic one where a receiver has an invariant as shown in Fig. </a><span style=" color: #00F;">22</span>. Any translation of this model will violate the independent progress condition because here a receiver would force another sender process to synchro- nize. Not synchronizing would result in a deadlock. We note that if there is an output from that location, i.e., some <span class="s260">b! </span>syn- chronization, then there is no problem.</p><p class="s251" style="padding-left: 6pt;text-indent: 11pt;line-height: 108%;text-align: justify;">The last technical detail to take care of is to add expo- nential rates to the locations without invariants and that have output synchronizations (or <i>tau </i>transitions). This is the rate of the exponential distribution used for picking delays.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="21" height="7" alt="image" src="Docs_files/Image_419.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="21" height="7" alt="image" src="Docs_files/Image_420.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="87" height="30" alt="image" src="Docs_files/Image_421.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="21" height="7" alt="image" src="Docs_files/Image_422.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="87" height="30" alt="image" src="Docs_files/Image_423.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="21" height="7" alt="image" src="Docs_files/Image_424.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="87" height="30" alt="image" src="Docs_files/Image_425.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="5" height="7" alt="image" src="Docs_files/Image_426.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="7" alt="image" src="Docs_files/Image_427.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="167" height="107" alt="image" src="Docs_files/Image_428.png"/></span></p><p class="s323" style="padding-left: 2pt;text-indent: 0pt;text-align: center;">⇓</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 86pt;text-indent: 0pt;text-align: left;"><span><img width="104" height="78" alt="image" src="Docs_files/Image_429.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 82pt;text-indent: 0pt;text-align: left;"><span><img width="114" height="30" alt="image" src="Docs_files/Image_430.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 82pt;text-indent: 0pt;text-align: left;"><span><img width="114" height="30" alt="image" src="Docs_files/Image_431.png"/></span></p><p class="s263" style="padding-top: 9pt;padding-left: 6pt;text-indent: 0pt;text-align: left;"><a name="bookmark187">Fig. 21 </a><span class="s246">Extended case of a one-to-any channel synchronization (only two here) and its translation to a broadcast channel synchronization</span><a name="bookmark188">&zwnj;</a><a name="bookmark189">&zwnj;</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="106" height="27" alt="image" src="Docs_files/Image_432.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="23" height="8" alt="image" src="Docs_files/Image_433.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="23" height="8" alt="image" src="Docs_files/Image_434.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="11" height="8" alt="image" src="Docs_files/Image_435.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="6" height="8" alt="image" src="Docs_files/Image_436.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="97" height="21" alt="image" src="Docs_files/Image_437.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="7" height="8" alt="image" src="Docs_files/Image_438.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="9" height="8" alt="image" src="Docs_files/Image_439.png"/></span></p><p class="s263" style="padding-left: 6pt;text-indent: 0pt;text-align: left;"><a name="bookmark190">Fig. 22 </a><span class="s246">Problematic case where the translation to broadcast channel is not possible</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p></li><li data-list-text="7.2"><p class="s251" style="padding-top: 6pt;padding-left: 21pt;text-indent: -15pt;text-align: left;"><a name="bookmark154">How to encode custom distributions</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s258" style="padding-left: 6pt;text-indent: 0pt;line-height: 108%;text-align: justify;">Problem <a href="#bookmark165" style=" color: #131413; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt;">Sometimes, the default uniform or exponential dis- tributions available in Uppaal SMC are not enough. The user needs a simple way to encode any distribution into the model to generalize the ones illustrated in Fig. </a><span class="s305">2</span><span class="s251">.</span></p><p class="s260" style="padding-top: 7pt;padding-left: 6pt;text-indent: 0pt;line-height: 13pt;text-align: justify;"><span class="s258">Encoding </span><a href="#bookmark188" style=" color: #131413; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt;">The pattern for encoding general distributions is given in Fig. </a><span class="s305">23</span><span class="s251">. The principle is that upon entry of a given location </span>Wait <span class="s251">where the actual custom delay is to take place, the actual delay is computed and stored into a clock </span>delay<span class="s251">. The function </span>f() <span class="s251">that computes this delay returns a floating- point value of type </span>double<span class="s251">. The automaton will then delay for this amount and take the transition. The location </span>Wait <span class="s251">has its invariant set to </span>x <span class="s258">&lt;</span><span class="s252">= </span>delay <span class="s258">and </span>delay’==0<span class="s251">. The clock </span>delay <a href="#bookmark220" style=" color: #131413; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt;">is used here only for storage. This technique is similar to the one used for computing stochastic simulations in Modest [</a><span class="s305">27</span><span class="s251">].</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s251" style="padding-left: 6pt;text-indent: 0pt;text-align: justify;"><a name="bookmark155"><i>Implementation of f() </i></a>The function that computes the delay may use the <span class="s318">random</span><span class="s260">(n) </span>function with <span class="s260">n </span>being a floating-point value. The function returns a number in <span class="s252">[</span>0<i>, n</i><span class="s252">[ </span>with a uni-</p><p class="s263" style="padding-top: 5pt;padding-left: 6pt;text-indent: 0pt;text-align: left;">Fig. 23 <span class="s246">Result from modeling a Gaussian distribution</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s324" style="padding-left: 8pt;text-indent: 0pt;text-align: left;"><span><img width="8" height="81" alt="image" src="Docs_files/Image_440.png"/></span> <span><img width="296" height="86" alt="image" src="Docs_files/Image_441.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 96pt;text-indent: 0pt;line-height: 5pt;text-align: left;"><span><img width="86" height="7" alt="image" src="Docs_files/Image_442.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s263" style="padding-left: 6pt;text-indent: 0pt;text-align: left;">Fig. 24 <span class="s246">Pattern for custom delay distributions</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s251" style="padding-left: 6pt;text-indent: 0pt;line-height: 108%;text-align: justify;">form distribution. This can then be transformed to return a delay with another distribution. We note that the func- tion may keep a state as well, by storing what it wants into global variables (also of type <span class="s260">double</span>), which allows the encoding of virtually any distribution. For example, to generate random numbers according to a normal distribu- tion using the Box-Müller method, we can use the following function:</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 25pt;text-indent: 0pt;text-align: left;"><span><img width="265" height="104" alt="image" src="Docs_files/Image_443.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 33pt;text-indent: 0pt;line-height: 7pt;text-align: left;"><span><img width="235" height="10" alt="image" src="Docs_files/Image_444.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s305" style="padding-left: 6pt;text-indent: 0pt;line-height: 108%;text-align: justify;"><a href="#bookmark189" style=" color: #131413; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt;">The distribution obtained is shown in Fig. </a>24 <span style=" color: #131413;">together with the parameters used.</span></p><p class="s251" style="padding-top: 8pt;padding-left: 6pt;text-indent: 0pt;line-height: 108%;text-align: justify;"><i>Remark </i>The reader may wonder why the pattern proposes to use a clock for the variable <span class="s260">delay </span>instead of a variable of type <span class="s260">double</span>. In fact, it is possible to use <span class="s260">double</span>, which saves the trouble of setting its rate to 0. However, the performance of the model checker may drop. In its current implementation, Uppaal SMC uses a fined-grained discretization if guards or invariants contain a “general” floating-point expression. The syntax analyzer will not recognize that the discretization is not needed in this case. Using clocks alleviates the problem.</p><p style="text-indent: 0pt;text-align: left;"><br/></p></li><li data-list-text="7.3"><p class="s251" style="padding-left: 21pt;text-indent: -15pt;text-align: left;">How to model physics</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s258" style="padding-left: 6pt;text-indent: 0pt;line-height: 108%;text-align: justify;">Problem <span class="s251">The formalism of Uppaal SMC is stochastic hybrid automata so modeling physics is a simple matter of writing</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s251" style="padding-top: 4pt;padding-left: 6pt;text-indent: 0pt;line-height: 108%;text-align: justify;">the ODEs in the model. However, only first-degree deriva- tives are allowed.</p><p class="s251" style="padding-top: 8pt;padding-left: 6pt;text-indent: 0pt;line-height: 108%;text-align: justify;"><i>Modeling </i>To model an n-degree derivative, the user should use a clock variable for every intermediate derivative. This is standard renaming technique used in other tools, e.g., Matlab. For example, instead of modeling <span class="s260">y’’==-9.81 </span>for a falling object, the user should declare <span class="s260">y’==v and v’==-9.81</span>. Using different clocks or arithmetic expressions mixing <span class="s260">dou- ble </span>typed variables is also supported.</p><p style="text-indent: 0pt;text-align: left;"><br/></p></li><li data-list-text="7.4"><p class="s251" style="padding-left: 21pt;text-indent: -15pt;text-align: left;"><a name="bookmark156">How to model biochemistry</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 6pt;text-indent: 0pt;text-align: left;"><span><img width="72" height="69" alt="image" src="Docs_files/Image_445.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="309" height="36" alt="image" src="Docs_files/Image_446.png"/></span></p><p class="s325" style="padding-top: 8pt;padding-left: 136pt;text-indent: 0pt;text-align: center;">(b)</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s325" style="padding-left: 20pt;text-indent: 0pt;text-align: left;">(a)</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 6pt;text-indent: 0pt;text-align: left;"><span><img width="7" height="26" alt="image" src="Docs_files/Image_447.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 1pt;text-indent: 0pt;line-height: 7pt;text-align: left;"><span><img width="71" height="9" alt="image" src="Docs_files/Image_448.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 45pt;text-indent: 0pt;line-height: 6pt;text-align: left;"><span><img width="21" height="8" alt="image" src="Docs_files/Image_449.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="207" height="103" alt="image" src="Docs_files/Image_450.png"/></span></p><p class="s325" style="padding-top: 3pt;padding-left: 45pt;text-indent: 0pt;text-align: left;">(c)</p><p class="s258" style="padding-top: 2pt;padding-left: 6pt;text-indent: 0pt;line-height: 108%;text-align: justify;"><a name="bookmark191">Problem </a><span class="s251">Cyber-physical systems may involve chemical and even biological processes and hence there is a need to eval- uate the performance of control systems in such a context. Suppose the reaction involves a mixed solution of materials </span>A <span class="s251">and </span>B <span class="s251">and produce </span>C <span class="s251">and </span>D <span class="s251">with reaction speed of </span>γ <span class="s251">:</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s263" style="padding-left: 6pt;text-indent: 0pt;text-align: left;">Fig. 25 <span class="s246">Stochastic model and its behavior, </span>a <span class="s246">declarations, </span>b <span class="s246">automa- ton, </span>c <span class="s246">simulation (color figure online)</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="308" height="58" alt="image" src="Docs_files/Image_451.png"/></span></p><p class="s325" style="padding-left: 11pt;text-indent: 0pt;text-align: left;">(a)</p><p class="s252" style="text-indent: 0pt;line-height: 10pt;text-align: left;">−→</p><p style="text-indent: 0pt;text-align: left;"/><p class="s258" style="padding-top: 5pt;padding-left: 7pt;text-indent: 0pt;text-align: left;">A <span class="s252">+ </span><span class="s251">2</span>B <span class="s326">γ</span></p><p class="s258" style="padding-top: 8pt;padding-left: 7pt;text-indent: 0pt;text-align: left;">C <span class="s252">+ </span><span class="s251">3</span>D</p><p class="s251" style="padding-top: 8pt;padding-left: 6pt;text-indent: 0pt;line-height: 108%;text-align: justify;">Here, we show how this reaction can be modeled as either probabilistic or dynamical system. The containment of reac- tions and other interactions can be modeled by adding addi- tional locations, edges and channel synchronizations.</p><p class="s251" style="padding-top: 8pt;padding-left: 6pt;text-indent: 0pt;line-height: 108%;text-align: justify;"><i>Stochastic model </i><a href="#bookmark191" style=" color: #131413; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt;">Figure </a><span style=" color: #00F;">25 </span>shows a stochastic model of the reaction and its behavior. The discrete quantities (molecules) of the materials involved are counted by the correspond- ing integers <span class="s260">A</span>, <span class="s260">B</span>, <span class="s260">C </span>and <span class="s260">D</span>. The reaction rate is represented by the double precision floating-point variable <span class="s260">gamma</span><a href="#bookmark191" style=" color: #131413; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt;">. The automaton in Fig. </a><span style=" color: #00F;">25</span>b captures the interaction between chem- icals <i>A </i>and <i>B </i>in the following way:</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s325" style="padding-left: 8pt;text-indent: 0pt;text-align: left;">(b)</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 6pt;text-indent: 0pt;text-align: left;"><span><img width="82" height="63" alt="image" src="Docs_files/Image_452.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s325" style="padding-left: 4pt;text-indent: 0pt;text-align: left;">(c)</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 4pt;text-indent: 0pt;text-align: left;"><span><img width="7" height="25" alt="image" src="Docs_files/Image_453.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 80pt;text-indent: 0pt;line-height: 6pt;text-align: left;"><span><img width="21" height="7" alt="image" src="Docs_files/Image_454.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="205" height="128" alt="image" src="Docs_files/Image_455.png"/></span></p><ul id="l111"><li data-list-text="–"><p class="s251" style="padding-left: 20pt;text-indent: -10pt;line-height: 108%;text-align: justify;"><a name="bookmark192">The automaton takes a discrete transition when the reac- tion happens.</a></p></li><li data-list-text="–"><p class="s251" style="padding-left: 20pt;text-indent: -10pt;line-height: 108%;text-align: justify;">The reaction requires at least one molecule of <i>A </i>and at least two molecules of <i>B</i>, hence the edge is guarded by an expression <span class="s260">A </span><i>&gt; </i><span class="s260">0</span>&amp;&amp;<span class="s260">B </span><i>&gt; </i><span class="s260">1</span>.</p></li><li data-list-text="–"><p class="s251" style="padding-left: 20pt;text-indent: -10pt;line-height: 108%;text-align: justify;">Each reaction consumes <i>A </i>and 2<i>B </i>and produces <i>C </i>and 3<i>D</i>, hence the edge has the update <span class="s260">A--, B-=2, C++, D+=3</span>.</p></li><li data-list-text="–"><p class="s251" style="padding-left: 20pt;text-indent: -10pt;line-height: 108%;text-align: justify;">In a well-mixed (homogeneous) compound the probabil- ity of a reaction is proportional to its speed <i>γ </i>and the probability of meeting the required three molecules ( <i>A</i>, <i>B </i>and another <i>B</i>) in one place. The probability of reaction remains the same as long as the conditions (quantities and temperature) do not change, hence the reaction is a Pois- son process and the delay until the next reaction follows</p></li></ul><p class="s260" style="padding-left: 20pt;text-indent: 0pt;line-height: 12pt;text-align: justify;"><span class="s251">an exponential distribution with the rate </span>gamma<span class="s252">∗</span>A<span class="s252">∗</span>B<span class="s252">∗</span>B<span class="s251">.</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s260" style="padding-left: 6pt;text-indent: 0pt;text-align: justify;"><span class="s251">If there are more reactions, then they have to be modeled by another parallel process. The trajectory of the quantities can  be  inspected  by  the  following  query: </span>simulate 1<span class="s252">[</span><span class="s258">&lt;</span><span class="s252">= </span>5<span class="s252">]{</span>A<span class="s258">, </span>B<span class="s258">, </span>C<span class="s258">, </span>D<span class="s252">}</span><span class="s251">. The resulting plot is shown</span></p><p class="s263" style="padding-left: 6pt;text-indent: 0pt;text-align: justify;">Fig. 26 <span class="s246">Scaled stochastic model and its scaled behavior, </span>a <span class="s246">scaled dec- larations, </span>b <span class="s246">scaled rate, </span>c <span class="s246">scaled trajectories (color figure online)</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s251" style="padding-top: 8pt;padding-left: 6pt;text-indent: 0pt;line-height: 108%;text-align: justify;"><a href="#bookmark191" style=" color: #131413; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt;">in Fig. </a><span style=" color: #00F;">25</span>c: <i>A </i>and <i>B </i>are slowly decaying, replaced by <i>C </i>and <i>D</i>. We notice that the trajectory is jittery and can be slightly different with every new simulation due to proba- bilistic nature of the stochastic process and relatively small amounts of molecules. The trajectories are smoother when quantities are much larger and approach the limit of the con- tinuous dynamics.</p><p class="s260" style="padding-left: 6pt;text-indent: 0pt;line-height: 106%;text-align: justify;"><span class="s258">Scaling </span><span class="s251">Usually, chemical reactions involve huge numbers of molecules with different orders of magnitude and thus some scaling of dimensions may be desired. Note that if the quantities are scaled by 1,000, then the exponential rate </span>gamma<span class="s252">∗</span>A<span class="s252">∗</span>B<span class="s252">∗</span>B <span class="s251">has to be scaled by 10</span><span class="s276">6</span><span class="s251"> (while the dynamical coefficients are scaled by 10</span><span class="s276">9</span><span class="s251">) and thus it is very easy to over- flow the default range of </span>int<a href="#bookmark192" style=" color: #131413; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt;">. Figure </a><span class="s305">26 </span><span class="s251">shows the same model but with molecule quantities scaled by 1,000. The simulated trajectories are divided by </span>s <span class="s251">back down to a comparable scale as in previous and next example. The simulated behavior is</span></p><p class="s251" style="padding-left: 6pt;text-indent: 0pt;text-align: justify;">smoother and closer to the dynamical model (shown next).</p><p class="s251" style="padding-top: 8pt;padding-left: 6pt;text-indent: 11pt;text-align: justify;">The default integer range is rather small (<span class="s252">±</span>2<span class="s276">16</span>), thus one may need to broaden it by defining a custom range. Uppaal supports integer ranges up to 32 bits, hence the type declaration <span class="s260">typedef int</span><span class="s252">[−</span><i>(</i><span class="s260">1 </span><i>&lt;&lt; </i><span class="s260">31</span><i>), (</i><span class="s260">1 </span><i>&lt;&lt; </i><span class="s260">31</span><i>) </i><span class="s252">− </span><span class="s260">1</span><span class="s252">] </span><span class="s260">int32</span>_<span class="s260">t</span><span class="s252">; </span>corresponds to a range of signed 32 bit integer. The range can be expanded further to a double precision float- ing point, but note that its precision is limited to 52 bits (<span class="s252">≈</span>4<i>.</i>5 <span class="s252">×</span>10<span class="s276">12</span>) and hence beyond that point minor increments (like <span class="s252">+</span>1) will not affect the variable value anymore.</p><p class="s258" style="padding-left: 6pt;text-indent: 0pt;line-height: 108%;text-align: justify;">Dynamical model <span class="s251">The same reaction can be rewritten using a set of differential equations describing the rate of change of the quantities:</span></p><p class="s252" style="padding-left: 6pt;text-indent: 0pt;line-height: 19pt;text-align: justify;"><span class="s327">⎧</span><span class="s328">⎪ </span><span class="s329">d</span><u>[</u><span class="s331">A</span><u>]</u><span class="s332"> </span>=− <span class="s258">γ </span>· [<span class="s258">A</span>]· [<span class="s258">B</span>]<span class="s276">2</span></p><p class="s325" style="padding-top: 9pt;padding-left: 6pt;text-indent: 0pt;text-align: left;">(a)</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="291" height="44" alt="image" src="Docs_files/Image_456.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="311" height="126" alt="image" src="Docs_files/Image_457.png"/></span></p><p class="s325" style="text-indent: 0pt;text-align: left;">(b)</p><p style="text-indent: 0pt;text-align: left;"/><p class="s325" style="padding-left: 6pt;text-indent: 0pt;text-align: left;">(c)</p><p class="s263" style="padding-left: 22pt;text-indent: 0pt;line-height: 7pt;text-align: left;"><a name="bookmark193"><span class="s333">d</span></a><span class="s334">t </span>Fig. 27 <span class="s246">Dynamical model and its behavior, </span>a <span class="s246">declarations, </span>b <span class="s246">automa-</span></p><p class="s328" style="padding-left: 6pt;text-indent: 0pt;line-height: 5pt;text-align: left;">⎪</p><p class="s328" style="text-indent: 0pt;line-height: 39%;text-align: left;">⎪<span class="s335">⎪</span><span class="s336">⎨         </span><span class="s303">2</span></p><p style="text-indent: 0pt;text-align: left;"/><p class="s337" style="padding-left: 17pt;text-indent: 0pt;line-height: 8pt;text-align: left;"><span class="s254">d</span>[<span class="s338">B</span>]</p><p class="s252" style="padding-left: 41pt;text-indent: 0pt;line-height: 8pt;text-align: left;">=− <span class="s258">γ </span>· [<span class="s258">A</span>]· [<span class="s258">B</span>] · <span class="s251">2</span></p><p class="s251" style="padding-left: 22pt;text-indent: 0pt;line-height: 9pt;text-align: left;">d<i>t</i></p><p class="s252" style="padding-left: 17pt;text-indent: 0pt;line-height: 10pt;text-align: left;"><span class="s329">d</span><u>[</u><span class="s331">C</span><u>]</u><span class="s332"> </span>=  <span class="s258">γ </span>· [<span class="s258">A</span>]· [<span class="s258">B</span>]<span class="s276">2</span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="77" height="33" alt="image" src="Docs_files/Image_458.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="219" height="76" alt="image" src="Docs_files/Image_459.png"/></span></p><p class="s328" style="padding-left: 6pt;text-indent: 0pt;line-height: 5pt;text-align: left;">⎪</p><p class="s246" style="padding-top: 4pt;padding-left: 6pt;text-indent: 0pt;text-align: left;">ton, <b>c </b>simulation (color figure online)</p><p class="s264" style="padding-top: 6pt;padding-left: 9pt;text-indent: 0pt;text-align: left;">(a)       (b)</p><p class="s251" style="padding-left: 22pt;text-indent: 0pt;line-height: 4pt;text-align: left;">d<i>t</i></p><p class="s328" style="padding-left: 6pt;text-indent: 0pt;line-height: 8pt;text-align: left;">⎪</p><p class="s328" style="text-indent: 0pt;line-height: 39%;text-align: left;">⎪<span class="s335">⎩</span></p><p style="text-indent: 0pt;text-align: left;"/><p class="s252" style="padding-left: 16pt;text-indent: 0pt;line-height: 16pt;text-align: left;"><span class="s329">d</span><u>[</u><span class="s331">D</span><u>]</u><span class="s332"> </span>=  <span class="s258">γ </span>· [<span class="s258">A</span>]· [<span class="s258">B</span>]<span class="s276">2</span><span class="s251"> </span>· <span class="s251">3</span></p><p class="s251" style="padding-left: 22pt;text-indent: 0pt;line-height: 9pt;text-align: left;">d<i>t</i></p><p class="s251" style="padding-top: 3pt;padding-left: 6pt;text-indent: 0pt;line-height: 108%;text-align: justify;"><a href="#bookmark193" style=" color: #131413; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt;" name="bookmark194">The idea here is that the rate of change in quantities is propor- tional to the speed of reaction and concentration of materials. The contribution to various materials is then scaled by coef- ficients from the original reaction. We have one equation per each material mentioned. If there are more reactions then their contributions can be added up to the same system of differential equations either as separate extra terms or a sep- arate equation for each new chemical. Figure </a><span style=" color: #00F;">27 </span>shows the dynamical model and its behavior. The quantities are cap- tured by dynamical clock variables <span class="s260">A</span>, <span class="s260">B</span>, <span class="s260">C </span>and <span class="s260">D </span>and the same reaction coefficient <span class="s260">gamma</span><a href="#bookmark193" style=" color: #131413; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt;">. The differential equations are then typeset as a single invariant of derivative expressions in Lagrange’s prime notation (Fig. </a><span style=" color: #00F;">27</span>b). We also added an escape transition if/when the quantity of <i>A </i><a href="#bookmark193" style=" color: #131413; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt;">reaches zero, i.e., the reaction stops. The trajectories can be inspected by the same simulation query as previously and the result is shown in Fig. </a><span style=" color: #00F;">27</span><a href="#bookmark204" style=" color: #131413; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt;">c. Notice that the trajectory is smoother, very close to the scaled-up stochastic simulation, and is the same every time (deterministic), because ordinary differential equations have one fixed solution for the same initial conditions. Some ODE systems might require tuning the discrete integration step in the Statistical parameters from the Options menu: the smaller the step the more precise simulation is, but it is also computationally more expensive. Stiff systems may require smaller integration steps. A more complicated biochemical model can be found in a study of a circadian rhythm genetic oscillator [</a><span style=" color: #00F;">20</span><a href="#bookmark213" style=" color: #131413; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt;">,</a><span style=" color: #00F;">24</span>].</p><p style="text-indent: 0pt;text-align: left;"><br/></p></li><li data-list-text="7.5"><p class="s251" style="padding-left: 21pt;text-indent: -15pt;text-align: left;"><a name="bookmark157">How to obtain distributions over costs</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s251" style="padding-left: 6pt;text-indent: 0pt;line-height: 11pt;text-align: justify;">When the user checks queries to evaluate probabilities, e.g.,</p><p class="s260" style="padding-left: 6pt;text-indent: 0pt;line-height: 13pt;text-align: justify;">Pr<span class="s252">[</span><span class="s258">&lt;</span><span class="s252">= </span>100<span class="s252">]</span><span class="s258">(&lt;&gt; </span>Proc<span class="s258">.</span>Goal<span class="s258">)</span><span class="s251">, Uppaal SMC keeps track of</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s339" style="padding-left: 13pt;text-indent: 0pt;text-align: left;"><span><img width="65" height="33" alt="image" src="Docs_files/Image_460.png"/></span>	<span><img width="20" height="7" alt="image" src="Docs_files/Image_461.png"/></span></p><p class="s264" style="padding-top: 6pt;padding-bottom: 3pt;padding-left: 13pt;text-indent: 0pt;text-align: left;">(c)</p><p style="padding-left: 8pt;text-indent: 0pt;text-align: left;"><span><img width="308" height="129" alt="image" src="Docs_files/Image_462.png"/></span></p><p class="s263" style="padding-top: 9pt;padding-left: 6pt;text-indent: 0pt;text-align: justify;">Fig. 28 <span class="s246">Cost estimation in terms of energy, </span>a <span class="s246">model, </span>b <span class="s246">trajectories of energy and power, </span>c <span class="s246">estimated energy probability distribution (color figure online)</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s251" style="padding-left: 6pt;text-indent: 0pt;text-align: justify;">when the runs satisfy the specified goal state and uses this information to build a frequency histogram. Specifically, what is counted is the number of runs that were satisfied at a given “time” as defined by the bound of the run. When no explicit variable is used, e.g., <i>&lt;</i><span class="s252">= </span><span class="s260">100</span>, the plot is the count of satisfied runs as a function of time, discretized in the his- togram bars (so in fact in function of time intervals). When a clock variable is used, the plot is in function of this variable. Alternatively, the runs can be bound by number of discrete steps of the form # <i>&lt;</i><span class="s252">= </span><span class="s260">100</span>.</p><p class="s251" style="padding-left: 6pt;text-indent: 11pt;line-height: 108%;text-align: justify;"><a href="#bookmark194" style=" color: #131413; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt;">Now suppose that we want to estimate a cost expressed as some energy consumption. To illustrate this, let us con- sider the example in Fig. </a><span style=" color: #00F;">28</span>a. In this model, a random power level is chosen stochastically and the corresponding energy consumption is integrated by Uppaal SMC. The evolution of the energy is naturally expressed by the equation <span class="s260">E’==P</span>.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s260" style="padding-top: 4pt;padding-left: 6pt;text-indent: 11pt;text-align: justify;"><a href="#bookmark194" style=" color: #131413; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt;">Figure </a><span class="s305">28</span><span class="s251">b shows one stochastic simulation bounded by  two  time  units  obtained  with  the  query </span>simulate 1<span class="s252">[</span><span class="s258">&lt;</span><span class="s252">= </span>2<span class="s252">]{</span>E<span class="s258">, </span>P<span class="s252">}</span><span class="s251">. Every run will have its own energy consumption. The question is to know the mean of the energy consumption and its distribution over runs bounded by two time units. To obtain this we check the query </span>Pr<span class="s252">[</span>E <span class="s258">&lt;</span><span class="s252">= </span>10<span class="s252">]</span><span class="s258">(&lt;&gt; </span>t <span class="s252">== </span>2<span class="s258">)</span><span class="s251">. The trick is that first we bound the actual energy by a </span><span class="s258">high enough </span><span class="s251">bound that covers the reachable range for all runs. It could be </span>E <span class="s258">&lt;</span><span class="s252">= </span>1000 <a href="#bookmark196" style=" color: #131413; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt;">if the user is unsure. Second, the goal state is the time bound that will be reached since time progresses.</a><span style=" color: #00F; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 6.5pt; vertical-align: 3pt;">3</span><span class="s305"> </span><span class="s251">The result probability is one but this is not the point. The point is the distribution generated by this query. Uppaal SMC will record “when” (in function of the bound) the runs reach the goal, here </span>t==2<a href="#bookmark194" style=" color: #131413; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt;">. We obtain now a distribution of energy consumption on runs bounded by two time units as shown in Fig. </a><span class="s305">28</span><span class="s251">c.</span></p><p class="s258" style="padding-top: 8pt;padding-left: 6pt;text-indent: 0pt;line-height: 106%;text-align: justify;"><a name="bookmark195">Remarks </a><a href="#bookmark181" style=" color: #131413; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt;">If the suggested query is checked with the default settings the obtained histogram will have poor precision because Uppaal SMC does not need many runs to conclude that the result probability is one. The user should increase the precision by changing the SMC options as described in Sect. </a><span class="s305">6</span><a href="#bookmark194" style=" color: #131413; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt;">. Specifically, Fig. </a><span class="s305">28</span><span class="s251">c was obtained from 7598 runs using </span>α <span class="s252">= </span><span class="s251">0</span>.<span class="s251">001 and </span>ε <span class="s252">= </span><span class="s251">0</span>.<span class="s251">0005.</span></p><p class="s251" style="padding-left: 6pt;text-indent: 11pt;line-height: 108%;text-align: justify;"><a name="bookmark159">It is also possible to estimate discrete costs even though the tool does not support integers as bounds. Users can use clocks for this purpose by maintaining their rates to zero and updating them manually. For example, if </a><span class="s260">c </span>is a counter, then it is declared as a clock. Then the user adds one process with one location and no transition with the invariant <span class="s260">c’==0</span>.</p><p class="s260" style="padding-left: 6pt;text-indent: 0pt;text-align: justify;"><span class="s251">Finally, the increment </span>c=c+1 <span class="s251">is used wherever necessary and the bound </span>c <span class="s258">&lt;</span><span class="s252">= </span>100 <span class="s251">can now be used.</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p></li><li data-list-text="7.6"><p class="s251" style="padding-left: 21pt;text-indent: -15pt;text-align: left;"><a name="bookmark158">How to model custom discretizations</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s258" style="padding-left: 6pt;text-indent: 0pt;line-height: 108%;text-align: justify;">Problem <span class="s251">Sometimes users want to use a custom integration method or want to change the integration granularity at the level of locations. Uppaal SMC uses a global time step when it detects that some integration is needed. It may be better for performance or precision to change this step depending on the locations and the type of equation to integrate.</span></p><p class="s305" style="padding-top: 8pt;padding-left: 6pt;text-indent: 0pt;line-height: 108%;text-align: justify;"><span class="s258">Modeling </span><a href="#bookmark195" style=" color: #131413; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt;">The modeling trick consists of using a “high” expo- nential rate on the locations where the manual discretization is needed. The tool will then take small delay steps, albeit ran- dom according to an exponential distribution with high rate, which allows for custom discretization. Figure </a>29 <a href="#bookmark197" style=" color: #131413; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt;">shows an example of the temperature of a room that can have a heater turned on or off.</a><span style=" color: #00F; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 6.5pt; vertical-align: 3pt;">4</span> <span style=" color: #131413;">The value of </span><span class="s260">RATE </span><span style=" color: #131413;">controls the precision. The functions for cooling and heating are depicted in Listing</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 6pt;text-indent: 0pt;line-height: 1pt;text-align: left;"><span><img width="68" height="1" alt="image" src="Docs_files/Image_463.png"/></span></p><p class="s306" style="padding-left: 6pt;text-indent: 0pt;text-align: left;">3 <span class="s275">Uppaal SMC detects Zeno runs and rejects models producing them.</span></p><p class="s306" style="padding-top: 2pt;padding-left: 6pt;text-indent: 0pt;text-align: left;"><a name="bookmark160">4 </a><span class="s275">The actual controller is not important for this example and is not given here.</span><a name="bookmark196">&zwnj;</a><a name="bookmark197">&zwnj;</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 17pt;text-indent: 0pt;text-align: left;"><span><img width="296" height="112" alt="image" src="Docs_files/Image_464.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="159" height="51" alt="image" src="Docs_files/Image_465.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="144" height="70" alt="image" src="Docs_files/Image_466.png"/></span></p><p class="s264" style="padding-top: 1pt;padding-left: 239pt;text-indent: 0pt;text-align: center;">(a)</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="16" height="6" alt="image" src="Docs_files/Image_467.png"/></span></p><p class="s264" style="padding-top: 8pt;padding-left: 59pt;text-indent: 0pt;text-align: left;">(b)             (c)</p><p class="s246" style="padding-top: 9pt;padding-left: 6pt;text-indent: 0pt;text-align: justify;"><b>Fig. 29 </b>The temperature of a heated room with a manual discretization using a high exponential rate <span class="s273">RATE</span>, <b>a </b>variable and function declarations, <b>b </b>the model, <b>c </b>temperature trajectories</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s251" style="padding-left: 6pt;text-indent: 0pt;line-height: 108%;text-align: justify;">29a. The value of the clock <span class="s260">dt </span>is the time elapsed and is used for the integration. <span class="s260">KHEAT </span>and <span class="s260">KCOOL </span><a href="#bookmark195" style=" color: #131413; font-family:&quot;Times New Roman&quot;, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt;">are constants used in the model. The result of a simulation is shown in Fig. </a><span style=" color: #00F;">29</span>. This manual encoding replaces, resp., <span class="s260">T’==-T/KCOOL </span>and <span class="s260">T’==KHEAT-T/KCOOL </span>for, resp., cooling and heating. The example also illustrates a recent new feature of the language, namely initializers for clocks with the declaration <span class="s260">T = T0[i]</span>, where <span class="s260">T0 </span>is declared as <span class="s260">const double T0={70.0,60.0}</span>.</p><p style="text-indent: 0pt;text-align: left;"><br/></p></li></ol></li><li data-list-text="8"><p class="s249" style="padding-left: 14pt;text-indent: -8pt;text-align: justify;">Conclusion</p></li></ol><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s251" style="padding-left: 6pt;text-indent: 0pt;line-height: 108%;text-align: justify;">This paper presented Uppaal SMC as an efficient tool for evaluating performance properties of stochastic hybrid sys- tems. The modeling language has been extended to han- dle dynamical behaviors, discrete probabilities, a stochas- tic interpretation for timed delays and even dynamic process creation—far beyond analytically tools reach. Most impor- tantly the old Uppaal models require only small changes to benefit also from Uppaal SMC features, thus it is straight- forward to gain also performance measures in addition to firm results. The paper also includes tricks for handling more problematic corner cases to satisfy Uppaal SMC assump- tions and in particular how to transform handshake synchro- nization to broadcast synchronization. The query language has been expanded to request simulation trajectories, com- pute probabilistic aspects and evaluate weighted MITL for- mulas.</p><p class="s251" style="padding-left: 6pt;text-indent: 11pt;line-height: 108%;text-align: justify;">In the future, we intend to include better ODE solvers to improve dynamical simulations and improve the interactive concrete run simulator including a Gantt chart visualization of a run.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s263" style="padding-top: 5pt;padding-left: 6pt;text-indent: 0pt;text-align: justify;"><a name="bookmark198">Acknowledgments </a><span class="s246">The research leading to these results has received funding from the European Union Seventh Framework Programme (FP7/2007–2013) under grant agreements No. 318490 (SENSATION) and No. 601148 (CASSTING). Also the research has received funding from the Sino-Danish Basic Research Center IDEA4CPS funded by the Danish National Research Foundation and the National Science Foun- dation China. EU ARTEMIS grant agreement No. 269335 (MBAT).</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s249" style="padding-top: 5pt;padding-left: 6pt;text-indent: 0pt;text-align: left;"><a name="bookmark161">References</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><ol id="l112"><li data-list-text="1."><p class="s246" style="padding-left: 21pt;text-indent: -11pt;text-align: justify;"><a name="bookmark199">Alur, R., Dill, D.L.: A theory of timed automata. Theor. Comput. Sci. </a><b>126</b>(2), 183–235 (1994)<a name="bookmark200">&zwnj;</a><a name="bookmark201">&zwnj;</a><a name="bookmark202">&zwnj;</a></p></li><li data-list-text="2."><p class="s246" style="padding-left: 21pt;text-indent: -11pt;text-align: justify;"><a name="bookmark203">Alur, R., Feder, T., Henzinger, T.A.: The benefits of relaxing punc- tuality. J. ACM </a><b>43</b>(1), 116–146 (1996)</p></li><li data-list-text="3."><p class="s246" style="padding-left: 21pt;text-indent: -11pt;text-align: justify;"><a name="bookmark204">Boyer, B., Corre, K., Legay, A., Sedwards, S.: Plasma-lab: a flexi- ble, distributable statistical model checking library. In: QEST, pp. 160–164 (2013)</a><a name="bookmark205">&zwnj;</a></p></li><li data-list-text="4."><p class="s246" style="padding-left: 21pt;text-indent: -11pt;text-align: justify;"><a name="bookmark206">Behrmann, G., David, A., Larsen, K.G.: A tutorial on Uppaal. Lec- ture Notes in Computer Science. pp. 200–236 (2004)</a><a name="bookmark207">&zwnj;</a></p></li><li data-list-text="5."><p class="s246" style="padding-left: 21pt;text-indent: -11pt;text-align: justify;"><a name="bookmark208">Behrmann, G., David, A., Larsen, K.G., Pettersson, P., Yi, W.: Developing uppaal over 15 years. Softw. Pract. Exp. </a><b>41</b>(2), 133– 142 (2011)</p></li><li data-list-text="6."><p class="s246" style="padding-left: 21pt;text-indent: -11pt;text-align: justify;"><a name="bookmark209">Bulychev, P., David, A., Larsen, K.G., Legay, A., Li, G., Poulsen, D.B.: Rewrite-based statistical model checking of wmtl. In: Run- time Verification, vol. 7687 of LNCS, pp. 260–275 (2012)</a><a name="bookmark210">&zwnj;</a><a name="bookmark211">&zwnj;</a></p></li><li data-list-text="7."><p class="s246" style="padding-left: 21pt;text-indent: -11pt;text-align: justify;"><a name="bookmark212">Bulychev, P., David, A., Larsen, K.G., Legay, A., Li, G., Poulsen, D.B., Stainer, A.: Monitor-based statistical model checking for weighted metric temporal logic. In: Nikolaj, B., Voronkov, A. (eds.) 18th International Conference on Logic for Programming, Artifi- cial Intelligence, and Reasoning, vol. 7180 of LNCS, pp. 168–182. Springer (2012)</a><a name="bookmark213">&zwnj;</a></p></li><li data-list-text="8."><p class="s246" style="padding-left: 21pt;text-indent: -11pt;text-align: justify;"><a name="bookmark214">Bulychev, P.E., David, A., Larsen, K.G., Legay, A., Mikucˇionis, M., Poulsen, D.B.: Checking and distributing statistical model check- ing. In: NASA Formal Methods, vol. 7226 of Lecture Notes in Computer Science, pp. 449–463. Springer (2012)</a><a name="bookmark215">&zwnj;</a></p></li><li data-list-text="9."><p class="s246" style="padding-left: 21pt;text-indent: -11pt;text-align: justify;"><a name="bookmark216">Behrmann, G., David, A., Larsen, K.G., Yi, W.: Unification &amp; shar- ing in timed automata verification. In: SPIN Workshop 03, vol. 2648 of LNCS, pp. 225–229 (2003)</a><a name="bookmark217">&zwnj;</a></p></li><li data-list-text="10."><p class="s246" style="padding-left: 21pt;text-indent: -15pt;text-align: justify;"><a name="bookmark218">Behrmann, G.: Distributed reachability analysis in timed automata. STTT </a><b>7</b>(1), 19–30 (2005)</p></li><li data-list-text="11."><p class="s246" style="padding-left: 21pt;text-indent: -15pt;text-align: justify;"><a name="bookmark219">Behrmann, G., Fehnker, A., Hune, T., Larsen, K.G., Pettersson, P., Romijn, J.: Efficient guiding towards cost-optimality in uppaal. In: Margaria, T., Yi, W. (eds.) Proceedings of the 7th International Con- ference on Tools and Algorithms for the construction and analysis of systems, number 2031 in Lecture Notes in Computer Science,</a><a name="bookmark220">&zwnj;</a></p><p class="s246" style="padding-left: 21pt;text-indent: 0pt;line-height: 10pt;text-align: justify;">pp. 174–188. Springer (2001)</p></li><li data-list-text="12."><p class="s246" style="padding-left: 21pt;text-indent: -15pt;text-align: justify;"><a name="bookmark221">Behrmann, G., Fehnker, A., Hune, T., Larsen, K.G., Petters- son, P., Romijn, J., Vaandrager, F.: Minimum-cost reachability for priced timed automata. In: Di Benedetto, M.D., Sangiovanni- Vincentelli, A. (eds.) Proceedings of the 4th International Work- shop on Hybris Systems: Computation and Control, number 2034 in Lecture Notes in Computer Sciences, pp. 147–161 Springer-Verlag (2001)</a><a name="bookmark222">&zwnj;</a><a name="bookmark223">&zwnj;</a></p></li><li data-list-text="13."><p class="s246" style="padding-left: 21pt;text-indent: -15pt;text-align: justify;"><a name="bookmark224">Behrmann, G., Hune, T., Vaandrager, F.: Distributed timed model checking: How the search order matters. In: Proceedings of 12th International Conference on Computer Aided Verification, Lecture Notes in Computer Science, Chicago, Springer, Jul (2000)</a><a name="bookmark225">&zwnj;</a></p></li><li data-list-text="14."><p class="s246" style="padding-left: 21pt;text-indent: -15pt;text-align: justify;"><a name="bookmark226">Broy, M., Jonsson, B., Katoen, J-P., Leucker, M., Pretschner, A. (eds.): Model-based testing of reactive systems, advanced lectures the volume is the outcome of a research seminar that was held in Schloss Dagstuhl in January 2004, vol. 3472 of Lecture Notes in Computer Science. Springer (2005)</a><a name="bookmark227">&zwnj;</a></p></li><li data-list-text="15."><p class="s246" style="padding-left: 21pt;text-indent: -15pt;text-align: justify;"><a name="bookmark228">Behrmann, G., Larsen, K.G., Pearson, J., Weise, C., Yi, W.: Effi- cient timed reachability analysis using clock difference d iagrams.</a><a name="bookmark229">&zwnj;</a></p><p class="s246" style="padding-top: 5pt;padding-left: 21pt;text-indent: 0pt;text-align: justify;">In: Proceedings of the 12th Int. Conf. on Computer Aided Verifi- cat ion, vol. 1633 of Lecture Notes in Computer Science. Springer (1999)</p></li><li data-list-text="16."><p class="s246" style="padding-left: 21pt;text-indent: -15pt;text-align: justify;">Clarke, E.M., Faeder, J.R., Langmead, C.J., Harris, L.A., Jha, S.K., Legay, A.: Statistical model checking in biolab: applications to the automated analysis of t-cell receptor signaling pathway. In: CMSB, LNCS, pp. 231–250 (2008)</p></li><li data-list-text="17."><p class="s246" style="padding-left: 21pt;text-indent: -15pt;text-align: justify;">Clarke, E., Grumberg, O., Peled, D.: Model Checking. MIT Press, Cambridge (1999)</p></li><li data-list-text="18."><p class="s246" style="padding-left: 21pt;text-indent: -15pt;text-align: justify;">Chernoff, H.: A measure of asymptotic efficiency for tests of a hypothesis based on the sum of observations. Ann. Math. Stat. <b>23</b>(4), 493–507 (1952)</p></li><li data-list-text="19."><p class="s246" style="padding-left: 21pt;text-indent: -15pt;text-align: justify;">Clopper, C.J., Pearson, E.S.: The use of confidence or fiducial limits illustrated in the case of the binomial. Biometrika <b>26</b>(4), 404–413 (1934)</p></li><li data-list-text="20."><p class="s246" style="padding-left: 21pt;text-indent: -15pt;text-align: justify;">David, A., Du, D., Larsen, K.G., Legay, A., Mikucˇionis, M., Poulsen, D.B., Sedwards, S.: Statistical model checking for sto- chastic hybrid systems. In: Bartocci, E., Bortolussi, L. (eds.) HSB, vol. 92 of EPTCS, pp. 122–136 (2012)</p></li><li data-list-text="21."><p class="s246" style="padding-left: 21pt;text-indent: -15pt;text-align: justify;">David, A., Du, D., Larsen, K.G., Legay, A., Mikucˇionis, M.: Opti- mizing control strategy using statistical model checking. In: NASA formal methods, vol. 7871 of Lecture Notes in Computer Science,</p><p class="s246" style="padding-left: 21pt;text-indent: 0pt;line-height: 10pt;text-align: justify;">pp. 352–367. Springer (2013)</p></li><li data-list-text="22."><p class="s246" style="padding-left: 21pt;text-indent: -15pt;text-align: justify;">David, A., Jensen, P.G., Larsen, K.G., Legay, A., Lime, D., Søre- sensen, M.G., Taankvist, J.H.: On time with miniam expected cost</p></li><li data-list-text="23."><p class="s246" style="padding-left: 21pt;text-indent: -15pt;text-align: justify;">David, A., Larsen, K.G., Legay, A., Mikucˇionis, M., Poulsen, D.B., Vliet, J.V., Wang, Z.: Statistical model checking for networks of priced timed automata. In: FORMATS, LNCS, pp. 80–96. Springer (2011)</p></li><li data-list-text="24."><p class="s246" style="padding-left: 21pt;text-indent: -15pt;text-align: justify;">David, A., Larsen, K.G., Legay, A., Mikucˇionis, M., Poulsen, D.B., Sedwards, S.: Runtime verification of biological systems. In: Mar- garia, T., Steffen, B. (eds.), ISoLA (1), vol. 7609 of Lecture Notes in Computer Science, pp. 388–404. Springer (2012)</p></li><li data-list-text="25."><p class="s246" style="padding-left: 21pt;text-indent: -15pt;text-align: justify;">David, A., Möller, M.O., Yi, W.: Formal verification of UML stat- echarts with real-time extensions. In: Kutsche, R.-D., Weber, H. (eds.) Fundamental Approaches to Software Engineering, 5th Inter- national Conference, FASE 2002, vol. 2306 of LNCS, pp. 218–232. Springer (2002)</p></li><li data-list-text="26."><p class="s246" style="padding-left: 21pt;text-indent: -15pt;text-align: justify;">Henriques, D., Martins, J.G., Zuliani, P., Platzer, A., Clarke, E.M.: Statistical model checking for markov decision processes. In: Ninth International Conference on Quantitative Evaluation of Systems, QEST 2012, London, United Kingdom, Sept 17–20, 2012, pp. 84–</p><p class="s246" style="padding-left: 21pt;text-indent: 0pt;line-height: 10pt;text-align: justify;">93. IEEE Computer Society (2012)</p></li><li data-list-text="27."><p class="s246" style="padding-left: 21pt;text-indent: -15pt;text-align: justify;">Hartmanns, A.: Model-checking and simulation for stochastic timed systems. In: Bernhard, K.A., De Boer, F.S., Marcello M.B. (eds.) FMCO, vol. 6957 of Lecture Notes in Computer Science,</p><p class="s246" style="padding-left: 21pt;text-indent: 0pt;line-height: 10pt;text-align: justify;">pp. 372–391. Springer (2010)</p></li><li data-list-text="28."><p class="s246" style="padding-left: 21pt;text-indent: -15pt;text-align: justify;">Henzinger, T.A., Ho, P.-H.: Algorithmic analysis of nonlinear hybrid systems. In: Wolper, P. (ed.) Computer Aided Verification, 7th International Conference, Liège, Belgium, July, 3–5, 1995, Pro- ceedings, vol. 939 of Lecture Notes in Computer Science, pp. 225–</p><p class="s246" style="padding-left: 21pt;text-indent: 0pt;line-height: 10pt;text-align: justify;">238. Springer (1995)</p></li><li data-list-text="29."><p class="s246" style="padding-left: 21pt;text-indent: -15pt;text-align: justify;">Hendriks, M., Larsen, K.G.: Exact acceleration of real-time model checking. In: Asarin, E., Maler, O., Yovine, S. (eds.) Electronic Notes in Theoretical Computer Science, vol. 65. Elsevier Science Publishers (2002)</p></li><li data-list-text="30."><p class="s246" style="padding-left: 21pt;text-indent: -15pt;text-align: justify;">Hérault, T., Lassaigne, R., Magniette, F., Peyronnet, S.: Approxi- mate probabilistic model checking. In: Steffen, B., Levi, G. (eds.) Verification, Model Checking, and Abstract Interpretation, vol. 2937 of Lecture Notes in Computer Science, pp. 73–84. Springer, Berlin, Heidelberg (2004)</p></li><li data-list-text="31."><p class="s246" style="padding-left: 21pt;text-indent: -15pt;text-align: justify;">Hoeffding, W.: Probability inequalities for sums of bounded ran- dom variables. J. Am. Stat. Assoc. <b>58</b>(301), 13–30 (1963)</p></li><li data-list-text="32."><p class="s246" style="padding-left: 21pt;text-indent: -15pt;text-align: justify;">Jha, S.K., Clarke, E.M., Langmead, C.J., Legay, A., Platzer, A., Zuliani, P.: A bayesian approach to model checking biological sys- tems. In: CMSB, vol. 5688 of LNCS, pp. 218–234. Springer (2009)</p><p style="text-indent: 0pt;text-align: left;"><br/></p></li><li data-list-text="33."><p class="s246" style="padding-top: 4pt;padding-left: 21pt;text-indent: -15pt;text-align: justify;"><a name="bookmark230">Jégourel, C., Legay, A., Sedwards, S.: Importance splitting for sta- tistical model checking rare properties. In: CAV, vol. 8044 of Lec- ture Notes in Computer Science, pp. 576–591. Springer (2013)</a></p></li><li data-list-text="34."><p class="s246" style="padding-left: 21pt;text-indent: -15pt;text-align: justify;"><a name="bookmark231">Kwiatkowska, M.Z., Norman, G., Parker, D.: Prism 2.0: A tool for probabilistic model checking. In: Proc. of 1th Int. Conference on the Quantitative Evaluation of Systems (QEST), pp. 322–323. IEEE (2004)</a><a name="bookmark232">&zwnj;</a></p></li><li data-list-text="35."><p class="s246" style="padding-left: 21pt;text-indent: -15pt;text-align: justify;"><a name="bookmark233">Larsen, K.G., Behrmann, G., Brinksma, E., Fehnker, A., Hune, T., Pettersson, P., Romijn, J.: As cheap as possible: efficient cost- optimal reachability for priced timed automata. In: Berry, G., Comon, H., Finkel, A. (eds.) Proceedings of CAV 2001, number 2102 in Lecture Notes in Computer Science, pp. 493–505. Springer (2001)</a><a name="bookmark234">&zwnj;</a><a name="bookmark235">&zwnj;</a><a name="bookmark236">&zwnj;</a></p></li><li data-list-text="36."><p class="s246" style="padding-left: 21pt;text-indent: -15pt;text-align: justify;"><a name="bookmark237">Larsson, F., Larsen, K.G.,Pettersson, P., Yi, W.: Efficient verifica- tion of real-time systems: Compact data structures and state-space reduction. In: Proc. of the 18th IEEE Real-Time Systems Sympo- sium, pp. 14–24. IEEE Computer Society Press (1997)</a></p></li><li data-list-text="37."><p class="s246" style="padding-left: 21pt;text-indent: -15pt;text-align: justify;"><a name="bookmark238">Larsen, K.G., Pettersson, P., Yi, W.: Uppaal in a Nutshell. Int. J. Softw. Tools Technol. Transf. </a><b>1</b>(1–2), 134–152 (1997)</p></li><li data-list-text="38."><p class="s246" style="padding-top: 4pt;padding-left: 21pt;text-indent: -15pt;text-align: justify;">Sen, K., Viswanathan, M., Agha, G.: Statistical model checking of black-box probabilistic systems. In: CAV, LNCS 3114, pp. 202–</p><p class="s246" style="padding-left: 21pt;text-indent: 0pt;line-height: 10pt;text-align: justify;">215. Springer (2004)</p></li><li data-list-text="39."><p class="s246" style="padding-left: 21pt;text-indent: -15pt;text-align: justify;">Theelen, B.D.: Performance modelling for system-level design. Ph.D. thesis, Eindhoven University of Technology, (2004) ISBN 90-386-1633-3</p></li><li data-list-text="40."><p class="s246" style="padding-left: 21pt;text-indent: -15pt;text-align: justify;">Wald, A.: Sequential tests of statistical hypotheses. Ann. Math. Stat. <b>16</b>(2), 117–186 (1945)</p></li><li data-list-text="41."><p class="s246" style="padding-left: 21pt;text-indent: -15pt;text-align: justify;">Younes, H.L.S.: Verification and planning for stochastic processes with asynchronous events. Ph.D. thesis, Carnegie Mellon (2005)</p></li><li data-list-text="42."><p class="s246" style="padding-left: 21pt;text-indent: -15pt;text-align: justify;">Yi, W., Pettersson, P., Daniels, M.: Automatic verification of real- time communicating systems by constraint-solving. In: Proceed- ings of the 7th IFIP WG6.1 International Conference on Formal Description Techniques VII, pp. 243–258, London, UK, UK, Chap- man &amp; Hall Ltd (1995)</p></li></ol></body></html>
